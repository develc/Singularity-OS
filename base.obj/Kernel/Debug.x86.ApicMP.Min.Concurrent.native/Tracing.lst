; Listing generated by Microsoft (R) Optimizing Compiler Version 14.00.50727.762 

	TITLE	C:\Users\cc\source\repos\Singularity-OS\base\Kernel\Native\Tracing.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?TracingStorageHandle@@3PAUuintPtr@@A		; TracingStorageHandle
PUBLIC	?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A	; TracingSource
PUBLIC	?TracingTypeHandle@@3PAUuintPtr@@A		; TracingTypeHandle
_BSS	SEGMENT
?TracingStorageHandle@@3PAUuintPtr@@A DD 01H DUP (?)	; TracingStorageHandle
?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A DD 01H DUP (?) ; TracingSource
?TracingTypeHandle@@3PAUuintPtr@@A DD 01H DUP (?)	; TracingTypeHandle
_BSS	ENDS
PUBLIC	?GetCurrentProcessId@@YIGXZ			; GetCurrentProcessId
EXTRN	?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ:PROC ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
; Function compile flags: /Ogtp
; File c:\users\cc\source\repos\singularity-os\base\kernel\native\tracing.cpp
;	COMDAT ?GetCurrentProcessId@@YIGXZ
_TEXT	SEGMENT
?GetCurrentProcessId@@YIGXZ PROC			; GetCurrentProcessId, COMDAT

; 24   :     return Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext()->processId;

  00000	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  00005	66 8b 80 74 02
	00 00		 mov	 ax, WORD PTR [eax+628]

; 25   : }

  0000c	c3		 ret	 0
?GetCurrentProcessId@@YIGXZ ENDP			; GetCurrentProcessId
_TEXT	ENDS
PUBLIC	??_C@_0O@GEOOMBLE@LegacyTracing?$AA@		; `string'
PUBLIC	?g_Initialize@Class_Microsoft_Singularity_Tracing@@SIXXZ ; Class_Microsoft_Singularity_Tracing::g_Initialize
EXTRN	?GetSourceFromHandle@@YIPAU_SOURCE_DESCRIPTOR@@PAUuintPtr@@@Z:PROC ; GetSourceFromHandle
EXTRN	?RegisterNativeSource@@YIPAUuintPtr@@PADPAU1@I@Z:PROC ; RegisterNativeSource
EXTRN	?g_MemoryStorageCreateImpl@Class_Microsoft_Singularity_Eventing_MemoryStorage@@SIPAUuintPtr@@IPAEII@Z:PROC ; Class_Microsoft_Singularity_Eventing_MemoryStorage::g_MemoryStorageCreateImpl
EXTRN	?InitializeRegistrationSystem@@YIXPAXI@Z:PROC	; InitializeRegistrationSystem
EXTRN	?c_thePlatform@Class_Microsoft_Singularity_Hal_Platform@@2PAU1@A:DWORD ; Class_Microsoft_Singularity_Hal_Platform::c_thePlatform
;	COMDAT ??_C@_0O@GEOOMBLE@LegacyTracing?$AA@
CONST	SEGMENT
??_C@_0O@GEOOMBLE@LegacyTracing?$AA@ DB 'LegacyTracing', 00H ; `string'
; Function compile flags: /Ogtp
CONST	ENDS
;	COMDAT ?g_Initialize@Class_Microsoft_Singularity_Tracing@@SIXXZ
_TEXT	SEGMENT
?g_Initialize@Class_Microsoft_Singularity_Tracing@@SIXXZ PROC ; Class_Microsoft_Singularity_Tracing::g_Initialize, COMDAT

; 30   : {

  00000	56		 push	 esi

; 31   : #if SINGULARITY_KERNEL
; 32   : 
; 33   :     Class_Microsoft_Singularity_Hal_Platform *platform = Class_Microsoft_Singularity_Hal_Platform::c_thePlatform;

  00001	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?c_thePlatform@Class_Microsoft_Singularity_Hal_Platform@@2PAU1@A ; Class_Microsoft_Singularity_Hal_Platform::c_thePlatform

; 34   : 
; 35   :     InitializeRegistrationSystem((void *)platform->LogTextBuffer,
; 36   :                                   platform->LogTextSize);

  00007	8b 96 88 00 00
	00		 mov	 edx, DWORD PTR [esi+136]
  0000d	8b 8e 84 00 00
	00		 mov	 ecx, DWORD PTR [esi+132]
  00013	e8 00 00 00 00	 call	 ?InitializeRegistrationSystem@@YIXPAXI@Z ; InitializeRegistrationSystem

; 37   : 
; 38   :     TracingStorageHandle = Class_Microsoft_Singularity_Eventing_MemoryStorage::
; 39   :         g_MemoryStorageCreateImpl(MEMORY_STORAGE_FLAGS_RECYCLE_MEMORY,
; 40   :                                   (uint8 *)platform->LogRecordBuffer,
; 41   :                                   (uint32)platform->LogRecordSize,
; 42   :                                   0);

  00018	8b 86 80 00 00
	00		 mov	 eax, DWORD PTR [esi+128]
  0001e	8b 56 7c	 mov	 edx, DWORD PTR [esi+124]
  00021	6a 00		 push	 0
  00023	50		 push	 eax
  00024	b9 02 00 00 00	 mov	 ecx, 2
  00029	e8 00 00 00 00	 call	 ?g_MemoryStorageCreateImpl@Class_Microsoft_Singularity_Eventing_MemoryStorage@@SIPAUuintPtr@@IPAEII@Z ; Class_Microsoft_Singularity_Eventing_MemoryStorage::g_MemoryStorageCreateImpl

; 43   :     if (TracingStorageHandle) {

  0002e	85 c0		 test	 eax, eax
  00030	a3 00 00 00 00	 mov	 DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A, eax ; TracingStorageHandle
  00035	5e		 pop	 esi
  00036	74 1d		 je	 SHORT $LN1@g_Initiali

; 44   : 
; 45   :         UIntPtr sourceHandle = RegisterNativeSource("LegacyTracing",
; 46   :                                                     TracingStorageHandle,
; 47   :                                                     Tracing_ControlFlag_Active);

  00038	68 00 00 01 00	 push	 65536			; 00010000H
  0003d	8b d0		 mov	 edx, eax
  0003f	b9 00 00 00 00	 mov	 ecx, OFFSET ??_C@_0O@GEOOMBLE@LegacyTracing?$AA@
  00044	e8 00 00 00 00	 call	 ?RegisterNativeSource@@YIPAUuintPtr@@PADPAU1@I@Z ; RegisterNativeSource

; 48   :         TracingSource = GetSourceFromHandle(sourceHandle);

  00049	8b c8		 mov	 ecx, eax
  0004b	e8 00 00 00 00	 call	 ?GetSourceFromHandle@@YIPAU_SOURCE_DESCRIPTOR@@PAUuintPtr@@@Z ; GetSourceFromHandle
  00050	a3 00 00 00 00	 mov	 DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A, eax ; TracingSource
$LN1@g_Initiali:

; 49   :     }
; 50   : 
; 51   : 
; 52   : #elif SINGULARITY_PROCESS
; 53   : 
; 54   :     Struct_Microsoft_Singularity_V1_Services_ProcessService::
; 55   :         g_GetSharedSourceHandles(Class_Microsoft_Singularity_Eventing_Controller_TracingInfo,
; 56   :                                  &TracingStorageHandle,
; 57   :                                  (UIntPtr *)&TracingSource,
; 58   :                                  &TracingTypeHandle);
; 59   : 
; 60   : #else
; 61   : #error "File should be compiled with SINGULARITY_KERNEL or SINGULARITY_PROCESS"
; 62   : #endif
; 63   : }

  00055	c3		 ret	 0
?g_Initialize@Class_Microsoft_Singularity_Tracing@@SIXXZ ENDP ; Class_Microsoft_Singularity_Tracing::g_Initialize
_TEXT	ENDS
PUBLIC	?IsTracingEnabled@@YI_NXZ			; IsTracingEnabled
; Function compile flags: /Ogtp
;	COMDAT ?IsTracingEnabled@@YI_NXZ
_TEXT	SEGMENT
?IsTracingEnabled@@YI_NXZ PROC				; IsTracingEnabled, COMDAT

; 67   :     return ((TracingSource != NULL) &&
; 68   :             (TracingSource->ControlFlags & Tracing_ControlFlag_Active));

  00000	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00005	85 c0		 test	 eax, eax
  00007	74 0f		 je	 SHORT $LN3@IsTracingE
  00009	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  00010	74 06		 je	 SHORT $LN3@IsTracingE
  00012	b8 01 00 00 00	 mov	 eax, 1

; 69   : }

  00017	c3		 ret	 0
$LN3@IsTracingE:

; 67   :     return ((TracingSource != NULL) &&
; 68   :             (TracingSource->ControlFlags & Tracing_ControlFlag_Active));

  00018	33 c0		 xor	 eax, eax

; 69   : }

  0001a	c3		 ret	 0
?IsTracingEnabled@@YI_NXZ ENDP				; IsTracingEnabled
_TEXT	ENDS
PUBLIC	?GetTracingHandles@@YI_NPAPAUuintPtr@@00@Z	; GetTracingHandles
; Function compile flags: /Ogtp
;	COMDAT ?GetTracingHandles@@YI_NPAPAUuintPtr@@00@Z
_TEXT	SEGMENT
_eventTypeHandle$ = 8					; size = 4
?GetTracingHandles@@YI_NPAPAUuintPtr@@00@Z PROC		; GetTracingHandles, COMDAT
; _storageHandle$ = ecx
; _sourceHandle$ = edx

; 76   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 77   :     *storageHandle = TracingStorageHandle;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  00008	89 01		 mov	 DWORD PTR [ecx], eax

; 78   :     *sourceHandle = (UIntPtr)TracingSource;

  0000a	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00010	89 0a		 mov	 DWORD PTR [edx], ecx

; 79   :     *eventTypeHandle = TracingTypeHandle;

  00012	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  00017	8b 55 08	 mov	 edx, DWORD PTR _eventTypeHandle$[ebp]
  0001a	89 02		 mov	 DWORD PTR [edx], eax

; 80   :     return true;

  0001c	b0 01		 mov	 al, 1

; 81   : }

  0001e	5d		 pop	 ebp
  0001f	c2 04 00	 ret	 4
?GetTracingHandles@@YI_NPAPAUuintPtr@@00@Z ENDP		; GetTracingHandles
_TEXT	ENDS
PUBLIC	?CompareExchange@@YIPAEPAPAEPAE1@Z		; CompareExchange
; Function compile flags: /Ogtp
;	COMDAT ?CompareExchange@@YIPAEPAPAEPAE1@Z
_TEXT	SEGMENT
_comp$ = 8						; size = 4
?CompareExchange@@YIPAEPAPAEPAE1@Z PROC			; CompareExchange, COMDAT
; _dest$ = ecx
; _exch$ = edx

; 84   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 85   :     return (uint8 *) InterlockedCompareExchangePointer((PVOID *) dest,
; 86   :                                                        (PVOID) exch,
; 87   :                                                        (PVOID) comp);

  00003	8b 45 08	 mov	 eax, DWORD PTR _comp$[ebp]
  00006	f0 0f b1 11	 lock	  cmpxchg DWORD PTR [ecx], edx

; 88   : }

  0000a	5d		 pop	 ebp
  0000b	c2 04 00	 ret	 4
?CompareExchange@@YIPAEPAPAEPAE1@Z ENDP			; CompareExchange
_TEXT	ENDS
PUBLIC	?g_GetSystemTracingStorageHandle@Class_Microsoft_Singularity_Tracing@@SIPAUuintPtr@@XZ ; Class_Microsoft_Singularity_Tracing::g_GetSystemTracingStorageHandle
; Function compile flags: /Ogtp
;	COMDAT ?g_GetSystemTracingStorageHandle@Class_Microsoft_Singularity_Tracing@@SIPAUuintPtr@@XZ
_TEXT	SEGMENT
?g_GetSystemTracingStorageHandle@Class_Microsoft_Singularity_Tracing@@SIPAUuintPtr@@XZ PROC ; Class_Microsoft_Singularity_Tracing::g_GetSystemTracingStorageHandle, COMDAT

; 94   :     return TracingStorageHandle;

  00000	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle

; 95   : }

  00005	c3		 ret	 0
?g_GetSystemTracingStorageHandle@Class_Microsoft_Singularity_Tracing@@SIPAUuintPtr@@XZ ENDP ; Class_Microsoft_Singularity_Tracing::g_GetSystemTracingStorageHandle
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_Log@Class_Microsoft_Singularity_Tracing@@SIXE@Z ; Class_Microsoft_Singularity_Tracing::g_Log
EXTRN	?InternalLogFixedRecord@@YIPAU_MEMORY_HEADER@@PAUuintPtr@@I0PAXI@Z:PROC ; InternalLogFixedRecord
; Function compile flags: /Ogtp
;	COMDAT ?g_Log@Class_Microsoft_Singularity_Tracing@@SIXE@Z
_TEXT	SEGMENT
_entry$ = -40						; size = 40
__$ReturnAddr$ = 4					; size = 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXE@Z PROC	; Class_Microsoft_Singularity_Tracing::g_Log, COMDAT
; _severity$ = cl

; 100  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 101  :     if (!IsTracingEnabled()) return;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00008	83 ec 28	 sub	 esp, 40			; 00000028H
  0000b	56		 push	 esi
  0000c	33 f6		 xor	 esi, esi
  0000e	3b c6		 cmp	 eax, esi
  00010	74 5d		 je	 SHORT $LN2@g_Log
  00012	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  00019	74 54		 je	 SHORT $LN2@g_Log

; 102  : 
; 103  :     LEGACY_LOG_ENTRY entry = {severity, GetCurrentProcessId(), (UIntPtr)_ReturnAddress(),

  0001b	88 4d d8	 mov	 BYTE PTR _entry$[ebp], cl
  0001e	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  00023	66 8b 80 74 02
	00 00		 mov	 ax, WORD PTR [eax+628]
  0002a	8b 4d 04	 mov	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  0002d	66 89 45 da	 mov	 WORD PTR _entry$[ebp+2], ax

; 104  :                               0,0,0,0,0,0};

  00031	33 c0		 xor	 eax, eax
  00033	89 4d dc	 mov	 DWORD PTR _entry$[ebp+4], ecx

; 105  :     InternalLogFixedRecord(TracingStorageHandle,
; 106  :                            TracingSource->ControlFlags,
; 107  :                            TracingTypeHandle,
; 108  :                            &entry,
; 109  :                            sizeof(entry));

  00036	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  0003c	6a 28		 push	 40			; 00000028H
  0003e	89 45 f8	 mov	 DWORD PTR _entry$[ebp+32], eax
  00041	89 45 fc	 mov	 DWORD PTR _entry$[ebp+36], eax
  00044	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  00049	8d 55 d8	 lea	 edx, DWORD PTR _entry$[ebp]
  0004c	52		 push	 edx
  0004d	66 89 75 e0	 mov	 WORD PTR _entry$[ebp+8], si
  00051	89 75 e4	 mov	 DWORD PTR _entry$[ebp+12], esi
  00054	89 75 e8	 mov	 DWORD PTR _entry$[ebp+16], esi
  00057	89 75 ec	 mov	 DWORD PTR _entry$[ebp+20], esi
  0005a	89 75 f0	 mov	 DWORD PTR _entry$[ebp+24], esi
  0005d	89 75 f4	 mov	 DWORD PTR _entry$[ebp+28], esi
  00060	8b 51 14	 mov	 edx, DWORD PTR [ecx+20]
  00063	8b 0d 00 00 00
	00		 mov	 ecx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  00069	50		 push	 eax
  0006a	e8 00 00 00 00	 call	 ?InternalLogFixedRecord@@YIPAU_MEMORY_HEADER@@PAUuintPtr@@I0PAXI@Z ; InternalLogFixedRecord
$LN2@g_Log:
  0006f	5e		 pop	 esi

; 110  : }

  00070	8b e5		 mov	 esp, ebp
  00072	5d		 pop	 ebp
  00073	c3		 ret	 0
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXE@Z ENDP	; Class_Microsoft_Singularity_Tracing::g_Log
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@@Z ; Class_Microsoft_Singularity_Tracing::g_Log
EXTRN	?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z:PROC ; InternalLogVariableRecord
; Function compile flags: /Ogtp
;	COMDAT ?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@@Z
_TEXT	SEGMENT
_entry$ = -52						; size = 40
_array$ = -12						; size = 12
__$ReturnAddr$ = 4					; size = 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@@Z PROC ; Class_Microsoft_Singularity_Tracing::g_Log, COMDAT
; _severity$ = cl
; _msg$ = edx

; 115  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 116  :     if (!IsTracingEnabled()) return;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00008	83 ec 34	 sub	 esp, 52			; 00000034H
  0000b	56		 push	 esi
  0000c	33 f6		 xor	 esi, esi
  0000e	3b c6		 cmp	 eax, esi
  00010	57		 push	 edi
  00011	8b fa		 mov	 edi, edx
  00013	0f 84 84 00 00
	00		 je	 $LN2@g_Log@2
  00019	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  00020	74 7b		 je	 SHORT $LN2@g_Log@2

; 117  : 
; 118  :     LEGACY_LOG_ENTRY entry = {severity, GetCurrentProcessId(), (UIntPtr)_ReturnAddress(),

  00022	88 4d cc	 mov	 BYTE PTR _entry$[ebp], cl
  00025	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  0002a	66 8b 80 74 02
	00 00		 mov	 ax, WORD PTR [eax+628]
  00031	8b 4d 04	 mov	 ecx, DWORD PTR __$ReturnAddr$[ebp]

; 119  :                               1,0,0,0,0,0,0,0,0};
; 120  : 
; 121  :     Struct_Microsoft_Singularity_Eventing_ArrayType array[] = {
; 122  :         {msg->m_stringLength,

  00034	66 8b 57 08	 mov	 dx, WORD PTR [edi+8]
  00038	66 89 45 ce	 mov	 WORD PTR _entry$[ebp+2], ax
  0003c	89 4d d0	 mov	 DWORD PTR _entry$[ebp+4], ecx
  0003f	b9 01 00 00 00	 mov	 ecx, 1

; 123  :          sizeof(char),
; 124  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 125  :          &msg->m_firstChar}};
; 126  : 
; 127  :     InternalLogVariableRecord(true,
; 128  :                               TracingStorageHandle,
; 129  :                               TracingSource->ControlFlags,
; 130  :                               TracingTypeHandle,
; 131  :                               &entry,
; 132  :                               sizeof(entry),
; 133  :                               sizeof(array)/sizeof(array[0]),
; 134  :                               array);

  00044	8d 45 f4	 lea	 eax, DWORD PTR _array$[ebp]
  00047	50		 push	 eax
  00048	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  0004d	51		 push	 ecx
  0004e	66 89 55 f4	 mov	 WORD PTR _array$[ebp], dx
  00052	6a 28		 push	 40			; 00000028H
  00054	8d 55 cc	 lea	 edx, DWORD PTR _entry$[ebp]
  00057	52		 push	 edx
  00058	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  0005e	83 c7 0c	 add	 edi, 12			; 0000000cH
  00061	50		 push	 eax
  00062	66 89 4d d4	 mov	 WORD PTR _entry$[ebp+8], cx
  00066	89 75 d8	 mov	 DWORD PTR _entry$[ebp+12], esi
  00069	89 75 dc	 mov	 DWORD PTR _entry$[ebp+16], esi
  0006c	89 75 e0	 mov	 DWORD PTR _entry$[ebp+20], esi
  0006f	89 75 e4	 mov	 DWORD PTR _entry$[ebp+24], esi
  00072	89 75 e8	 mov	 DWORD PTR _entry$[ebp+28], esi
  00075	89 75 ec	 mov	 DWORD PTR _entry$[ebp+32], esi
  00078	66 89 75 f0	 mov	 WORD PTR _entry$[ebp+36], si
  0007c	66 89 75 f2	 mov	 WORD PTR _entry$[ebp+38], si
  00080	66 89 4d f6	 mov	 WORD PTR _array$[ebp+2], cx
  00084	c7 45 f8 00 40
	00 00		 mov	 DWORD PTR _array$[ebp+4], 16384 ; 00004000H
  0008b	89 7d fc	 mov	 DWORD PTR _array$[ebp+8], edi
  0008e	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  00091	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  00097	50		 push	 eax
  00098	e8 00 00 00 00	 call	 ?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z ; InternalLogVariableRecord
$LN2@g_Log@2:
  0009d	5f		 pop	 edi
  0009e	5e		 pop	 esi

; 135  : 
; 136  : }

  0009f	8b e5		 mov	 esp, ebp
  000a1	5d		 pop	 ebp
  000a2	c3		 ret	 0
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@@Z ENDP ; Class_Microsoft_Singularity_Tracing::g_Log
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@@Z ; Class_Microsoft_Singularity_Tracing::g_Log
; Function compile flags: /Ogtp
;	COMDAT ?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@@Z
_TEXT	SEGMENT
_entry$ = -52						; size = 40
_array$ = -12						; size = 12
__$ReturnAddr$ = 4					; size = 4
_arg0$ = 8						; size = 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@@Z PROC ; Class_Microsoft_Singularity_Tracing::g_Log, COMDAT
; _severity$ = cl
; _msg$ = edx

; 142  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 143  :     if (!IsTracingEnabled()) return;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00008	83 ec 34	 sub	 esp, 52			; 00000034H
  0000b	56		 push	 esi
  0000c	33 f6		 xor	 esi, esi
  0000e	3b c6		 cmp	 eax, esi
  00010	57		 push	 edi
  00011	8b fa		 mov	 edi, edx
  00013	0f 84 87 00 00
	00		 je	 $LN2@g_Log@3
  00019	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  00020	74 7e		 je	 SHORT $LN2@g_Log@3

; 144  : 
; 145  :     LEGACY_LOG_ENTRY entry = {severity, GetCurrentProcessId(), (UIntPtr)_ReturnAddress(),

  00022	88 4d cc	 mov	 BYTE PTR _entry$[ebp], cl
  00025	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  0002a	0f b7 80 74 02
	00 00		 movzx	 eax, WORD PTR [eax+628]

; 146  :                               1, arg0,0,0,0,0,0,0,0};

  00031	8b 55 08	 mov	 edx, DWORD PTR _arg0$[ebp]
  00034	8b 4d 04	 mov	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  00037	89 55 d8	 mov	 DWORD PTR _entry$[ebp+12], edx
  0003a	66 89 45 ce	 mov	 WORD PTR _entry$[ebp+2], ax

; 147  :     Struct_Microsoft_Singularity_Eventing_ArrayType array[] = {
; 148  :         {msg->m_stringLength,

  0003e	0f b7 47 08	 movzx	 eax, WORD PTR [edi+8]
  00042	89 4d d0	 mov	 DWORD PTR _entry$[ebp+4], ecx
  00045	b9 01 00 00 00	 mov	 ecx, 1

; 149  :          sizeof(char),
; 150  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 151  :          &msg->m_firstChar}};
; 152  : 
; 153  :     InternalLogVariableRecord(true,
; 154  :                               TracingStorageHandle,
; 155  :                               TracingSource->ControlFlags,
; 156  :                               TracingTypeHandle,
; 157  :                               &entry,
; 158  :                               sizeof(entry),
; 159  :                               sizeof(array)/sizeof(array[0]),
; 160  :                               array);

  0004a	8d 55 f4	 lea	 edx, DWORD PTR _array$[ebp]
  0004d	52		 push	 edx
  0004e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  00054	51		 push	 ecx
  00055	66 89 45 f4	 mov	 WORD PTR _array$[ebp], ax
  00059	6a 28		 push	 40			; 00000028H
  0005b	8d 45 cc	 lea	 eax, DWORD PTR _entry$[ebp]
  0005e	50		 push	 eax
  0005f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00064	83 c7 0c	 add	 edi, 12			; 0000000cH
  00067	52		 push	 edx
  00068	66 89 4d d4	 mov	 WORD PTR _entry$[ebp+8], cx
  0006c	89 75 dc	 mov	 DWORD PTR _entry$[ebp+16], esi
  0006f	89 75 e0	 mov	 DWORD PTR _entry$[ebp+20], esi
  00072	89 75 e4	 mov	 DWORD PTR _entry$[ebp+24], esi
  00075	89 75 e8	 mov	 DWORD PTR _entry$[ebp+28], esi
  00078	89 75 ec	 mov	 DWORD PTR _entry$[ebp+32], esi
  0007b	66 89 75 f0	 mov	 WORD PTR _entry$[ebp+36], si
  0007f	66 89 75 f2	 mov	 WORD PTR _entry$[ebp+38], si
  00083	66 89 4d f6	 mov	 WORD PTR _array$[ebp+2], cx
  00087	c7 45 f8 00 40
	00 00		 mov	 DWORD PTR _array$[ebp+4], 16384 ; 00004000H
  0008e	89 7d fc	 mov	 DWORD PTR _array$[ebp+8], edi
  00091	8b 50 14	 mov	 edx, DWORD PTR [eax+20]
  00094	52		 push	 edx
  00095	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  0009b	e8 00 00 00 00	 call	 ?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z ; InternalLogVariableRecord
$LN2@g_Log@3:
  000a0	5f		 pop	 edi
  000a1	5e		 pop	 esi

; 161  : }

  000a2	8b e5		 mov	 esp, ebp
  000a4	5d		 pop	 ebp
  000a5	c2 04 00	 ret	 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@@Z ENDP ; Class_Microsoft_Singularity_Tracing::g_Log
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@1@Z ; Class_Microsoft_Singularity_Tracing::g_Log
; Function compile flags: /Ogtp
;	COMDAT ?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@1@Z
_TEXT	SEGMENT
_entry$ = -52						; size = 40
_array$ = -12						; size = 12
__$ReturnAddr$ = 4					; size = 4
_arg0$ = 8						; size = 4
_arg1$ = 12						; size = 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@1@Z PROC ; Class_Microsoft_Singularity_Tracing::g_Log, COMDAT
; _severity$ = cl
; _msg$ = edx

; 167  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 168  :     if (!IsTracingEnabled()) return;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00008	83 ec 34	 sub	 esp, 52			; 00000034H
  0000b	56		 push	 esi
  0000c	57		 push	 edi
  0000d	33 ff		 xor	 edi, edi
  0000f	3b c7		 cmp	 eax, edi
  00011	8b f2		 mov	 esi, edx
  00013	0f 84 8e 00 00
	00		 je	 $LN2@g_Log@4
  00019	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  00020	0f 84 81 00 00
	00		 je	 $LN2@g_Log@4

; 169  : 
; 170  :     LEGACY_LOG_ENTRY entry = {severity, GetCurrentProcessId(), (UIntPtr)_ReturnAddress(),

  00026	88 4d cc	 mov	 BYTE PTR _entry$[ebp], cl
  00029	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  0002e	66 8b 80 74 02
	00 00		 mov	 ax, WORD PTR [eax+628]
  00035	8b 4d 04	 mov	 ecx, DWORD PTR __$ReturnAddr$[ebp]

; 171  :                               1, arg0,arg1,0,0,0,0, 0,0};

  00038	8b 55 08	 mov	 edx, DWORD PTR _arg0$[ebp]
  0003b	66 89 45 ce	 mov	 WORD PTR _entry$[ebp+2], ax
  0003f	8b 45 0c	 mov	 eax, DWORD PTR _arg1$[ebp]
  00042	89 45 dc	 mov	 DWORD PTR _entry$[ebp+16], eax
  00045	89 55 d8	 mov	 DWORD PTR _entry$[ebp+12], edx

; 172  :     Struct_Microsoft_Singularity_Eventing_ArrayType array[] = {
; 173  :         {msg->m_stringLength,

  00048	66 8b 56 08	 mov	 dx, WORD PTR [esi+8]
  0004c	89 4d d0	 mov	 DWORD PTR _entry$[ebp+4], ecx
  0004f	b9 01 00 00 00	 mov	 ecx, 1

; 174  :          sizeof(char),
; 175  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 176  :          &msg->m_firstChar}};
; 177  : 
; 178  :     InternalLogVariableRecord(true,
; 179  :                               TracingStorageHandle,
; 180  :                               TracingSource->ControlFlags,
; 181  :                               TracingTypeHandle,
; 182  :                               &entry,
; 183  :                               sizeof(entry),
; 184  :                               sizeof(array)/sizeof(array[0]),
; 185  :                               array);

  00054	8d 45 f4	 lea	 eax, DWORD PTR _array$[ebp]
  00057	50		 push	 eax
  00058	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  0005d	51		 push	 ecx
  0005e	66 89 55 f4	 mov	 WORD PTR _array$[ebp], dx
  00062	6a 28		 push	 40			; 00000028H
  00064	8d 55 cc	 lea	 edx, DWORD PTR _entry$[ebp]
  00067	52		 push	 edx
  00068	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  0006e	83 c6 0c	 add	 esi, 12			; 0000000cH
  00071	50		 push	 eax
  00072	66 89 4d d4	 mov	 WORD PTR _entry$[ebp+8], cx
  00076	89 7d e0	 mov	 DWORD PTR _entry$[ebp+20], edi
  00079	89 7d e4	 mov	 DWORD PTR _entry$[ebp+24], edi
  0007c	89 7d e8	 mov	 DWORD PTR _entry$[ebp+28], edi
  0007f	89 7d ec	 mov	 DWORD PTR _entry$[ebp+32], edi
  00082	66 89 7d f0	 mov	 WORD PTR _entry$[ebp+36], di
  00086	66 89 7d f2	 mov	 WORD PTR _entry$[ebp+38], di
  0008a	66 89 4d f6	 mov	 WORD PTR _array$[ebp+2], cx
  0008e	c7 45 f8 00 40
	00 00		 mov	 DWORD PTR _array$[ebp+4], 16384 ; 00004000H
  00095	89 75 fc	 mov	 DWORD PTR _array$[ebp+8], esi
  00098	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  0009b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  000a1	50		 push	 eax
  000a2	e8 00 00 00 00	 call	 ?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z ; InternalLogVariableRecord
$LN2@g_Log@4:
  000a7	5f		 pop	 edi
  000a8	5e		 pop	 esi

; 186  : }

  000a9	8b e5		 mov	 esp, ebp
  000ab	5d		 pop	 ebp
  000ac	c2 08 00	 ret	 8
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@1@Z ENDP ; Class_Microsoft_Singularity_Tracing::g_Log
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@11@Z ; Class_Microsoft_Singularity_Tracing::g_Log
; Function compile flags: /Ogtp
;	COMDAT ?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@11@Z
_TEXT	SEGMENT
_entry$ = -52						; size = 40
_array$ = -12						; size = 12
__$ReturnAddr$ = 4					; size = 4
_arg0$ = 8						; size = 4
_arg1$ = 12						; size = 4
_arg2$ = 16						; size = 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@11@Z PROC ; Class_Microsoft_Singularity_Tracing::g_Log, COMDAT
; _severity$ = cl
; _msg$ = edx

; 192  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 193  :     if (!IsTracingEnabled()) return;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00008	83 ec 34	 sub	 esp, 52			; 00000034H
  0000b	56		 push	 esi
  0000c	57		 push	 edi
  0000d	33 ff		 xor	 edi, edi
  0000f	3b c7		 cmp	 eax, edi
  00011	8b f2		 mov	 esi, edx
  00013	0f 84 91 00 00
	00		 je	 $LN2@g_Log@5
  00019	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  00020	0f 84 84 00 00
	00		 je	 $LN2@g_Log@5

; 194  : 
; 195  :     LEGACY_LOG_ENTRY entry = {severity,GetCurrentProcessId(), (UIntPtr)_ReturnAddress(),

  00026	88 4d cc	 mov	 BYTE PTR _entry$[ebp], cl
  00029	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  0002e	0f b7 80 74 02
	00 00		 movzx	 eax, WORD PTR [eax+628]

; 196  :                               1,arg0,arg1,arg2,0,0,0,0,0};

  00035	8b 55 08	 mov	 edx, DWORD PTR _arg0$[ebp]
  00038	8b 4d 04	 mov	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  0003b	89 55 d8	 mov	 DWORD PTR _entry$[ebp+12], edx
  0003e	8b 55 10	 mov	 edx, DWORD PTR _arg2$[ebp]
  00041	66 89 45 ce	 mov	 WORD PTR _entry$[ebp+2], ax
  00045	8b 45 0c	 mov	 eax, DWORD PTR _arg1$[ebp]
  00048	89 55 e0	 mov	 DWORD PTR _entry$[ebp+20], edx
  0004b	89 45 dc	 mov	 DWORD PTR _entry$[ebp+16], eax

; 197  :     Struct_Microsoft_Singularity_Eventing_ArrayType array[] = {
; 198  :         {msg->m_stringLength,

  0004e	0f b7 46 08	 movzx	 eax, WORD PTR [esi+8]
  00052	89 4d d0	 mov	 DWORD PTR _entry$[ebp+4], ecx
  00055	b9 01 00 00 00	 mov	 ecx, 1

; 199  :          sizeof(char),
; 200  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 201  :          &msg->m_firstChar}};
; 202  : 
; 203  :     InternalLogVariableRecord(true,
; 204  :                               TracingStorageHandle,
; 205  :                               TracingSource->ControlFlags,
; 206  :                               TracingTypeHandle,
; 207  :                               &entry,
; 208  :                               sizeof(entry),
; 209  :                               sizeof(array)/sizeof(array[0]),
; 210  :                               array);

  0005a	8d 55 f4	 lea	 edx, DWORD PTR _array$[ebp]
  0005d	52		 push	 edx
  0005e	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  00064	51		 push	 ecx
  00065	66 89 45 f4	 mov	 WORD PTR _array$[ebp], ax
  00069	6a 28		 push	 40			; 00000028H
  0006b	8d 45 cc	 lea	 eax, DWORD PTR _entry$[ebp]
  0006e	50		 push	 eax
  0006f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00074	83 c6 0c	 add	 esi, 12			; 0000000cH
  00077	52		 push	 edx
  00078	66 89 4d d4	 mov	 WORD PTR _entry$[ebp+8], cx
  0007c	89 7d e4	 mov	 DWORD PTR _entry$[ebp+24], edi
  0007f	89 7d e8	 mov	 DWORD PTR _entry$[ebp+28], edi
  00082	89 7d ec	 mov	 DWORD PTR _entry$[ebp+32], edi
  00085	66 89 7d f0	 mov	 WORD PTR _entry$[ebp+36], di
  00089	66 89 7d f2	 mov	 WORD PTR _entry$[ebp+38], di
  0008d	66 89 4d f6	 mov	 WORD PTR _array$[ebp+2], cx
  00091	c7 45 f8 00 40
	00 00		 mov	 DWORD PTR _array$[ebp+4], 16384 ; 00004000H
  00098	89 75 fc	 mov	 DWORD PTR _array$[ebp+8], esi
  0009b	8b 50 14	 mov	 edx, DWORD PTR [eax+20]
  0009e	52		 push	 edx
  0009f	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  000a5	e8 00 00 00 00	 call	 ?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z ; InternalLogVariableRecord
$LN2@g_Log@5:
  000aa	5f		 pop	 edi
  000ab	5e		 pop	 esi

; 211  : }

  000ac	8b e5		 mov	 esp, ebp
  000ae	5d		 pop	 ebp
  000af	c2 0c 00	 ret	 12			; 0000000cH
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@11@Z ENDP ; Class_Microsoft_Singularity_Tracing::g_Log
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@111@Z ; Class_Microsoft_Singularity_Tracing::g_Log
; Function compile flags: /Ogtp
;	COMDAT ?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@111@Z
_TEXT	SEGMENT
_entry$ = -52						; size = 40
_array$ = -12						; size = 12
__$ReturnAddr$ = 4					; size = 4
_arg0$ = 8						; size = 4
_arg1$ = 12						; size = 4
_arg2$ = 16						; size = 4
_arg3$ = 20						; size = 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@111@Z PROC ; Class_Microsoft_Singularity_Tracing::g_Log, COMDAT
; _severity$ = cl
; _msg$ = edx

; 218  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 219  :     if (!IsTracingEnabled()) return;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00008	83 ec 34	 sub	 esp, 52			; 00000034H
  0000b	56		 push	 esi
  0000c	57		 push	 edi
  0000d	33 ff		 xor	 edi, edi
  0000f	3b c7		 cmp	 eax, edi
  00011	8b f2		 mov	 esi, edx
  00013	0f 84 94 00 00
	00		 je	 $LN2@g_Log@6
  00019	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  00020	0f 84 87 00 00
	00		 je	 $LN2@g_Log@6

; 220  : 
; 221  :     LEGACY_LOG_ENTRY entry = {severity,GetCurrentProcessId(), (UIntPtr)_ReturnAddress(),

  00026	88 4d cc	 mov	 BYTE PTR _entry$[ebp], cl
  00029	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  0002e	66 8b 80 74 02
	00 00		 mov	 ax, WORD PTR [eax+628]

; 222  :                               1,arg0,arg1,arg2,arg3,0,0,0,0};

  00035	8b 55 08	 mov	 edx, DWORD PTR _arg0$[ebp]
  00038	8b 4d 04	 mov	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  0003b	66 89 45 ce	 mov	 WORD PTR _entry$[ebp+2], ax
  0003f	8b 45 0c	 mov	 eax, DWORD PTR _arg1$[ebp]
  00042	89 45 dc	 mov	 DWORD PTR _entry$[ebp+16], eax
  00045	8b 45 14	 mov	 eax, DWORD PTR _arg3$[ebp]
  00048	89 55 d8	 mov	 DWORD PTR _entry$[ebp+12], edx
  0004b	8b 55 10	 mov	 edx, DWORD PTR _arg2$[ebp]
  0004e	89 45 e4	 mov	 DWORD PTR _entry$[ebp+24], eax
  00051	89 55 e0	 mov	 DWORD PTR _entry$[ebp+20], edx

; 223  :     Struct_Microsoft_Singularity_Eventing_ArrayType array[] = {
; 224  :         {msg->m_stringLength,

  00054	66 8b 56 08	 mov	 dx, WORD PTR [esi+8]
  00058	89 4d d0	 mov	 DWORD PTR _entry$[ebp+4], ecx
  0005b	b9 01 00 00 00	 mov	 ecx, 1

; 225  :          sizeof(char),
; 226  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 227  :          &msg->m_firstChar}};
; 228  : 
; 229  :     InternalLogVariableRecord(true,
; 230  :                               TracingStorageHandle,
; 231  :                               TracingSource->ControlFlags,
; 232  :                               TracingTypeHandle,
; 233  :                               &entry,
; 234  :                               sizeof(entry),
; 235  :                               sizeof(array)/sizeof(array[0]),
; 236  :                               array);

  00060	8d 45 f4	 lea	 eax, DWORD PTR _array$[ebp]
  00063	50		 push	 eax
  00064	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  00069	51		 push	 ecx
  0006a	66 89 55 f4	 mov	 WORD PTR _array$[ebp], dx
  0006e	6a 28		 push	 40			; 00000028H
  00070	8d 55 cc	 lea	 edx, DWORD PTR _entry$[ebp]
  00073	52		 push	 edx
  00074	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  0007a	83 c6 0c	 add	 esi, 12			; 0000000cH
  0007d	50		 push	 eax
  0007e	66 89 4d d4	 mov	 WORD PTR _entry$[ebp+8], cx
  00082	89 7d e8	 mov	 DWORD PTR _entry$[ebp+28], edi
  00085	89 7d ec	 mov	 DWORD PTR _entry$[ebp+32], edi
  00088	66 89 7d f0	 mov	 WORD PTR _entry$[ebp+36], di
  0008c	66 89 7d f2	 mov	 WORD PTR _entry$[ebp+38], di
  00090	66 89 4d f6	 mov	 WORD PTR _array$[ebp+2], cx
  00094	c7 45 f8 00 40
	00 00		 mov	 DWORD PTR _array$[ebp+4], 16384 ; 00004000H
  0009b	89 75 fc	 mov	 DWORD PTR _array$[ebp+8], esi
  0009e	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  000a1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  000a7	50		 push	 eax
  000a8	e8 00 00 00 00	 call	 ?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z ; InternalLogVariableRecord
$LN2@g_Log@6:
  000ad	5f		 pop	 edi
  000ae	5e		 pop	 esi

; 237  : }

  000af	8b e5		 mov	 esp, ebp
  000b1	5d		 pop	 ebp
  000b2	c2 10 00	 ret	 16			; 00000010H
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@111@Z ENDP ; Class_Microsoft_Singularity_Tracing::g_Log
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@1111@Z ; Class_Microsoft_Singularity_Tracing::g_Log
; Function compile flags: /Ogtp
;	COMDAT ?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@1111@Z
_TEXT	SEGMENT
_entry$ = -52						; size = 40
_array$ = -12						; size = 12
__$ReturnAddr$ = 4					; size = 4
_arg0$ = 8						; size = 4
_arg1$ = 12						; size = 4
_arg2$ = 16						; size = 4
_arg3$ = 20						; size = 4
_arg4$ = 24						; size = 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@1111@Z PROC ; Class_Microsoft_Singularity_Tracing::g_Log, COMDAT
; _severity$ = cl
; _msg$ = edx

; 244  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 245  :     if (!IsTracingEnabled()) return;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00008	83 ec 34	 sub	 esp, 52			; 00000034H
  0000b	85 c0		 test	 eax, eax
  0000d	56		 push	 esi
  0000e	8b f2		 mov	 esi, edx
  00010	0f 84 9f 00 00
	00		 je	 $LN2@g_Log@7
  00016	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  0001d	0f 84 92 00 00
	00		 je	 $LN2@g_Log@7

; 246  : 
; 247  :     LEGACY_LOG_ENTRY entry = {severity,GetCurrentProcessId(), (UIntPtr)_ReturnAddress(),

  00023	88 4d cc	 mov	 BYTE PTR _entry$[ebp], cl
  00026	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  0002b	0f b7 80 74 02
	00 00		 movzx	 eax, WORD PTR [eax+628]

; 248  :                               1,arg0,arg1,arg2,arg3,arg4,0,0,0};

  00032	8b 55 08	 mov	 edx, DWORD PTR _arg0$[ebp]
  00035	8b 4d 04	 mov	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  00038	89 55 d8	 mov	 DWORD PTR _entry$[ebp+12], edx
  0003b	8b 55 10	 mov	 edx, DWORD PTR _arg2$[ebp]
  0003e	66 89 45 ce	 mov	 WORD PTR _entry$[ebp+2], ax
  00042	8b 45 0c	 mov	 eax, DWORD PTR _arg1$[ebp]
  00045	89 55 e0	 mov	 DWORD PTR _entry$[ebp+20], edx
  00048	8b 55 18	 mov	 edx, DWORD PTR _arg4$[ebp]
  0004b	89 45 dc	 mov	 DWORD PTR _entry$[ebp+16], eax
  0004e	8b 45 14	 mov	 eax, DWORD PTR _arg3$[ebp]
  00051	89 55 e8	 mov	 DWORD PTR _entry$[ebp+28], edx
  00054	89 45 e4	 mov	 DWORD PTR _entry$[ebp+24], eax

; 249  :     Struct_Microsoft_Singularity_Eventing_ArrayType array[] = {
; 250  :         {msg->m_stringLength,

  00057	0f b7 46 08	 movzx	 eax, WORD PTR [esi+8]
  0005b	89 4d d0	 mov	 DWORD PTR _entry$[ebp+4], ecx
  0005e	b9 01 00 00 00	 mov	 ecx, 1

; 251  :          sizeof(char),
; 252  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 253  :          &msg->m_firstChar}};
; 254  : 
; 255  :     InternalLogVariableRecord(true,
; 256  :                               TracingStorageHandle,
; 257  :                               TracingSource->ControlFlags,
; 258  :                               TracingTypeHandle,
; 259  :                               &entry,
; 260  :                               sizeof(entry),
; 261  :                               sizeof(array)/sizeof(array[0]),
; 262  :                               array);

  00063	8d 55 f4	 lea	 edx, DWORD PTR _array$[ebp]
  00066	52		 push	 edx
  00067	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  0006d	51		 push	 ecx
  0006e	66 89 45 f4	 mov	 WORD PTR _array$[ebp], ax
  00072	6a 28		 push	 40			; 00000028H
  00074	8d 45 cc	 lea	 eax, DWORD PTR _entry$[ebp]
  00077	50		 push	 eax
  00078	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  0007d	83 c6 0c	 add	 esi, 12			; 0000000cH
  00080	52		 push	 edx
  00081	66 89 4d d4	 mov	 WORD PTR _entry$[ebp+8], cx
  00085	c7 45 ec 00 00
	00 00		 mov	 DWORD PTR _entry$[ebp+32], 0
  0008c	66 c7 45 f0 00
	00		 mov	 WORD PTR _entry$[ebp+36], 0
  00092	66 c7 45 f2 00
	00		 mov	 WORD PTR _entry$[ebp+38], 0
  00098	66 89 4d f6	 mov	 WORD PTR _array$[ebp+2], cx
  0009c	c7 45 f8 00 40
	00 00		 mov	 DWORD PTR _array$[ebp+4], 16384 ; 00004000H
  000a3	89 75 fc	 mov	 DWORD PTR _array$[ebp+8], esi
  000a6	8b 50 14	 mov	 edx, DWORD PTR [eax+20]
  000a9	52		 push	 edx
  000aa	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  000b0	e8 00 00 00 00	 call	 ?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z ; InternalLogVariableRecord
$LN2@g_Log@7:
  000b5	5e		 pop	 esi

; 263  : }

  000b6	8b e5		 mov	 esp, ebp
  000b8	5d		 pop	 ebp
  000b9	c2 14 00	 ret	 20			; 00000014H
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@1111@Z ENDP ; Class_Microsoft_Singularity_Tracing::g_Log
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@11111@Z ; Class_Microsoft_Singularity_Tracing::g_Log
; Function compile flags: /Ogtp
;	COMDAT ?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@11111@Z
_TEXT	SEGMENT
_entry$ = -52						; size = 40
_array$ = -12						; size = 12
__$ReturnAddr$ = 4					; size = 4
_arg0$ = 8						; size = 4
_arg1$ = 12						; size = 4
_arg2$ = 16						; size = 4
_arg3$ = 20						; size = 4
_arg4$ = 24						; size = 4
_arg5$ = 28						; size = 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@11111@Z PROC ; Class_Microsoft_Singularity_Tracing::g_Log, COMDAT
; _severity$ = cl
; _msg$ = edx

; 270  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 271  :     if (!IsTracingEnabled()) return;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00008	83 ec 34	 sub	 esp, 52			; 00000034H
  0000b	85 c0		 test	 eax, eax
  0000d	56		 push	 esi
  0000e	8b f2		 mov	 esi, edx
  00010	0f 84 9e 00 00
	00		 je	 $LN2@g_Log@8
  00016	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  0001d	0f 84 91 00 00
	00		 je	 $LN2@g_Log@8

; 272  : 
; 273  :     LEGACY_LOG_ENTRY entry = {severity,GetCurrentProcessId(), (UIntPtr)_ReturnAddress(),

  00023	88 4d cc	 mov	 BYTE PTR _entry$[ebp], cl
  00026	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  0002b	66 8b 80 74 02
	00 00		 mov	 ax, WORD PTR [eax+628]

; 274  :                               1,arg0,arg1,arg2,arg3,arg4,arg5,0,0};

  00032	8b 55 08	 mov	 edx, DWORD PTR _arg0$[ebp]
  00035	8b 4d 04	 mov	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  00038	66 89 45 ce	 mov	 WORD PTR _entry$[ebp+2], ax
  0003c	8b 45 0c	 mov	 eax, DWORD PTR _arg1$[ebp]
  0003f	89 45 dc	 mov	 DWORD PTR _entry$[ebp+16], eax
  00042	8b 45 14	 mov	 eax, DWORD PTR _arg3$[ebp]
  00045	89 55 d8	 mov	 DWORD PTR _entry$[ebp+12], edx
  00048	8b 55 10	 mov	 edx, DWORD PTR _arg2$[ebp]
  0004b	89 45 e4	 mov	 DWORD PTR _entry$[ebp+24], eax
  0004e	8b 45 1c	 mov	 eax, DWORD PTR _arg5$[ebp]
  00051	89 55 e0	 mov	 DWORD PTR _entry$[ebp+20], edx
  00054	8b 55 18	 mov	 edx, DWORD PTR _arg4$[ebp]
  00057	89 45 ec	 mov	 DWORD PTR _entry$[ebp+32], eax
  0005a	89 55 e8	 mov	 DWORD PTR _entry$[ebp+28], edx

; 275  :     Struct_Microsoft_Singularity_Eventing_ArrayType array[] = {
; 276  :         {msg->m_stringLength,

  0005d	66 8b 56 08	 mov	 dx, WORD PTR [esi+8]
  00061	89 4d d0	 mov	 DWORD PTR _entry$[ebp+4], ecx
  00064	b9 01 00 00 00	 mov	 ecx, 1

; 277  :          sizeof(char),
; 278  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 279  :          &msg->m_firstChar}};
; 280  : 
; 281  :     InternalLogVariableRecord(true,
; 282  :                               TracingStorageHandle,
; 283  :                               TracingSource->ControlFlags,
; 284  :                               TracingTypeHandle,
; 285  :                               &entry,
; 286  :                               sizeof(entry),
; 287  :                               sizeof(array)/sizeof(array[0]),
; 288  :                               array);

  00069	8d 45 f4	 lea	 eax, DWORD PTR _array$[ebp]
  0006c	50		 push	 eax
  0006d	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  00072	51		 push	 ecx
  00073	66 89 55 f4	 mov	 WORD PTR _array$[ebp], dx
  00077	6a 28		 push	 40			; 00000028H
  00079	8d 55 cc	 lea	 edx, DWORD PTR _entry$[ebp]
  0007c	52		 push	 edx
  0007d	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00083	83 c6 0c	 add	 esi, 12			; 0000000cH
  00086	50		 push	 eax
  00087	66 89 4d d4	 mov	 WORD PTR _entry$[ebp+8], cx
  0008b	66 c7 45 f0 00
	00		 mov	 WORD PTR _entry$[ebp+36], 0
  00091	66 c7 45 f2 00
	00		 mov	 WORD PTR _entry$[ebp+38], 0
  00097	66 89 4d f6	 mov	 WORD PTR _array$[ebp+2], cx
  0009b	c7 45 f8 00 40
	00 00		 mov	 DWORD PTR _array$[ebp+4], 16384 ; 00004000H
  000a2	89 75 fc	 mov	 DWORD PTR _array$[ebp+8], esi
  000a5	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  000a8	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  000ae	50		 push	 eax
  000af	e8 00 00 00 00	 call	 ?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z ; InternalLogVariableRecord
$LN2@g_Log@8:
  000b4	5e		 pop	 esi

; 289  : }

  000b5	8b e5		 mov	 esp, ebp
  000b7	5d		 pop	 ebp
  000b8	c2 18 00	 ret	 24			; 00000018H
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@PAUuintPtr@@11111@Z ENDP ; Class_Microsoft_Singularity_Tracing::g_Log
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@0@Z ; Class_Microsoft_Singularity_Tracing::g_Log
; Function compile flags: /Ogtp
;	COMDAT ?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@0@Z
_TEXT	SEGMENT
_entry$ = -64						; size = 40
_array$ = -24						; size = 24
__$ReturnAddr$ = 4					; size = 4
_arg0$ = 8						; size = 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@0@Z PROC ; Class_Microsoft_Singularity_Tracing::g_Log, COMDAT
; _severity$ = cl
; _msg$ = edx

; 295  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 296  :     if (!IsTracingEnabled()) return;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00008	83 ec 40	 sub	 esp, 64			; 00000040H
  0000b	56		 push	 esi
  0000c	33 f6		 xor	 esi, esi
  0000e	3b c6		 cmp	 eax, esi
  00010	57		 push	 edi
  00011	8b fa		 mov	 edi, edx
  00013	0f 84 a4 00 00
	00		 je	 $LN2@g_Log@9
  00019	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  00020	0f 84 97 00 00
	00		 je	 $LN2@g_Log@9

; 297  : 
; 298  :     LEGACY_LOG_ENTRY entry = {severity,GetCurrentProcessId(), (UIntPtr)_ReturnAddress(),

  00026	88 4d c0	 mov	 BYTE PTR _entry$[ebp], cl
  00029	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  0002e	66 8b 80 74 02
	00 00		 mov	 ax, WORD PTR [eax+628]

; 299  :                               1,0,0,0,0,0,0,2,0};
; 300  : 
; 301  :     Struct_Microsoft_Singularity_Eventing_ArrayType array[] = {
; 302  :         {msg->m_stringLength,

  00035	66 8b 57 08	 mov	 dx, WORD PTR [edi+8]
  00039	8b 4d 04	 mov	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  0003c	66 89 45 c2	 mov	 WORD PTR _entry$[ebp+2], ax

; 303  :          sizeof(char),
; 304  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 305  :          &msg->m_firstChar},
; 306  :         {arg0->m_stringLength,

  00040	8b 45 08	 mov	 eax, DWORD PTR _arg0$[ebp]
  00043	89 75 cc	 mov	 DWORD PTR _entry$[ebp+12], esi
  00046	89 75 d0	 mov	 DWORD PTR _entry$[ebp+16], esi
  00049	89 75 d4	 mov	 DWORD PTR _entry$[ebp+20], esi
  0004c	89 75 d8	 mov	 DWORD PTR _entry$[ebp+24], esi
  0004f	89 75 dc	 mov	 DWORD PTR _entry$[ebp+28], esi
  00052	89 75 e0	 mov	 DWORD PTR _entry$[ebp+32], esi
  00055	66 89 75 e6	 mov	 WORD PTR _entry$[ebp+38], si
  00059	66 8b 70 08	 mov	 si, WORD PTR [eax+8]

; 307  :          sizeof(char),
; 308  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 309  :          &arg0->m_firstChar}};

  0005d	83 c0 0c	 add	 eax, 12			; 0000000cH
  00060	89 45 fc	 mov	 DWORD PTR _array$[ebp+20], eax
  00063	66 89 55 e8	 mov	 WORD PTR _array$[ebp], dx

; 310  : 
; 311  :     InternalLogVariableRecord(true,
; 312  :                               TracingStorageHandle,
; 313  :                               TracingSource->ControlFlags,
; 314  :                               TracingTypeHandle,
; 315  :                               &entry,
; 316  :                               sizeof(entry),
; 317  :                               sizeof(array)/sizeof(array[0]),
; 318  :                               array);

  00067	8d 45 e8	 lea	 eax, DWORD PTR _array$[ebp]
  0006a	50		 push	 eax
  0006b	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  00070	6a 02		 push	 2
  00072	ba 00 40 00 00	 mov	 edx, 16384		; 00004000H
  00077	89 55 ec	 mov	 DWORD PTR _array$[ebp+4], edx
  0007a	89 55 f8	 mov	 DWORD PTR _array$[ebp+16], edx
  0007d	6a 28		 push	 40			; 00000028H
  0007f	89 4d c4	 mov	 DWORD PTR _entry$[ebp+4], ecx
  00082	b9 01 00 00 00	 mov	 ecx, 1
  00087	8d 55 c0	 lea	 edx, DWORD PTR _entry$[ebp]
  0008a	52		 push	 edx
  0008b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00091	83 c7 0c	 add	 edi, 12			; 0000000cH
  00094	50		 push	 eax
  00095	66 89 4d c8	 mov	 WORD PTR _entry$[ebp+8], cx
  00099	66 c7 45 e4 02
	00		 mov	 WORD PTR _entry$[ebp+36], 2
  0009f	66 89 4d ea	 mov	 WORD PTR _array$[ebp+2], cx
  000a3	89 7d f0	 mov	 DWORD PTR _array$[ebp+8], edi
  000a6	66 89 75 f4	 mov	 WORD PTR _array$[ebp+12], si
  000aa	66 89 4d f6	 mov	 WORD PTR _array$[ebp+14], cx
  000ae	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  000b1	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  000b7	50		 push	 eax
  000b8	e8 00 00 00 00	 call	 ?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z ; InternalLogVariableRecord
$LN2@g_Log@9:
  000bd	5f		 pop	 edi
  000be	5e		 pop	 esi

; 319  : 
; 320  : }

  000bf	8b e5		 mov	 esp, ebp
  000c1	5d		 pop	 ebp
  000c2	c2 04 00	 ret	 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@0@Z ENDP ; Class_Microsoft_Singularity_Tracing::g_Log
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@0PAUuintPtr@@@Z ; Class_Microsoft_Singularity_Tracing::g_Log
; Function compile flags: /Ogtp
;	COMDAT ?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@0PAUuintPtr@@@Z
_TEXT	SEGMENT
_entry$ = -64						; size = 40
_array$ = -24						; size = 24
__$ReturnAddr$ = 4					; size = 4
_arg0$ = 8						; size = 4
_arg1$ = 12						; size = 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@0PAUuintPtr@@@Z PROC ; Class_Microsoft_Singularity_Tracing::g_Log, COMDAT
; _severity$ = cl
; _msg$ = edx

; 327  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 328  :     if (!IsTracingEnabled()) return;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00008	83 ec 40	 sub	 esp, 64			; 00000040H
  0000b	56		 push	 esi
  0000c	33 f6		 xor	 esi, esi
  0000e	3b c6		 cmp	 eax, esi
  00010	57		 push	 edi
  00011	8b fa		 mov	 edi, edx
  00013	0f 84 a7 00 00
	00		 je	 $LN2@g_Log@10
  00019	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  00020	0f 84 9a 00 00
	00		 je	 $LN2@g_Log@10

; 329  : 
; 330  :     LEGACY_LOG_ENTRY entry = {severity,GetCurrentProcessId(), (UIntPtr)_ReturnAddress(),

  00026	88 4d c0	 mov	 BYTE PTR _entry$[ebp], cl
  00029	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  0002e	0f b7 80 74 02
	00 00		 movzx	 eax, WORD PTR [eax+628]

; 331  :                               1,arg1,0,0,0,0,0,2,0};

  00035	8b 55 0c	 mov	 edx, DWORD PTR _arg1$[ebp]
  00038	8b 4d 04	 mov	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  0003b	66 89 45 c2	 mov	 WORD PTR _entry$[ebp+2], ax

; 332  : 
; 333  :     Struct_Microsoft_Singularity_Eventing_ArrayType array[] = {
; 334  :         {msg->m_stringLength,

  0003f	0f b7 47 08	 movzx	 eax, WORD PTR [edi+8]
  00043	89 55 cc	 mov	 DWORD PTR _entry$[ebp+12], edx
  00046	66 89 45 e8	 mov	 WORD PTR _array$[ebp], ax

; 335  :          sizeof(char),
; 336  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 337  :          &msg->m_firstChar},
; 338  :         {arg0->m_stringLength,

  0004a	8b 45 08	 mov	 eax, DWORD PTR _arg0$[ebp]
  0004d	ba 00 40 00 00	 mov	 edx, 16384		; 00004000H
  00052	89 55 ec	 mov	 DWORD PTR _array$[ebp+4], edx

; 339  :          sizeof(char),
; 340  :          Class_Microsoft_Singularity_Eventing_DataType___string,

  00055	89 55 f8	 mov	 DWORD PTR _array$[ebp+16], edx
  00058	89 75 d0	 mov	 DWORD PTR _entry$[ebp+16], esi
  0005b	89 75 d4	 mov	 DWORD PTR _entry$[ebp+20], esi
  0005e	89 75 d8	 mov	 DWORD PTR _entry$[ebp+24], esi
  00061	89 75 dc	 mov	 DWORD PTR _entry$[ebp+28], esi
  00064	89 75 e0	 mov	 DWORD PTR _entry$[ebp+32], esi
  00067	66 89 75 e6	 mov	 WORD PTR _entry$[ebp+38], si
  0006b	66 8b 70 08	 mov	 si, WORD PTR [eax+8]

; 341  :          &arg0->m_firstChar}};
; 342  : 
; 343  :     InternalLogVariableRecord(true,
; 344  :                               TracingStorageHandle,
; 345  :                               TracingSource->ControlFlags,
; 346  :                               TracingTypeHandle,
; 347  :                               &entry,
; 348  :                               sizeof(entry),
; 349  :                               sizeof(array)/sizeof(array[0]),
; 350  :                               array);

  0006f	8d 55 e8	 lea	 edx, DWORD PTR _array$[ebp]
  00072	52		 push	 edx
  00073	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  00079	83 c0 0c	 add	 eax, 12			; 0000000cH
  0007c	6a 02		 push	 2
  0007e	89 45 fc	 mov	 DWORD PTR _array$[ebp+20], eax
  00081	6a 28		 push	 40			; 00000028H
  00083	89 4d c4	 mov	 DWORD PTR _entry$[ebp+4], ecx
  00086	b9 01 00 00 00	 mov	 ecx, 1
  0008b	8d 45 c0	 lea	 eax, DWORD PTR _entry$[ebp]
  0008e	50		 push	 eax
  0008f	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00094	83 c7 0c	 add	 edi, 12			; 0000000cH
  00097	52		 push	 edx
  00098	66 89 4d c8	 mov	 WORD PTR _entry$[ebp+8], cx
  0009c	66 c7 45 e4 02
	00		 mov	 WORD PTR _entry$[ebp+36], 2
  000a2	66 89 4d ea	 mov	 WORD PTR _array$[ebp+2], cx
  000a6	89 7d f0	 mov	 DWORD PTR _array$[ebp+8], edi
  000a9	66 89 75 f4	 mov	 WORD PTR _array$[ebp+12], si
  000ad	66 89 4d f6	 mov	 WORD PTR _array$[ebp+14], cx
  000b1	8b 50 14	 mov	 edx, DWORD PTR [eax+20]
  000b4	52		 push	 edx
  000b5	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  000bb	e8 00 00 00 00	 call	 ?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z ; InternalLogVariableRecord
$LN2@g_Log@10:
  000c0	5f		 pop	 edi
  000c1	5e		 pop	 esi

; 351  : 
; 352  : }

  000c2	8b e5		 mov	 esp, ebp
  000c4	5d		 pop	 ebp
  000c5	c2 08 00	 ret	 8
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@0PAUuintPtr@@@Z ENDP ; Class_Microsoft_Singularity_Tracing::g_Log
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@0PAUuintPtr@@1@Z ; Class_Microsoft_Singularity_Tracing::g_Log
; Function compile flags: /Ogtp
;	COMDAT ?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@0PAUuintPtr@@1@Z
_TEXT	SEGMENT
_entry$ = -64						; size = 40
_array$ = -24						; size = 24
__$ReturnAddr$ = 4					; size = 4
_arg0$ = 8						; size = 4
_arg1$ = 12						; size = 4
_arg2$ = 16						; size = 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@0PAUuintPtr@@1@Z PROC ; Class_Microsoft_Singularity_Tracing::g_Log, COMDAT
; _severity$ = cl
; _msg$ = edx

; 359  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 360  :     if (!IsTracingEnabled()) return;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00008	83 ec 40	 sub	 esp, 64			; 00000040H
  0000b	56		 push	 esi
  0000c	57		 push	 edi
  0000d	33 ff		 xor	 edi, edi
  0000f	3b c7		 cmp	 eax, edi
  00011	8b f2		 mov	 esi, edx
  00013	0f 84 aa 00 00
	00		 je	 $LN2@g_Log@11
  00019	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  00020	0f 84 9d 00 00
	00		 je	 $LN2@g_Log@11

; 361  : 
; 362  :     LEGACY_LOG_ENTRY entry = {severity,GetCurrentProcessId(), (UIntPtr)_ReturnAddress(),

  00026	88 4d c0	 mov	 BYTE PTR _entry$[ebp], cl
  00029	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  0002e	66 8b 80 74 02
	00 00		 mov	 ax, WORD PTR [eax+628]

; 363  :                               1,arg1,arg2,0,0,0,0,2,0};

  00035	8b 55 0c	 mov	 edx, DWORD PTR _arg1$[ebp]
  00038	8b 4d 04	 mov	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  0003b	66 89 45 c2	 mov	 WORD PTR _entry$[ebp+2], ax
  0003f	8b 45 10	 mov	 eax, DWORD PTR _arg2$[ebp]
  00042	89 55 cc	 mov	 DWORD PTR _entry$[ebp+12], edx

; 364  : 
; 365  :     Struct_Microsoft_Singularity_Eventing_ArrayType array[] = {
; 366  :         {msg->m_stringLength,

  00045	66 8b 56 08	 mov	 dx, WORD PTR [esi+8]
  00049	89 45 d0	 mov	 DWORD PTR _entry$[ebp+16], eax

; 367  :          sizeof(char),
; 368  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 369  :          &msg->m_firstChar},
; 370  :         {arg0->m_stringLength,

  0004c	8b 45 08	 mov	 eax, DWORD PTR _arg0$[ebp]
  0004f	83 c6 0c	 add	 esi, 12			; 0000000cH
  00052	89 75 f0	 mov	 DWORD PTR _array$[ebp+8], esi
  00055	66 8b 70 08	 mov	 si, WORD PTR [eax+8]

; 371  :          sizeof(char),
; 372  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 373  :          &arg0->m_firstChar}};

  00059	83 c0 0c	 add	 eax, 12			; 0000000cH
  0005c	89 45 fc	 mov	 DWORD PTR _array$[ebp+20], eax
  0005f	66 89 55 e8	 mov	 WORD PTR _array$[ebp], dx

; 374  : 
; 375  :     InternalLogVariableRecord(true,
; 376  :                               TracingStorageHandle,
; 377  :                               TracingSource->ControlFlags,
; 378  :                               TracingTypeHandle,
; 379  :                               &entry,
; 380  :                               sizeof(entry),
; 381  :                               sizeof(array)/sizeof(array[0]),
; 382  :                               array);

  00063	8d 45 e8	 lea	 eax, DWORD PTR _array$[ebp]
  00066	50		 push	 eax
  00067	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  0006c	6a 02		 push	 2
  0006e	ba 00 40 00 00	 mov	 edx, 16384		; 00004000H
  00073	89 55 ec	 mov	 DWORD PTR _array$[ebp+4], edx
  00076	89 55 f8	 mov	 DWORD PTR _array$[ebp+16], edx
  00079	6a 28		 push	 40			; 00000028H
  0007b	89 4d c4	 mov	 DWORD PTR _entry$[ebp+4], ecx
  0007e	b9 01 00 00 00	 mov	 ecx, 1
  00083	8d 55 c0	 lea	 edx, DWORD PTR _entry$[ebp]
  00086	52		 push	 edx
  00087	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  0008d	50		 push	 eax
  0008e	66 89 4d c8	 mov	 WORD PTR _entry$[ebp+8], cx
  00092	89 7d d4	 mov	 DWORD PTR _entry$[ebp+20], edi
  00095	89 7d d8	 mov	 DWORD PTR _entry$[ebp+24], edi
  00098	89 7d dc	 mov	 DWORD PTR _entry$[ebp+28], edi
  0009b	89 7d e0	 mov	 DWORD PTR _entry$[ebp+32], edi
  0009e	66 c7 45 e4 02
	00		 mov	 WORD PTR _entry$[ebp+36], 2
  000a4	66 89 7d e6	 mov	 WORD PTR _entry$[ebp+38], di
  000a8	66 89 4d ea	 mov	 WORD PTR _array$[ebp+2], cx
  000ac	66 89 75 f4	 mov	 WORD PTR _array$[ebp+12], si
  000b0	66 89 4d f6	 mov	 WORD PTR _array$[ebp+14], cx
  000b4	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  000b7	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  000bd	50		 push	 eax
  000be	e8 00 00 00 00	 call	 ?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z ; InternalLogVariableRecord
$LN2@g_Log@11:
  000c3	5f		 pop	 edi
  000c4	5e		 pop	 esi

; 383  : 
; 384  : }

  000c5	8b e5		 mov	 esp, ebp
  000c7	5d		 pop	 ebp
  000c8	c2 0c 00	 ret	 12			; 0000000cH
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@0PAUuintPtr@@1@Z ENDP ; Class_Microsoft_Singularity_Tracing::g_Log
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@00@Z ; Class_Microsoft_Singularity_Tracing::g_Log
; Function compile flags: /Ogtp
;	COMDAT ?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@00@Z
_TEXT	SEGMENT
_entry$ = -76						; size = 40
_array$ = -36						; size = 36
__$ReturnAddr$ = 4					; size = 4
_arg0$ = 8						; size = 4
_arg1$ = 12						; size = 4
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@00@Z PROC ; Class_Microsoft_Singularity_Tracing::g_Log, COMDAT
; _severity$ = cl
; _msg$ = edx

; 391  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 392  :     if (!IsTracingEnabled()) return;

  00003	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  00008	83 ec 4c	 sub	 esp, 76			; 0000004cH
  0000b	56		 push	 esi
  0000c	33 f6		 xor	 esi, esi
  0000e	3b c6		 cmp	 eax, esi
  00010	57		 push	 edi
  00011	8b fa		 mov	 edi, edx
  00013	0f 84 be 00 00
	00		 je	 $LN2@g_Log@12
  00019	f7 40 14 00 00
	01 00		 test	 DWORD PTR [eax+20], 65536 ; 00010000H
  00020	0f 84 b1 00 00
	00		 je	 $LN2@g_Log@12

; 393  : 
; 394  :     LEGACY_LOG_ENTRY entry = {severity,GetCurrentProcessId(), (UIntPtr)_ReturnAddress(),

  00026	88 4d b4	 mov	 BYTE PTR _entry$[ebp], cl
  00029	e8 00 00 00 00	 call	 ?g_GetCurrentThreadContext@Class_Microsoft_Singularity_Processor@@SIPAUStruct_Microsoft_Singularity_ThreadContext@@XZ ; Class_Microsoft_Singularity_Processor::g_GetCurrentThreadContext
  0002e	66 8b 80 74 02
	00 00		 mov	 ax, WORD PTR [eax+628]

; 395  :                               1,0,0,0,0,0,0,2,3};
; 396  :     Struct_Microsoft_Singularity_Eventing_ArrayType array[] = {
; 397  :         {msg->m_stringLength,

  00035	66 8b 57 08	 mov	 dx, WORD PTR [edi+8]
  00039	8b 4d 04	 mov	 ecx, DWORD PTR __$ReturnAddr$[ebp]
  0003c	66 89 45 b6	 mov	 WORD PTR _entry$[ebp+2], ax

; 398  :          sizeof(char),
; 399  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 400  :          &msg->m_firstChar},
; 401  :         {arg0->m_stringLength,

  00040	8b 45 08	 mov	 eax, DWORD PTR _arg0$[ebp]

; 402  :          sizeof(char),
; 403  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 404  :          &arg0->m_firstChar},

  00043	83 c0 0c	 add	 eax, 12			; 0000000cH
  00046	89 75 c0	 mov	 DWORD PTR _entry$[ebp+12], esi
  00049	89 75 c4	 mov	 DWORD PTR _entry$[ebp+16], esi
  0004c	89 75 c8	 mov	 DWORD PTR _entry$[ebp+20], esi
  0004f	89 75 cc	 mov	 DWORD PTR _entry$[ebp+24], esi
  00052	89 75 d0	 mov	 DWORD PTR _entry$[ebp+28], esi
  00055	89 75 d4	 mov	 DWORD PTR _entry$[ebp+32], esi
  00058	0f b7 70 fc	 movzx	 esi, WORD PTR [eax-4]
  0005c	89 45 f0	 mov	 DWORD PTR _array$[ebp+20], eax

; 405  :         {arg1->m_stringLength,

  0005f	8b 45 0c	 mov	 eax, DWORD PTR _arg1$[ebp]
  00062	66 89 75 e8	 mov	 WORD PTR _array$[ebp+12], si
  00066	0f b7 70 08	 movzx	 esi, WORD PTR [eax+8]

; 406  :          sizeof(char),
; 407  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 408  :          &arg1->m_firstChar}};

  0006a	83 c0 0c	 add	 eax, 12			; 0000000cH
  0006d	89 45 fc	 mov	 DWORD PTR _array$[ebp+32], eax
  00070	66 89 55 dc	 mov	 WORD PTR _array$[ebp], dx

; 409  : 
; 410  :     InternalLogVariableRecord(true,
; 411  :                               TracingStorageHandle,
; 412  :                               TracingSource->ControlFlags,
; 413  :                               TracingTypeHandle,
; 414  :                               &entry,
; 415  :                               sizeof(entry),
; 416  :                               sizeof(array)/sizeof(array[0]),
; 417  :                               array);

  00074	8d 45 dc	 lea	 eax, DWORD PTR _array$[ebp]
  00077	50		 push	 eax
  00078	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  0007d	ba 00 40 00 00	 mov	 edx, 16384		; 00004000H
  00082	6a 03		 push	 3
  00084	89 55 e0	 mov	 DWORD PTR _array$[ebp+4], edx
  00087	89 55 ec	 mov	 DWORD PTR _array$[ebp+16], edx
  0008a	89 55 f8	 mov	 DWORD PTR _array$[ebp+28], edx
  0008d	6a 28		 push	 40			; 00000028H
  0008f	89 4d b8	 mov	 DWORD PTR _entry$[ebp+4], ecx
  00092	b9 01 00 00 00	 mov	 ecx, 1
  00097	8d 55 b4	 lea	 edx, DWORD PTR _entry$[ebp]
  0009a	52		 push	 edx
  0009b	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  000a1	83 c7 0c	 add	 edi, 12			; 0000000cH
  000a4	50		 push	 eax
  000a5	66 89 4d bc	 mov	 WORD PTR _entry$[ebp+8], cx
  000a9	66 c7 45 d8 02
	00		 mov	 WORD PTR _entry$[ebp+36], 2
  000af	66 c7 45 da 03
	00		 mov	 WORD PTR _entry$[ebp+38], 3
  000b5	66 89 4d de	 mov	 WORD PTR _array$[ebp+2], cx
  000b9	89 7d e4	 mov	 DWORD PTR _array$[ebp+8], edi
  000bc	66 89 4d ea	 mov	 WORD PTR _array$[ebp+14], cx
  000c0	66 89 75 f4	 mov	 WORD PTR _array$[ebp+24], si
  000c4	66 89 4d f6	 mov	 WORD PTR _array$[ebp+26], cx
  000c8	8b 42 14	 mov	 eax, DWORD PTR [edx+20]
  000cb	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  000d1	50		 push	 eax
  000d2	e8 00 00 00 00	 call	 ?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z ; InternalLogVariableRecord
$LN2@g_Log@12:
  000d7	5f		 pop	 edi
  000d8	5e		 pop	 esi

; 418  : }

  000d9	8b e5		 mov	 esp, ebp
  000db	5d		 pop	 ebp
  000dc	c2 08 00	 ret	 8
?g_Log@Class_Microsoft_Singularity_Tracing@@SIXEPAUClass_System_String@@00@Z ENDP ; Class_Microsoft_Singularity_Tracing::g_Log
_TEXT	ENDS
PUBLIC	?LogExceptionInfo@@YIXPAUuintPtr@@0PAUClass_System_String@@@Z ; LogExceptionInfo
; Function compile flags: /Ogtp
;	COMDAT ?LogExceptionInfo@@YIXPAUuintPtr@@0PAUClass_System_String@@@Z
_TEXT	SEGMENT
_entry$ = -24						; size = 12
_array$ = -12						; size = 12
_exceptionName$ = 8					; size = 4
?LogExceptionInfo@@YIXPAUuintPtr@@0PAUClass_System_String@@@Z PROC ; LogExceptionInfo, COMDAT
; _throwFrom$ = ecx
; _handler$ = edx

; 422  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 18	 sub	 esp, 24			; 00000018H
  00006	56		 push	 esi

; 423  :     if (!IsTracingEnabled()) return;

  00007	8b 35 00 00 00
	00		 mov	 esi, DWORD PTR ?TracingSource@@3PAU_SOURCE_DESCRIPTOR@@A ; TracingSource
  0000d	85 f6		 test	 esi, esi
  0000f	74 54		 je	 SHORT $LN2@LogExcepti
  00011	f7 46 14 00 00
	01 00		 test	 DWORD PTR [esi+20], 65536 ; 00010000H
  00018	74 4b		 je	 SHORT $LN2@LogExcepti

; 424  : 
; 425  :     LOG_EXCEPTION entry = {throwFrom, handler, 1};
; 426  : 
; 427  :     Struct_Microsoft_Singularity_Eventing_ArrayType array[] = {
; 428  :         {exceptionName->m_stringLength,

  0001a	8b 45 08	 mov	 eax, DWORD PTR _exceptionName$[ebp]
  0001d	89 55 ec	 mov	 DWORD PTR _entry$[ebp+4], edx
  00020	66 8b 50 08	 mov	 dx, WORD PTR [eax+8]

; 429  :          sizeof(char),
; 430  :          Class_Microsoft_Singularity_Eventing_DataType___string,
; 431  :          &exceptionName->m_firstChar}};

  00024	83 c0 0c	 add	 eax, 12			; 0000000cH
  00027	89 45 fc	 mov	 DWORD PTR _array$[ebp+8], eax
  0002a	89 4d e8	 mov	 DWORD PTR _entry$[ebp], ecx
  0002d	b9 01 00 00 00	 mov	 ecx, 1

; 432  : 
; 433  :     InternalLogVariableRecord(true,
; 434  :                               TracingStorageHandle,
; 435  :                               TracingSource->ControlFlags,
; 436  :                               TracingTypeHandle,
; 437  :                               &entry,
; 438  :                               sizeof(entry),
; 439  :                               sizeof(array)/sizeof(array[0]),
; 440  :                               array);

  00032	8d 45 f4	 lea	 eax, DWORD PTR _array$[ebp]
  00035	50		 push	 eax
  00036	a1 00 00 00 00	 mov	 eax, DWORD PTR ?TracingTypeHandle@@3PAUuintPtr@@A ; TracingTypeHandle
  0003b	51		 push	 ecx
  0003c	66 89 55 f4	 mov	 WORD PTR _array$[ebp], dx
  00040	6a 0c		 push	 12			; 0000000cH
  00042	8d 55 e8	 lea	 edx, DWORD PTR _entry$[ebp]
  00045	52		 push	 edx
  00046	66 89 4d f0	 mov	 WORD PTR _entry$[ebp+8], cx
  0004a	66 89 4d f6	 mov	 WORD PTR _array$[ebp+2], cx
  0004e	c7 45 f8 00 40
	00 00		 mov	 DWORD PTR _array$[ebp+4], 16384 ; 00004000H
  00055	8b 56 14	 mov	 edx, DWORD PTR [esi+20]
  00058	50		 push	 eax
  00059	52		 push	 edx
  0005a	8b 15 00 00 00
	00		 mov	 edx, DWORD PTR ?TracingStorageHandle@@3PAUuintPtr@@A ; TracingStorageHandle
  00060	e8 00 00 00 00	 call	 ?InternalLogVariableRecord@@YIPAU_MEMORY_HEADER@@_NPAUuintPtr@@I1PAXIHPAUStruct_Microsoft_Singularity_Eventing_ArrayType@@@Z ; InternalLogVariableRecord
$LN2@LogExcepti:
  00065	5e		 pop	 esi

; 441  : }

  00066	8b e5		 mov	 esp, ebp
  00068	5d		 pop	 ebp
  00069	c2 04 00	 ret	 4
?LogExceptionInfo@@YIXPAUuintPtr@@0PAUClass_System_String@@@Z ENDP ; LogExceptionInfo
_TEXT	ENDS
END
