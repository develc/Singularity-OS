; Listing generated by Microsoft (R) Optimizing Compiler Version 14.00.50727.762 

	TITLE	C:\Users\cc\source\repos\Singularity-OS\base\Kernel\Singularity\Isal\isac.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?g_Halt@Class_Microsoft_Singularity_Isal_Isa@@SIXXZ ; Class_Microsoft_Singularity_Isal_Isa::g_Halt
; Function compile flags: /Ogtp
; File c:\users\cc\source\repos\singularity-os\base\kernel\singularity\isal\isac.cpp
;	COMDAT ?g_Halt@Class_Microsoft_Singularity_Isal_Isa@@SIXXZ
_TEXT	SEGMENT
?g_Halt@Class_Microsoft_Singularity_Isal_Isa@@SIXXZ PROC ; Class_Microsoft_Singularity_Isal_Isa::g_Halt, COMDAT

; 16   :     __halt();

  00000	f4		 hlt

; 17   : }

  00001	c3		 ret	 0
?g_Halt@Class_Microsoft_Singularity_Isal_Isa@@SIXXZ ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_Halt
_TEXT	ENDS
PUBLIC	?g_EnableInterrupts@Class_Microsoft_Singularity_Isal_Isa@@SIXXZ ; Class_Microsoft_Singularity_Isal_Isa::g_EnableInterrupts
; Function compile flags: /Ogtp
;	COMDAT ?g_EnableInterrupts@Class_Microsoft_Singularity_Isal_Isa@@SIXXZ
_TEXT	SEGMENT
?g_EnableInterrupts@Class_Microsoft_Singularity_Isal_Isa@@SIXXZ PROC ; Class_Microsoft_Singularity_Isal_Isa::g_EnableInterrupts, COMDAT

; 21   :     _enable();

  00000	fb		 sti

; 22   : }

  00001	c3		 ret	 0
?g_EnableInterrupts@Class_Microsoft_Singularity_Isal_Isa@@SIXXZ ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_EnableInterrupts
_TEXT	ENDS
PUBLIC	?g_DisableInterrupts@Class_Microsoft_Singularity_Isal_Isa@@SI_NXZ ; Class_Microsoft_Singularity_Isal_Isa::g_DisableInterrupts
; Function compile flags: /Ogtp
;	COMDAT ?g_DisableInterrupts@Class_Microsoft_Singularity_Isal_Isa@@SI_NXZ
_TEXT	SEGMENT
?g_DisableInterrupts@Class_Microsoft_Singularity_Isal_Isa@@SI_NXZ PROC ; Class_Microsoft_Singularity_Isal_Isa::g_DisableInterrupts, COMDAT

; 26   :     bool enabled = (__readeflags() & Struct_Microsoft_Singularity_Isal_IX_EFlags_IF) != 0;

  00000	9c		 pushfd
  00001	58		 pop	 eax
  00002	c1 e8 09	 shr	 eax, 9
  00005	24 01		 and	 al, 1

; 27   :     _disable();

  00007	fa		 cli

; 28   :     return enabled;
; 29   : }

  00008	c3		 ret	 0
?g_DisableInterrupts@Class_Microsoft_Singularity_Isal_Isa@@SI_NXZ ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_DisableInterrupts
_TEXT	ENDS
PUBLIC	?g_AreInterruptsDisabled@Class_Microsoft_Singularity_Isal_Isa@@SI_NXZ ; Class_Microsoft_Singularity_Isal_Isa::g_AreInterruptsDisabled
; Function compile flags: /Ogtp
;	COMDAT ?g_AreInterruptsDisabled@Class_Microsoft_Singularity_Isal_Isa@@SI_NXZ
_TEXT	SEGMENT
?g_AreInterruptsDisabled@Class_Microsoft_Singularity_Isal_Isa@@SI_NXZ PROC ; Class_Microsoft_Singularity_Isal_Isa::g_AreInterruptsDisabled, COMDAT

; 33   :     return (__readeflags() & Struct_Microsoft_Singularity_Isal_IX_EFlags_IF) == 0;

  00000	9c		 pushfd
  00001	58		 pop	 eax
  00002	c1 e8 09	 shr	 eax, 9
  00005	f7 d0		 not	 eax
  00007	83 e0 01	 and	 eax, 1

; 34   : }

  0000a	c3		 ret	 0
?g_AreInterruptsDisabled@Class_Microsoft_Singularity_Isal_Isa@@SI_NXZ ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_AreInterruptsDisabled
_TEXT	ENDS
PUBLIC	?g_EnablePaging@Class_Microsoft_Singularity_Isal_Isa@@SIXI@Z ; Class_Microsoft_Singularity_Isal_Isa::g_EnablePaging
; Function compile flags: /Ogtp
;	COMDAT ?g_EnablePaging@Class_Microsoft_Singularity_Isal_Isa@@SIXI@Z
_TEXT	SEGMENT
?g_EnablePaging@Class_Microsoft_Singularity_Isal_Isa@@SIXI@Z PROC ; Class_Microsoft_Singularity_Isal_Isa::g_EnablePaging, COMDAT
; _pdpt$ = ecx

; 38   :     // use the pdpt argument directly as the cr3 value. This leaves
; 39   :     // top-level write-through and cache-disable turned off.
; 40   :     __writecr3(pdpt);

  00000	0f 22 d9	 mov	 cr3, ecx

; 41   : 
; 42   :     uintptr cr0 = __readcr0();

  00003	0f 20 c0	 mov	 eax, cr0

; 43   :     cr0 |= Struct_Microsoft_Singularity_Isal_IX_CR0_WP;
; 44   :     cr0 |= Struct_Microsoft_Singularity_Isal_IX_CR0_PG;

  00006	0d 00 00 01 80	 or	 eax, -2147418112	; 80010000H

; 45   :     __writecr0(cr0);

  0000b	0f 22 c0	 mov	 cr0, eax

; 46   : }

  0000e	c3		 ret	 0
?g_EnablePaging@Class_Microsoft_Singularity_Isal_Isa@@SIXI@Z ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_EnablePaging
_TEXT	ENDS
PUBLIC	?g_ChangePageTableRoot@Class_Microsoft_Singularity_Isal_Isa@@SIXI@Z ; Class_Microsoft_Singularity_Isal_Isa::g_ChangePageTableRoot
; Function compile flags: /Ogtp
;	COMDAT ?g_ChangePageTableRoot@Class_Microsoft_Singularity_Isal_Isa@@SIXI@Z
_TEXT	SEGMENT
?g_ChangePageTableRoot@Class_Microsoft_Singularity_Isal_Isa@@SIXI@Z PROC ; Class_Microsoft_Singularity_Isal_Isa::g_ChangePageTableRoot, COMDAT
; _pdpt$ = ecx

; 50   :     __writecr3(pdpt);

  00000	0f 22 d9	 mov	 cr3, ecx

; 51   : }

  00003	c3		 ret	 0
?g_ChangePageTableRoot@Class_Microsoft_Singularity_Isal_Isa@@SIXI@Z ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_ChangePageTableRoot
_TEXT	ENDS
PUBLIC	?g_DisablePaging@Class_Microsoft_Singularity_Isal_Isa@@SIXXZ ; Class_Microsoft_Singularity_Isal_Isa::g_DisablePaging
; Function compile flags: /Ogtp
;	COMDAT ?g_DisablePaging@Class_Microsoft_Singularity_Isal_Isa@@SIXXZ
_TEXT	SEGMENT
?g_DisablePaging@Class_Microsoft_Singularity_Isal_Isa@@SIXXZ PROC ; Class_Microsoft_Singularity_Isal_Isa::g_DisablePaging, COMDAT

; 55   :     // Turn off paging.
; 56   :     uintptr cr0 = __readcr0();

  00000	0f 20 c0	 mov	 eax, cr0

; 57   :     cr0 &= ~Struct_Microsoft_Singularity_Isal_IX_CR0_WP;
; 58   :     cr0 &= ~Struct_Microsoft_Singularity_Isal_IX_CR0_PG;

  00003	25 ff ff fe 7f	 and	 eax, 2147418111		; 7ffeffffH

; 59   :     __writecr0(cr0);

  00008	0f 22 c0	 mov	 cr0, eax

; 60   : 
; 61   :     // Flush and reset the TLB.
; 62   :     __writecr3(0);

  0000b	33 c0		 xor	 eax, eax
  0000d	0f 22 d8	 mov	 cr3, eax

; 63   : }

  00010	c3		 ret	 0
?g_DisablePaging@Class_Microsoft_Singularity_Isal_Isa@@SIXXZ ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_DisablePaging
_TEXT	ENDS
PUBLIC	?g_InvalidateTLBEntry@Class_Microsoft_Singularity_Isal_Isa@@SIXPAUuintPtr@@@Z ; Class_Microsoft_Singularity_Isal_Isa::g_InvalidateTLBEntry
; Function compile flags: /Ogtp
;	COMDAT ?g_InvalidateTLBEntry@Class_Microsoft_Singularity_Isal_Isa@@SIXPAUuintPtr@@@Z
_TEXT	SEGMENT
?g_InvalidateTLBEntry@Class_Microsoft_Singularity_Isal_Isa@@SIXPAUuintPtr@@@Z PROC ; Class_Microsoft_Singularity_Isal_Isa::g_InvalidateTLBEntry, COMDAT
; _pageAddr$ = ecx

; 67   :     __invlpg((void *) pageAddr);

  00000	0f 01 39	 invlpg	 DWORD PTR [ecx]

; 68   : }

  00003	c3		 ret	 0
?g_InvalidateTLBEntry@Class_Microsoft_Singularity_Isal_Isa@@SIXPAUuintPtr@@@Z ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_InvalidateTLBEntry
_TEXT	ENDS
PUBLIC	?g_GetPageTableRoot@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@XZ ; Class_Microsoft_Singularity_Isal_Isa::g_GetPageTableRoot
; Function compile flags: /Ogtp
;	COMDAT ?g_GetPageTableRoot@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@XZ
_TEXT	SEGMENT
?g_GetPageTableRoot@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@XZ PROC ; Class_Microsoft_Singularity_Isal_Isa::g_GetPageTableRoot, COMDAT

; 72   :     return (UIntPtr) __readcr3();

  00000	0f 20 d8	 mov	 eax, cr3

; 73   : }

  00003	c3		 ret	 0
?g_GetPageTableRoot@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@XZ ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_GetPageTableRoot
_TEXT	ENDS
PUBLIC	?g_WriteMsr@Class_Microsoft_Singularity_Isal_Isa@@SIXI_K@Z ; Class_Microsoft_Singularity_Isal_Isa::g_WriteMsr
; Function compile flags: /Ogtp
;	COMDAT ?g_WriteMsr@Class_Microsoft_Singularity_Isal_Isa@@SIXI_K@Z
_TEXT	SEGMENT
_value$ = 8						; size = 8
?g_WriteMsr@Class_Microsoft_Singularity_Isal_Isa@@SIXI_K@Z PROC ; Class_Microsoft_Singularity_Isal_Isa::g_WriteMsr, COMDAT
; _reg$ = ecx

; 78   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 79   :     __writemsr(reg, value);

  00003	8b 45 08	 mov	 eax, DWORD PTR _value$[ebp]
  00006	8b 55 0c	 mov	 edx, DWORD PTR _value$[ebp+4]
  00009	0f 30		 wrmsr

; 80   : }

  0000b	5d		 pop	 ebp
  0000c	c2 08 00	 ret	 8
?g_WriteMsr@Class_Microsoft_Singularity_Isal_Isa@@SIXI_K@Z ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_WriteMsr
_TEXT	ENDS
PUBLIC	?g_ReadMsr@Class_Microsoft_Singularity_Isal_Isa@@SI_KI@Z ; Class_Microsoft_Singularity_Isal_Isa::g_ReadMsr
; Function compile flags: /Ogtp
;	COMDAT ?g_ReadMsr@Class_Microsoft_Singularity_Isal_Isa@@SI_KI@Z
_TEXT	SEGMENT
?g_ReadMsr@Class_Microsoft_Singularity_Isal_Isa@@SI_KI@Z PROC ; Class_Microsoft_Singularity_Isal_Isa::g_ReadMsr, COMDAT
; _reg$ = ecx

; 84   :     return __readmsr(reg);

  00000	0f 32		 rdmsr

; 85   : }

  00002	c3		 ret	 0
?g_ReadMsr@Class_Microsoft_Singularity_Isal_Isa@@SI_KI@Z ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_ReadMsr
_TEXT	ENDS
PUBLIC	?g_RepInS@Class_Microsoft_Singularity_Isal_Isa@@SIXIGPAE@Z ; Class_Microsoft_Singularity_Isal_Isa::g_RepInS
; Function compile flags: /Ogtp
;	COMDAT ?g_RepInS@Class_Microsoft_Singularity_Isal_Isa@@SIXIGPAE@Z
_TEXT	SEGMENT
_address$ = 8						; size = 4
?g_RepInS@Class_Microsoft_Singularity_Isal_Isa@@SIXIGPAE@Z PROC ; Class_Microsoft_Singularity_Isal_Isa::g_RepInS, COMDAT
; _count$ = ecx
; _port$ = dx

; 88   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	57		 push	 edi

; 89   :     __inbytestring(port, address, count);

  00004	8b 7d 08	 mov	 edi, DWORD PTR _address$[ebp]
  00007	f3 6c		 rep insb
  00009	5f		 pop	 edi

; 90   : }

  0000a	5d		 pop	 ebp
  0000b	c2 04 00	 ret	 4
?g_RepInS@Class_Microsoft_Singularity_Isal_Isa@@SIXIGPAE@Z ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_RepInS
_TEXT	ENDS
PUBLIC	?g_RepOutS@Class_Microsoft_Singularity_Isal_Isa@@SIXIGPAE@Z ; Class_Microsoft_Singularity_Isal_Isa::g_RepOutS
; Function compile flags: /Ogtp
;	COMDAT ?g_RepOutS@Class_Microsoft_Singularity_Isal_Isa@@SIXIGPAE@Z
_TEXT	SEGMENT
_address$ = 8						; size = 4
?g_RepOutS@Class_Microsoft_Singularity_Isal_Isa@@SIXIGPAE@Z PROC ; Class_Microsoft_Singularity_Isal_Isa::g_RepOutS, COMDAT
; _count$ = ecx
; _port$ = dx

; 93   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	56		 push	 esi

; 94   :     __outbytestring(port, address, count);

  00004	8b 75 08	 mov	 esi, DWORD PTR _address$[ebp]
  00007	f3 6e		 rep outsb
  00009	5e		 pop	 esi

; 95   : }

  0000a	5d		 pop	 ebp
  0000b	c2 04 00	 ret	 4
?g_RepOutS@Class_Microsoft_Singularity_Isal_Isa@@SIXIGPAE@Z ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_RepOutS
_TEXT	ENDS
PUBLIC	?g_Out@Class_Microsoft_Singularity_Isal_Isa@@SIXGH@Z ; Class_Microsoft_Singularity_Isal_Isa::g_Out
; Function compile flags: /Ogtp
;	COMDAT ?g_Out@Class_Microsoft_Singularity_Isal_Isa@@SIXGH@Z
_TEXT	SEGMENT
?g_Out@Class_Microsoft_Singularity_Isal_Isa@@SIXGH@Z PROC ; Class_Microsoft_Singularity_Isal_Isa::g_Out, COMDAT
; _port$ = cx
; _value$ = edx

; 98   : {

  00000	8b c2		 mov	 eax, edx

; 99   :     __outdword(port, value);

  00002	66 8b d1	 mov	 dx, cx
  00005	ef		 out	 dx, eax

; 100  : }

  00006	c3		 ret	 0
?g_Out@Class_Microsoft_Singularity_Isal_Isa@@SIXGH@Z ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_Out
_TEXT	ENDS
PUBLIC	?g_GetCycleCount@Class_Microsoft_Singularity_Isal_Isa@@SI_KXZ ; Class_Microsoft_Singularity_Isal_Isa::g_GetCycleCount
; Function compile flags: /Ogtp
;	COMDAT ?g_GetCycleCount@Class_Microsoft_Singularity_Isal_Isa@@SI_KXZ
_TEXT	SEGMENT
?g_GetCycleCount@Class_Microsoft_Singularity_Isal_Isa@@SI_KXZ PROC ; Class_Microsoft_Singularity_Isal_Isa::g_GetCycleCount, COMDAT

; 104  :     return __rdtsc();

  00000	0f 31		 rdtsc

; 105  : }

  00002	c3		 ret	 0
?g_GetCycleCount@Class_Microsoft_Singularity_Isal_Isa@@SI_KXZ ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_GetCycleCount
_TEXT	ENDS
PUBLIC	?g_ReadPmc@Class_Microsoft_Singularity_Isal_Isa@@SI_KI@Z ; Class_Microsoft_Singularity_Isal_Isa::g_ReadPmc
; Function compile flags: /Ogtp
;	COMDAT ?g_ReadPmc@Class_Microsoft_Singularity_Isal_Isa@@SI_KI@Z
_TEXT	SEGMENT
?g_ReadPmc@Class_Microsoft_Singularity_Isal_Isa@@SI_KI@Z PROC ; Class_Microsoft_Singularity_Isal_Isa::g_ReadPmc, COMDAT
; _offset$ = ecx

; 109  :     return __readpmc(offset);

  00000	0f 33		 rdpmc

; 110  : }

  00002	c3		 ret	 0
?g_ReadPmc@Class_Microsoft_Singularity_Isal_Isa@@SI_KI@Z ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_ReadPmc
_TEXT	ENDS
PUBLIC	?g_ReadCpuid@Class_Microsoft_Singularity_Isal_Isa@@SIXIPAI000@Z ; Class_Microsoft_Singularity_Isal_Isa::g_ReadCpuid
; Function compile flags: /Ogtp
;	COMDAT ?g_ReadCpuid@Class_Microsoft_Singularity_Isal_Isa@@SIXIPAI000@Z
_TEXT	SEGMENT
_params$ = -20						; size = 16
_v0$ = -4						; size = 4
_v1$ = 8						; size = 4
_v2$ = 12						; size = 4
_v3$ = 16						; size = 4
?g_ReadCpuid@Class_Microsoft_Singularity_Isal_Isa@@SIXIPAI000@Z PROC ; Class_Microsoft_Singularity_Isal_Isa::g_ReadCpuid, COMDAT
; _feature$ = ecx
; _v0$ = edx

; 115  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp
  00003	83 ec 14	 sub	 esp, 20			; 00000014H
  00006	8b c1		 mov	 eax, ecx
  00008	53		 push	 ebx
  00009	89 55 fc	 mov	 DWORD PTR _v0$[ebp], edx

; 116  :     int params[4];
; 117  : 
; 118  :     __cpuid(params, feature);

  0000c	0f a2		 cpuid
  0000e	56		 push	 esi
  0000f	8d 75 ec	 lea	 esi, DWORD PTR _params$[ebp]
  00012	89 06		 mov	 DWORD PTR [esi], eax
  00014	89 5e 04	 mov	 DWORD PTR [esi+4], ebx
  00017	89 4e 08	 mov	 DWORD PTR [esi+8], ecx

; 119  : 
; 120  :     *v0 = params[0];

  0001a	8b 4d fc	 mov	 ecx, DWORD PTR _v0$[ebp]
  0001d	89 56 0c	 mov	 DWORD PTR [esi+12], edx
  00020	8b 45 ec	 mov	 eax, DWORD PTR _params$[ebp]

; 121  :     *v1 = params[1];

  00023	8b 55 08	 mov	 edx, DWORD PTR _v1$[ebp]
  00026	89 01		 mov	 DWORD PTR [ecx], eax
  00028	8b 45 f0	 mov	 eax, DWORD PTR _params$[ebp+4]

; 122  :     *v2 = params[2];

  0002b	8b 4d 0c	 mov	 ecx, DWORD PTR _v2$[ebp]
  0002e	89 02		 mov	 DWORD PTR [edx], eax
  00030	8b 55 f4	 mov	 edx, DWORD PTR _params$[ebp+8]

; 123  :     *v3 = params[3];

  00033	8b 45 10	 mov	 eax, DWORD PTR _v3$[ebp]
  00036	89 11		 mov	 DWORD PTR [ecx], edx
  00038	8b 4d f8	 mov	 ecx, DWORD PTR _params$[ebp+12]
  0003b	5e		 pop	 esi
  0003c	89 08		 mov	 DWORD PTR [eax], ecx
  0003e	5b		 pop	 ebx

; 124  : }

  0003f	8b e5		 mov	 esp, ebp
  00041	5d		 pop	 ebp
  00042	c2 0c 00	 ret	 12			; 0000000cH
?g_ReadCpuid@Class_Microsoft_Singularity_Isal_Isa@@SIXIPAI000@Z ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_ReadCpuid
_TEXT	ENDS
PUBLIC	?g_GetFrameReturnAddress@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@PAU2@@Z ; Class_Microsoft_Singularity_Isal_Isa::g_GetFrameReturnAddress
; Function compile flags: /Ogtp
;	COMDAT ?g_GetFrameReturnAddress@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@PAU2@@Z
_TEXT	SEGMENT
?g_GetFrameReturnAddress@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@PAU2@@Z PROC ; Class_Microsoft_Singularity_Isal_Isa::g_GetFrameReturnAddress, COMDAT
; _frame$ = ecx

; 128  :     if (frame < (UIntPtr)0x10000) {

  00000	81 f9 00 00 01
	00		 cmp	 ecx, 65536		; 00010000H
  00006	73 03		 jae	 SHORT $LN1@g_GetFrame

; 129  :         return 0;

  00008	33 c0		 xor	 eax, eax

; 132  : }

  0000a	c3		 ret	 0
$LN1@g_GetFrame:

; 130  :     }
; 131  :     return ((UIntPtr*)frame)[1];

  0000b	8b 41 04	 mov	 eax, DWORD PTR [ecx+4]

; 132  : }

  0000e	c3		 ret	 0
?g_GetFrameReturnAddress@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@PAU2@@Z ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_GetFrameReturnAddress
_TEXT	ENDS
PUBLIC	?g_GetFrameCallerFrame@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@PAU2@@Z ; Class_Microsoft_Singularity_Isal_Isa::g_GetFrameCallerFrame
; Function compile flags: /Ogtp
;	COMDAT ?g_GetFrameCallerFrame@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@PAU2@@Z
_TEXT	SEGMENT
?g_GetFrameCallerFrame@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@PAU2@@Z PROC ; Class_Microsoft_Singularity_Isal_Isa::g_GetFrameCallerFrame, COMDAT
; _frame$ = ecx

; 136  :     if (frame < (UIntPtr)0x10000) {

  00000	81 f9 00 00 01
	00		 cmp	 ecx, 65536		; 00010000H
  00006	73 03		 jae	 SHORT $LN1@g_GetFrame@2

; 137  :         return 0;

  00008	33 c0		 xor	 eax, eax

; 140  : }

  0000a	c3		 ret	 0
$LN1@g_GetFrame@2:

; 138  :     }
; 139  :     return ((UIntPtr*)frame)[0];

  0000b	8b 01		 mov	 eax, DWORD PTR [ecx]

; 140  : }

  0000d	c3		 ret	 0
?g_GetFrameCallerFrame@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@PAU2@@Z ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_GetFrameCallerFrame
_TEXT	ENDS
PUBLIC	__$ReturnAddr$
PUBLIC	?g_GetStackPointer@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@XZ ; Class_Microsoft_Singularity_Isal_Isa::g_GetStackPointer
; Function compile flags: /Ogtp
;	COMDAT ?g_GetStackPointer@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@XZ
_TEXT	SEGMENT
__$ReturnAddr$ = 4					; size = 4
?g_GetStackPointer@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@XZ PROC ; Class_Microsoft_Singularity_Isal_Isa::g_GetStackPointer, COMDAT

; 143  : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 144  :     return (UIntPtr) _AddressOfReturnAddress();

  00003	8d 45 04	 lea	 eax, DWORD PTR __$ReturnAddr$[ebp]

; 145  : }

  00006	5d		 pop	 ebp
  00007	c3		 ret	 0
?g_GetStackPointer@Class_Microsoft_Singularity_Isal_Isa@@SIPAUuintPtr@@XZ ENDP ; Class_Microsoft_Singularity_Isal_Isa::g_GetStackPointer
_TEXT	ENDS
END
