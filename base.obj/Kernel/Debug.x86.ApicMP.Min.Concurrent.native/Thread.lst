; Listing generated by Microsoft (R) Optimizing Compiler Version 14.00.50727.762 

	TITLE	C:\Users\cc\source\repos\Singularity-OS\base\Kernel\Native\ix\Thread.cpp
	.686P
	.XMM
	include listing.inc
	.model	flat

INCLUDELIB LIBCMT
INCLUDELIB OLDNAMES

PUBLIC	?m_UpdateAfterGC@Struct_Microsoft_Singularity_ThreadContext@@SIXPAU1@PAUClass_System_Threading_Thread@@@Z ; Struct_Microsoft_Singularity_ThreadContext::m_UpdateAfterGC
; Function compile flags: /Ogtp
; File c:\users\cc\source\repos\singularity-os\base\kernel\native\ix\thread.cpp
;	COMDAT ?m_UpdateAfterGC@Struct_Microsoft_Singularity_ThreadContext@@SIXPAU1@PAUClass_System_Threading_Thread@@@Z
_TEXT	SEGMENT
?m_UpdateAfterGC@Struct_Microsoft_Singularity_ThreadContext@@SIXPAU1@PAUClass_System_Threading_Thread@@@Z PROC ; Struct_Microsoft_Singularity_ThreadContext::m_UpdateAfterGC, COMDAT
; _self$ = ecx
; _thread$ = edx

; 21   :     self->_thread = thread;

  00000	89 91 78 02 00
	00		 mov	 DWORD PTR [ecx+632], edx

; 22   : }

  00006	c3		 ret	 0
?m_UpdateAfterGC@Struct_Microsoft_Singularity_ThreadContext@@SIXPAU1@PAUClass_System_Threading_Thread@@@Z ENDP ; Struct_Microsoft_Singularity_ThreadContext::m_UpdateAfterGC
_TEXT	ENDS
PUBLIC	?m_GetThread@Struct_Microsoft_Singularity_ThreadContext@@SIPAUClass_System_Threading_Thread@@PAU1@@Z ; Struct_Microsoft_Singularity_ThreadContext::m_GetThread
; Function compile flags: /Ogtp
;	COMDAT ?m_GetThread@Struct_Microsoft_Singularity_ThreadContext@@SIPAUClass_System_Threading_Thread@@PAU1@@Z
_TEXT	SEGMENT
?m_GetThread@Struct_Microsoft_Singularity_ThreadContext@@SIPAUClass_System_Threading_Thread@@PAU1@@Z PROC ; Struct_Microsoft_Singularity_ThreadContext::m_GetThread, COMDAT
; _self$ = ecx

; 28   :     return (Class_System_Threading_Thread *) self->_thread;

  00000	8b 81 78 02 00
	00		 mov	 eax, DWORD PTR [ecx+632]

; 29   : }

  00006	c3		 ret	 0
?m_GetThread@Struct_Microsoft_Singularity_ThreadContext@@SIPAUClass_System_Threading_Thread@@PAU1@@Z ENDP ; Struct_Microsoft_Singularity_ThreadContext::m_GetThread
_TEXT	ENDS
PUBLIC	?m_Initialize@Struct_Microsoft_Singularity_ThreadContext@@SIXPAU1@HPAUuintPtr@@I@Z ; Struct_Microsoft_Singularity_ThreadContext::m_Initialize
EXTRN	?m_Initialize@Struct_Microsoft_Singularity_Isal_SpillContext@@SIXPAU1@PAUuintPtr@@11H1@Z:PROC ; Struct_Microsoft_Singularity_Isal_SpillContext::m_Initialize
EXTRN	?g_ThreadStub@Class_System_Threading_Thread@@SIXH@Z:PROC ; Class_System_Threading_Thread::g_ThreadStub
; Function compile flags: /Ogtp
;	COMDAT ?m_Initialize@Struct_Microsoft_Singularity_ThreadContext@@SIXPAU1@HPAUuintPtr@@I@Z
_TEXT	SEGMENT
_stackBegin$ = 8					; size = 4
_cr3$ = 12						; size = 4
?m_Initialize@Struct_Microsoft_Singularity_ThreadContext@@SIXPAU1@HPAUuintPtr@@I@Z PROC ; Struct_Microsoft_Singularity_ThreadContext::m_Initialize, COMDAT
; _self$ = ecx
; _threadIndex$ = edx

; 38   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 39   :     Struct_Microsoft_Singularity_Isal_SpillContext::m_Initialize(&self->threadRecord.spill, 
; 40   :                                           stackBegin, 
; 41   :                                           (UIntPtr) self->stackLimit,
; 42   :                                           (UIntPtr)Class_System_Threading_Thread::g_ThreadStub,
; 43   :                                           threadIndex, 
; 44   :                                           (UIntPtr) cr3);

  00003	8b 45 0c	 mov	 eax, DWORD PTR _cr3$[ebp]
  00006	50		 push	 eax
  00007	52		 push	 edx
  00008	8b 91 70 02 00
	00		 mov	 edx, DWORD PTR [ecx+624]
  0000e	68 00 00 00 00	 push	 OFFSET ?g_ThreadStub@Class_System_Threading_Thread@@SIXH@Z ; Class_System_Threading_Thread::g_ThreadStub
  00013	52		 push	 edx
  00014	8b 55 08	 mov	 edx, DWORD PTR _stackBegin$[ebp]
  00017	e8 00 00 00 00	 call	 ?m_Initialize@Struct_Microsoft_Singularity_Isal_SpillContext@@SIXPAU1@PAUuintPtr@@11H1@Z ; Struct_Microsoft_Singularity_Isal_SpillContext::m_Initialize

; 45   : }

  0001c	5d		 pop	 ebp
  0001d	c2 08 00	 ret	 8
?m_Initialize@Struct_Microsoft_Singularity_ThreadContext@@SIXPAU1@HPAUuintPtr@@I@Z ENDP ; Struct_Microsoft_Singularity_ThreadContext::m_Initialize
_TEXT	ENDS
PUBLIC	?m_InitializeIdle@Struct_Microsoft_Singularity_ThreadContext@@SIXPAU1@HPAUuintPtr@@I@Z ; Struct_Microsoft_Singularity_ThreadContext::m_InitializeIdle
EXTRN	?g_DispatcherThreadStub@Class_System_Threading_Thread@@SIXH@Z:PROC ; Class_System_Threading_Thread::g_DispatcherThreadStub
; Function compile flags: /Ogtp
;	COMDAT ?m_InitializeIdle@Struct_Microsoft_Singularity_ThreadContext@@SIXPAU1@HPAUuintPtr@@I@Z
_TEXT	SEGMENT
_stackBegin$ = 8					; size = 4
_cr3$ = 12						; size = 4
?m_InitializeIdle@Struct_Microsoft_Singularity_ThreadContext@@SIXPAU1@HPAUuintPtr@@I@Z PROC ; Struct_Microsoft_Singularity_ThreadContext::m_InitializeIdle, COMDAT
; _self$ = ecx
; _threadIndex$ = edx

; 53   : {

  00000	55		 push	 ebp
  00001	8b ec		 mov	 ebp, esp

; 54   :     Struct_Microsoft_Singularity_Isal_SpillContext::m_Initialize(&self->threadRecord.spill, 
; 55   :                                           stackBegin,
; 56   :                                           (UIntPtr) self->stackLimit,
; 57   :                                           (UIntPtr)Class_System_Threading_Thread::g_DispatcherThreadStub,
; 58   :                                           threadIndex, 
; 59   :                                           (UIntPtr) cr3);

  00003	8b 45 0c	 mov	 eax, DWORD PTR _cr3$[ebp]
  00006	50		 push	 eax
  00007	52		 push	 edx
  00008	8b 91 70 02 00
	00		 mov	 edx, DWORD PTR [ecx+624]
  0000e	68 00 00 00 00	 push	 OFFSET ?g_DispatcherThreadStub@Class_System_Threading_Thread@@SIXH@Z ; Class_System_Threading_Thread::g_DispatcherThreadStub
  00013	52		 push	 edx
  00014	8b 55 08	 mov	 edx, DWORD PTR _stackBegin$[ebp]
  00017	e8 00 00 00 00	 call	 ?m_Initialize@Struct_Microsoft_Singularity_Isal_SpillContext@@SIXPAU1@PAUuintPtr@@11H1@Z ; Struct_Microsoft_Singularity_Isal_SpillContext::m_Initialize

; 60   : }

  0001c	5d		 pop	 ebp
  0001d	c2 08 00	 ret	 8
?m_InitializeIdle@Struct_Microsoft_Singularity_ThreadContext@@SIXPAU1@HPAUuintPtr@@I@Z ENDP ; Struct_Microsoft_Singularity_ThreadContext::m_InitializeIdle
_TEXT	ENDS
END
