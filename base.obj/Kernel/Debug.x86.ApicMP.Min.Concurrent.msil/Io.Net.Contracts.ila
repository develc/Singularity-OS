
//  Microsoft (R) .NET Framework IL Disassembler.  Version 2.0.50727.42
//  Copyright (c) Microsoft Corporation.  All rights reserved.



// Metadata version: v1.1.9999
.assembly extern Io.Contracts
{
  .ver 0:0:0:0
}
.assembly extern Microsoft.SingSharp.Runtime
{
  .ver 1:0:3555:0
}
.assembly extern System.Compiler.Runtime
{
  .publickeytoken = (73 64 40 C9 B4 14 EA 16 )                         // sd@.....
  .ver 1:0:5031:5
}
.assembly extern kernel
{
  .publickeytoken = (73 64 40 C9 B4 14 EA 16 )                         // sd@.....
  .ver 1:0:0:0
}
.assembly extern Directory.Contracts
{
  .ver 0:0:0:0
}
.assembly Io.Net.Contracts
{
  .custom instance void [kernel]System.Reflection.AssemblyProductAttribute::.ctor(string) = ( 01 00 2F 4D 69 63 72 6F 73 6F 66 74 20 52 65 73   // ../Microsoft Res
                                                                                              65 61 72 63 68 20 53 69 6E 67 75 6C 61 72 69 74   // earch Singularit
                                                                                              79 20 4F 70 65 72 61 74 69 6E 67 20 53 79 73 74   // y Operating Syst
                                                                                              65 6D 00 00 )                                     // em..
  .custom instance void [kernel]System.Reflection.AssemblyCompanyAttribute::.ctor(string) = ( 01 00 15 4D 69 63 72 6F 73 6F 66 74 20 43 6F 72   // ...Microsoft Cor
                                                                                              70 6F 72 61 74 69 6F 6E 00 00 )                   // poration..
  .custom instance void [kernel]System.Reflection.AssemblyKeyFileAttribute::.ctor(string) = ( 01 00 0A 70 75 62 6C 69 63 2E 73 6E 6B 00 00 )    // ...public.snk..
  .custom instance void [kernel]System.Reflection.AssemblyDelaySignAttribute::.ctor(bool) = ( 01 00 01 00 00 ) 

  // --- The following custom attribute is added automatically, do not uncomment -------
  //  .custom instance void [kernel]System.Diagnostics.DebuggableAttribute::.ctor(bool,
  //                                                                              bool) = ( 01 00 01 01 00 00 ) 

  .publickey = (00 24 00 00 04 80 00 00 94 00 00 00 06 02 00 00   // .$..............
                00 24 00 00 52 53 41 31 00 04 00 00 01 00 01 00   // .$..RSA1........
                2B 96 12 82 73 B1 F0 B2 89 A1 53 81 A7 A1 1A BF   // +...s.....S.....
                07 40 A0 08 21 51 DE DF 0D 8C 66 0D 61 9A 97 19   // .@..!Q....f.a...
                07 08 76 E4 94 44 5A AB 22 BC B3 97 D7 B4 FF 97   // ..v..DZ.".......
                CA 80 ED 49 B3 FC 2B 87 BB 76 7B 60 CA FB F9 49   // ...I..+..v{`...I
                AA 43 5F CF 17 DE B3 19 01 BE 16 49 3C 87 DF E6   // .C_........I<...
                1D 71 F5 18 5F 06 97 A7 0A B5 E0 F1 E0 5C 70 46   // .q.._........\pF
                DB 0D 28 C1 BE 6D 83 DA 3F AC 58 16 1C 56 3C A5   // ..(..m..?.X..V<.
                9D C2 EF 9C E3 02 30 D9 37 7A A6 3D D2 76 CD BF ) // ......0.7z.=.v..
  .hash algorithm 0x00008004
  .ver 1:0:0:0
}
.module Io.Net.Contracts.dll
// MVID: {C8C7E144-4C4A-4A3B-B0AE-B6164621FA5D}
.imagebase 0x00400000
.file alignment 0x00000200
.stackreserve 0x00100000
.subsystem 0x0003       // WINDOWS_CUI
.corflags 0x00010001    //  ILONLY TRACKDEBUGDATA
// Image base: 0x02800000


// =============== CLASS MEMBERS DECLARATION ===================

.class public abstract auto ansi beforefieldinit Microsoft.Singularity.Io.Net.NicDeviceContract
       extends [Io.Contracts]Microsoft.Singularity.Io.DeviceContract
       implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IChannelContract
{
  .class auto ansi sealed nested public Tags
         extends [kernel]System.Enum
  {
    .field public specialname rtspecialname int32 value__
    .field public static literal specialname int32 Any = int32(0x00000001)
    .field public static literal specialname int32 $TagBase = int32(0x00000003)
    .field public static literal specialname int32 $NextTag = int32(0x00000013)
    .field public static literal specialname int32 Success = int32(0x00000003)
    .field public static literal specialname int32 GetDeviceProperties = int32(0x00000004)
    .field public static literal specialname int32 DeviceProperties = int32(0x00000005)
    .field public static literal specialname int32 ConfigureIO = int32(0x00000006)
    .field public static literal specialname int32 AckConfigureIO = int32(0x00000007)
    .field public static literal specialname int32 RegisterForEvents = int32(0x00000008)
    .field public static literal specialname int32 SetChecksumProperties = int32(0x00000009)
    .field public static literal specialname int32 UnsupportedChecksumProperties = int32(0x0000000A)
    .field public static literal specialname int32 StartIO = int32(0x0000000B)
    .field public static literal specialname int32 AckStartIO = int32(0x0000000C)
    .field public static literal specialname int32 GiveTxPacketsToDevice = int32(0x0000000D)
    .field public static literal specialname int32 TakeTxPacketsFromDevice = int32(0x0000000E)
    .field public static literal specialname int32 GiveRxPacketsToDevice = int32(0x0000000F)
    .field public static literal specialname int32 TakeRxPacketsFromDevice = int32(0x00000010)
    .field public static literal specialname int32 StopIO = int32(0x00000011)
    .field public static literal specialname int32 AckStopIO = int32(0x00000012)
  } // end of class Tags

  .class sequential ansi nested public Imp
         extends [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint
         implements [kernel]Microsoft.SingSharp.ITracked,
                    [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IRepStruct
  {
    .field family int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) TagPod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Success SuccessPod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties DevicePropertiesPod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckConfigureIO AckConfigureIOPod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/UnsupportedChecksumProperties UnsupportedChecksumPropertiesPod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStartIO AckStartIOPod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice TakeTxPacketsFromDevicePod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice TakeRxPacketsFromDevicePod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStopIO AckStopIOPod0
    .field family valuetype [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/ContractNotSupported ContractNotSupportedPod0
    .method privatescope specialname rtspecialname 
            instance void  '.ctor$PST06000062'(int32 impInitialState) cil managed
    {
      // Code size       8 (0x8)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::.ctor(int32)
      IL_0007:  ret
    } // end of method Imp::.ctor

    .method public instance bool  InState(int32 state) cil managed
    {
      .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.PureAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       70 (0x46)
      .maxstack  4
      .locals init (int32 V_0,
               bool V_1,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack V_2,
               bool V_3)
      IL_0000:  ldarg.1
      IL_0001:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::CanonicalState$PST06000005(int32)
      IL_0006:  stloc.0
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_000d:  call       instance int32 [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Top()
      IL_0012:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::CanonicalState$PST06000005(int32)
      IL_0017:  ldloc.0
      IL_0018:  ceq
      IL_001a:  brfalse    IL_0026

      IL_001f:  ldc.i4.1
      IL_0020:  stloc.1
      IL_0021:  br         IL_0042

      IL_0026:  ldarg.0
      IL_0027:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_002c:  ldobj      [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack
      IL_0031:  stloc.2
      IL_0032:  ldloca.s   V_2
      IL_0034:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_0039:  ldloc.0
      IL_003a:  ceq
      IL_003c:  stloc.1
      IL_003d:  br         IL_0042

      IL_0042:  ldloc.1
      IL_0043:  stloc.3
      IL_0044:  ldloc.1
      IL_0045:  ret
    } // end of method Imp::InState

    .method public instance string  CurrentState() cil managed
    {
      // Code size       329 (0x149)
      .maxstack  4
      .locals init (int32 V_0,
               string V_1,
               string V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       instance int32 [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Top()
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   17
      IL_000f:  beq        IL_008a

      IL_0014:  ldloc.0
      IL_0015:  ldc.i4.s   16
      IL_0017:  beq        IL_0095

      IL_001c:  ldloc.0
      IL_001d:  ldc.i4.s   15
      IL_001f:  beq        IL_00a0

      IL_0024:  ldloc.0
      IL_0025:  ldc.i4.s   14
      IL_0027:  beq        IL_00ab

      IL_002c:  ldloc.0
      IL_002d:  ldc.i4.s   13
      IL_002f:  beq        IL_00b6

      IL_0034:  ldloc.0
      IL_0035:  ldc.i4.s   12
      IL_0037:  beq        IL_00c1

      IL_003c:  ldloc.0
      IL_003d:  ldc.i4.s   11
      IL_003f:  beq        IL_00cc

      IL_0044:  ldloc.0
      IL_0045:  ldc.i4.s   10
      IL_0047:  beq        IL_00d7

      IL_004c:  ldloc.0
      IL_004d:  ldc.i4.s   9
      IL_004f:  beq        IL_00e2

      IL_0054:  ldloc.0
      IL_0055:  ldc.i4.8
      IL_0056:  beq        IL_00ed

      IL_005b:  ldloc.0
      IL_005c:  ldc.i4.7
      IL_005d:  beq        IL_00f8

      IL_0062:  ldloc.0
      IL_0063:  ldc.i4.6
      IL_0064:  beq        IL_0103

      IL_0069:  ldloc.0
      IL_006a:  ldc.i4.5
      IL_006b:  beq        IL_010e

      IL_0070:  ldloc.0
      IL_0071:  ldc.i4.4
      IL_0072:  beq        IL_0119

      IL_0077:  ldloc.0
      IL_0078:  ldc.i4.3
      IL_0079:  beq        IL_0124

      IL_007e:  ldloc.0
      IL_007f:  ldc.i4.2
      IL_0080:  beq        IL_012f

      IL_0085:  br         IL_013a

      IL_008a:  ldstr      "READY"
      IL_008f:  stloc.1
      IL_0090:  br         IL_0145

      IL_0095:  ldstr      "READY$0"
      IL_009a:  stloc.1
      IL_009b:  br         IL_0145

      IL_00a0:  ldstr      "READY$1"
      IL_00a5:  stloc.1
      IL_00a6:  br         IL_0145

      IL_00ab:  ldstr      "READY$2"
      IL_00b0:  stloc.1
      IL_00b1:  br         IL_0145

      IL_00b6:  ldstr      "IO_CONFIGURE_BEGIN"
      IL_00bb:  stloc.1
      IL_00bc:  br         IL_0145

      IL_00c1:  ldstr      "IO_CONFIGURE_0"
      IL_00c6:  stloc.1
      IL_00c7:  br         IL_0145

      IL_00cc:  ldstr      "IO_CONFIGURE_1"
      IL_00d1:  stloc.1
      IL_00d2:  br         IL_0145

      IL_00d7:  ldstr      "IO_CONFIGURE_2"
      IL_00dc:  stloc.1
      IL_00dd:  br         IL_0145

      IL_00e2:  ldstr      "IO_CONFIGURED"
      IL_00e7:  stloc.1
      IL_00e8:  br         IL_0145

      IL_00ed:  ldstr      "IO_CONFIGURED$3"
      IL_00f2:  stloc.1
      IL_00f3:  br         IL_0145

      IL_00f8:  ldstr      "IO_RUNNING"
      IL_00fd:  stloc.1
      IL_00fe:  br         IL_0145

      IL_0103:  ldstr      "IO_RUNNING$4"
      IL_0108:  stloc.1
      IL_0109:  br         IL_0145

      IL_010e:  ldstr      "IO_RUNNING$5"
      IL_0113:  stloc.1
      IL_0114:  br         IL_0145

      IL_0119:  ldstr      "IO_RUNNING$6"
      IL_011e:  stloc.1
      IL_011f:  br         IL_0145

      IL_0124:  ldstr      "Start"
      IL_0129:  stloc.1
      IL_012a:  br         IL_0145

      IL_012f:  ldstr      "DoneState"
      IL_0134:  stloc.1
      IL_0135:  br         IL_0145

      IL_013a:  ldstr      "<protocol terminated>"
      IL_013f:  stloc.1
      IL_0140:  br         IL_0145

      IL_0145:  ldloc.1
      IL_0146:  stloc.2
      IL_0147:  ldloc.1
      IL_0148:  ret
    } // end of method Imp::CurrentState

    .method public instance void  RecvSuccess() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 03 00 00 00 00 00 ) 
      // Code size       523 (0x20b)
      .maxstack  17
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2,
               bool V_3,
               int32 V_4,
               bool V_5,
               int32 V_6)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.3
      IL_000e:  beq        IL_0028

      IL_0013:  ldloc.0
      IL_0014:  ldc.i4.s   10
      IL_0016:  beq        IL_00bd

      IL_001b:  ldloc.0
      IL_001c:  ldc.i4.s   12
      IL_001e:  beq        IL_0157

      IL_0023:  br         IL_01f4

      IL_0028:  ldc.i4.0
      IL_0029:  stloc.1
      IL_002a:  ldarg.0
      IL_002b:  volatile.
      IL_002d:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0032:  stloc.2
      IL_0033:  ldloc.2
      IL_0034:  brtrue     IL_0049

      IL_0039:  ldarg.0
      IL_003a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_003f:  stloc.1
      IL_0040:  ldarg.0
      IL_0041:  volatile.
      IL_0043:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0048:  stloc.2
      IL_0049:  ldloc.2
      IL_004a:  ldc.i4.0
      IL_004b:  ceq
      IL_004d:  brfalse    IL_006b

      IL_0052:  ldloc.1
      IL_0053:  brfalse    IL_0063

      IL_0058:  ldstr      "Peer is closed"
      IL_005d:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0062:  throw

      IL_0063:  ldarg.0
      IL_0064:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0069:  br.s       IL_0028

      IL_006b:  ldarg.0
      IL_006c:  ldc.i4.3
      IL_006d:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0072:  ldloc.2
      IL_0073:  ldc.i4.3
      IL_0074:  beq        IL_0096

      IL_0079:  ldstr      "can't recv Success when next message has tag "
      IL_007e:  ldarg.0
      IL_007f:  volatile.
      IL_0081:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0086:  box        [kernel]System.Int32
      IL_008b:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0090:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0095:  throw

      IL_0096:  ldarg.0
      IL_0097:  ldc.i4.0
      IL_0098:  volatile.
      IL_009a:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_009f:  ldarg.0
      IL_00a0:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Success Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::SuccessPod0
      IL_00a5:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/Success
      IL_00ab:  ldarg.0
      IL_00ac:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00b1:  ldc.i4.s   17
      IL_00b3:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00b8:  br         IL_020a

      IL_00bd:  ldc.i4.0
      IL_00be:  stloc.3
      IL_00bf:  ldarg.0
      IL_00c0:  volatile.
      IL_00c2:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_00c7:  stloc.s    V_4
      IL_00c9:  ldloc.s    V_4
      IL_00cb:  brtrue     IL_00e1

      IL_00d0:  ldarg.0
      IL_00d1:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_00d6:  stloc.3
      IL_00d7:  ldarg.0
      IL_00d8:  volatile.
      IL_00da:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_00df:  stloc.s    V_4
      IL_00e1:  ldloc.s    V_4
      IL_00e3:  ldc.i4.0
      IL_00e4:  ceq
      IL_00e6:  brfalse    IL_0104

      IL_00eb:  ldloc.3
      IL_00ec:  brfalse    IL_00fc

      IL_00f1:  ldstr      "Peer is closed"
      IL_00f6:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_00fb:  throw

      IL_00fc:  ldarg.0
      IL_00fd:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0102:  br.s       IL_00bd

      IL_0104:  ldarg.0
      IL_0105:  ldc.i4.3
      IL_0106:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_010b:  ldloc.s    V_4
      IL_010d:  ldc.i4.3
      IL_010e:  beq        IL_0130

      IL_0113:  ldstr      "can't recv Success when next message has tag "
      IL_0118:  ldarg.0
      IL_0119:  volatile.
      IL_011b:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0120:  box        [kernel]System.Int32
      IL_0125:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_012a:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_012f:  throw

      IL_0130:  ldarg.0
      IL_0131:  ldc.i4.0
      IL_0132:  volatile.
      IL_0134:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0139:  ldarg.0
      IL_013a:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Success Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::SuccessPod0
      IL_013f:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/Success
      IL_0145:  ldarg.0
      IL_0146:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_014b:  ldc.i4.s   9
      IL_014d:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0152:  br         IL_020a

      IL_0157:  ldc.i4.0
      IL_0158:  stloc.s    V_5
      IL_015a:  ldarg.0
      IL_015b:  volatile.
      IL_015d:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0162:  stloc.s    V_6
      IL_0164:  ldloc.s    V_6
      IL_0166:  brtrue     IL_017d

      IL_016b:  ldarg.0
      IL_016c:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0171:  stloc.s    V_5
      IL_0173:  ldarg.0
      IL_0174:  volatile.
      IL_0176:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_017b:  stloc.s    V_6
      IL_017d:  ldloc.s    V_6
      IL_017f:  ldc.i4.0
      IL_0180:  ceq
      IL_0182:  brfalse    IL_01a1

      IL_0187:  ldloc.s    V_5
      IL_0189:  brfalse    IL_0199

      IL_018e:  ldstr      "Peer is closed"
      IL_0193:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0198:  throw

      IL_0199:  ldarg.0
      IL_019a:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_019f:  br.s       IL_0157

      IL_01a1:  ldarg.0
      IL_01a2:  ldc.i4.3
      IL_01a3:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_01a8:  ldloc.s    V_6
      IL_01aa:  ldc.i4.3
      IL_01ab:  beq        IL_01cd

      IL_01b0:  ldstr      "can't recv Success when next message has tag "
      IL_01b5:  ldarg.0
      IL_01b6:  volatile.
      IL_01b8:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_01bd:  box        [kernel]System.Int32
      IL_01c2:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_01c7:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_01cc:  throw

      IL_01cd:  ldarg.0
      IL_01ce:  ldc.i4.0
      IL_01cf:  volatile.
      IL_01d1:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_01d6:  ldarg.0
      IL_01d7:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Success Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::SuccessPod0
      IL_01dc:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/Success
      IL_01e2:  ldarg.0
      IL_01e3:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_01e8:  ldc.i4.s   11
      IL_01ea:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_01ef:  br         IL_020a

      IL_01f4:  ldstr      "can't recv Success in state "
      IL_01f9:  ldarg.0
      IL_01fa:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_01ff:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0204:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0209:  throw

      IL_020a:  ret
    } // end of method Imp::RecvSuccess

    .method public instance void  SendGetDeviceProperties(valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) props) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 04 00 00 00 00 00 ) 
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       135 (0x87)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   17
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_0070

      IL_0019:  ldarg.0
      IL_001a:  ldloca.s   V_1
      IL_001c:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0021:  stloc.2
      IL_0022:  ldloc.2
      IL_0023:  stloc.3
      IL_0024:  ldloc.3
      IL_0025:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_002a:  stloc.s    V_4
      IL_002c:  ldloc.1
      IL_002d:  brtrue     IL_004b

      IL_0032:  ldloc.s    V_4
      IL_0034:  ldarg.1
      IL_0035:  call       void Microsoft.Singularity.Io.Net.NicDeviceProperties::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                    valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_003a:  ldloc.3
      IL_003b:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0040:  ldarg.1
      IL_0041:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverGetDeviceProperties0$PST060000B6(valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0046:  br         IL_0058

      IL_004b:  ldloc.3
      IL_004c:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0051:  ldarg.1
      IL_0052:  ldarg.0
      IL_0053:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::MarshallDeliverGetDeviceProperties0$PST060000B7(valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0058:  ldarg.0
      IL_0059:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_005e:  ldarg.0
      IL_005f:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0064:  ldc.i4.s   16
      IL_0066:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_006b:  br         IL_0086

      IL_0070:  ldstr      "can't send GetDeviceProperties in state "
      IL_0075:  ldarg.0
      IL_0076:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_007b:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0080:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0085:  throw

      IL_0086:  ret
    } // end of method Imp::SendGetDeviceProperties

    .method public instance void  RecvDeviceProperties([out] valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& props) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 05 00 00 00 00 00 ) 
      // Code size       210 (0xd2)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   16
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_00bb

      IL_0019:  ldc.i4.0
      IL_001a:  stloc.1
      IL_001b:  ldarg.0
      IL_001c:  volatile.
      IL_001e:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0023:  stloc.2
      IL_0024:  ldloc.2
      IL_0025:  brtrue     IL_003a

      IL_002a:  ldarg.0
      IL_002b:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0030:  stloc.1
      IL_0031:  ldarg.0
      IL_0032:  volatile.
      IL_0034:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0039:  stloc.2
      IL_003a:  ldloc.2
      IL_003b:  ldc.i4.0
      IL_003c:  ceq
      IL_003e:  brfalse    IL_005c

      IL_0043:  ldloc.1
      IL_0044:  brfalse    IL_0054

      IL_0049:  ldstr      "Peer is closed"
      IL_004e:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0053:  throw

      IL_0054:  ldarg.0
      IL_0055:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_005a:  br.s       IL_0019

      IL_005c:  ldarg.0
      IL_005d:  ldc.i4.5
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0063:  ldloc.2
      IL_0064:  ldc.i4.5
      IL_0065:  beq        IL_0087

      IL_006a:  ldstr      "can't recv DeviceProperties when next message has "
      + "tag "
      IL_006f:  ldarg.0
      IL_0070:  volatile.
      IL_0072:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0077:  box        [kernel]System.Int32
      IL_007c:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0081:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0086:  throw

      IL_0087:  ldarg.1
      IL_0088:  ldarg.0
      IL_0089:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DevicePropertiesPod0
      IL_008e:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::props
      IL_0093:  stind.i
      IL_0094:  ldarg.0
      IL_0095:  ldc.i4.0
      IL_0096:  volatile.
      IL_0098:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_009d:  ldarg.0
      IL_009e:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DevicePropertiesPod0
      IL_00a3:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties
      IL_00a9:  ldarg.0
      IL_00aa:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00af:  ldc.i4.s   15
      IL_00b1:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00b6:  br         IL_00d1

      IL_00bb:  ldstr      "can't recv DeviceProperties in state "
      IL_00c0:  ldarg.0
      IL_00c1:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_00c6:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00cb:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00d0:  throw

      IL_00d1:  ret
    } // end of method Imp::RecvDeviceProperties

    .method public instance void  SendConfigureIO() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 06 00 00 00 00 00 ) 
      // Code size       309 (0x135)
      .maxstack  20
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4,
               bool V_5,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_6,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_7,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_8,
               bool V_9,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_10,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_11,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_12)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   11
      IL_000f:  beq        IL_0029

      IL_0014:  ldloc.0
      IL_0015:  ldc.i4.s   9
      IL_0017:  beq        IL_0076

      IL_001c:  ldloc.0
      IL_001d:  ldc.i4.s   15
      IL_001f:  beq        IL_00ca

      IL_0024:  br         IL_011e

      IL_0029:  ldarg.0
      IL_002a:  ldloca.s   V_1
      IL_002c:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0031:  stloc.2
      IL_0032:  ldloc.2
      IL_0033:  stloc.3
      IL_0034:  ldloc.3
      IL_0035:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_003a:  stloc.s    V_4
      IL_003c:  ldloc.1
      IL_003d:  brtrue     IL_0052

      IL_0042:  ldloc.3
      IL_0043:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0048:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverConfigureIO1$PST060000B8()
      IL_004d:  br         IL_005e

      IL_0052:  ldloc.3
      IL_0053:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0058:  ldarg.0
      IL_0059:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::MarshallDeliverConfigureIO1$PST060000B9(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_005e:  ldarg.0
      IL_005f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0064:  ldarg.0
      IL_0065:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_006a:  ldc.i4.s   13
      IL_006c:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0071:  br         IL_0134

      IL_0076:  ldarg.0
      IL_0077:  ldloca.s   V_5
      IL_0079:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_007e:  stloc.s    V_6
      IL_0080:  ldloc.s    V_6
      IL_0082:  stloc.s    V_7
      IL_0084:  ldloc.s    V_7
      IL_0086:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_008b:  stloc.s    V_8
      IL_008d:  ldloc.s    V_5
      IL_008f:  brtrue     IL_00a5

      IL_0094:  ldloc.s    V_7
      IL_0096:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_009b:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverConfigureIO1$PST060000B8()
      IL_00a0:  br         IL_00b2

      IL_00a5:  ldloc.s    V_7
      IL_00a7:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_00ac:  ldarg.0
      IL_00ad:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::MarshallDeliverConfigureIO1$PST060000B9(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_00b2:  ldarg.0
      IL_00b3:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_00b8:  ldarg.0
      IL_00b9:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00be:  ldc.i4.s   13
      IL_00c0:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00c5:  br         IL_0134

      IL_00ca:  ldarg.0
      IL_00cb:  ldloca.s   V_9
      IL_00cd:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_00d2:  stloc.s    V_10
      IL_00d4:  ldloc.s    V_10
      IL_00d6:  stloc.s    V_11
      IL_00d8:  ldloc.s    V_11
      IL_00da:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_00df:  stloc.s    V_12
      IL_00e1:  ldloc.s    V_9
      IL_00e3:  brtrue     IL_00f9

      IL_00e8:  ldloc.s    V_11
      IL_00ea:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_00ef:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverConfigureIO0$PST060000BA()
      IL_00f4:  br         IL_0106

      IL_00f9:  ldloc.s    V_11
      IL_00fb:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0100:  ldarg.0
      IL_0101:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::MarshallDeliverConfigureIO0$PST060000BB(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0106:  ldarg.0
      IL_0107:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_010c:  ldarg.0
      IL_010d:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0112:  ldc.i4.s   14
      IL_0114:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0119:  br         IL_0134

      IL_011e:  ldstr      "can't send ConfigureIO in state "
      IL_0123:  ldarg.0
      IL_0124:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_0129:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_012e:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0133:  throw

      IL_0134:  ret
    } // end of method Imp::SendConfigureIO

    .method public instance void  RecvAckConfigureIO() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 07 00 00 00 00 00 ) 
      // Code size       197 (0xc5)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   14
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_00ae

      IL_0019:  ldc.i4.0
      IL_001a:  stloc.1
      IL_001b:  ldarg.0
      IL_001c:  volatile.
      IL_001e:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0023:  stloc.2
      IL_0024:  ldloc.2
      IL_0025:  brtrue     IL_003a

      IL_002a:  ldarg.0
      IL_002b:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0030:  stloc.1
      IL_0031:  ldarg.0
      IL_0032:  volatile.
      IL_0034:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0039:  stloc.2
      IL_003a:  ldloc.2
      IL_003b:  ldc.i4.0
      IL_003c:  ceq
      IL_003e:  brfalse    IL_005c

      IL_0043:  ldloc.1
      IL_0044:  brfalse    IL_0054

      IL_0049:  ldstr      "Peer is closed"
      IL_004e:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0053:  throw

      IL_0054:  ldarg.0
      IL_0055:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_005a:  br.s       IL_0019

      IL_005c:  ldarg.0
      IL_005d:  ldc.i4.7
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0063:  ldloc.2
      IL_0064:  ldc.i4.7
      IL_0065:  beq        IL_0087

      IL_006a:  ldstr      "can't recv AckConfigureIO when next message has tag "
      IL_006f:  ldarg.0
      IL_0070:  volatile.
      IL_0072:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0077:  box        [kernel]System.Int32
      IL_007c:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0081:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0086:  throw

      IL_0087:  ldarg.0
      IL_0088:  ldc.i4.0
      IL_0089:  volatile.
      IL_008b:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0090:  ldarg.0
      IL_0091:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckConfigureIO Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::AckConfigureIOPod0
      IL_0096:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/AckConfigureIO
      IL_009c:  ldarg.0
      IL_009d:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00a2:  ldc.i4.s   13
      IL_00a4:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00a9:  br         IL_00c4

      IL_00ae:  ldstr      "can't recv AckConfigureIO in state "
      IL_00b3:  ldarg.0
      IL_00b4:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_00b9:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00be:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00c3:  throw

      IL_00c4:  ret
    } // end of method Imp::RecvAckConfigureIO

    .method public instance void  SendRegisterForEvents(valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) ep) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 08 00 00 00 00 00 ) 
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.UnbindEndpointAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       197 (0xc5)
      .maxstack  12
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_003e

      IL_0006:  ldarg.1
      IL_0007:  call       void [System.Compiler.Runtime]Microsoft.Contracts.NonNullType::AssertNotNull(native uint)
      IL_000c:  ldarg.1
      IL_000d:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp&
      IL_0012:  ldc.i4.4
      IL_0013:  call       instance bool Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::InState(int32)
      IL_0018:  brtrue     IL_003e

      IL_001d:  ldstr      "can't move endpoint ep in state "
      IL_0022:  ldarg.1
      IL_0023:  call       void [System.Compiler.Runtime]Microsoft.Contracts.NonNullType::AssertNotNull(native uint)
      IL_0028:  ldarg.1
      IL_0029:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp&
      IL_002e:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::CurrentState()
      IL_0033:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0038:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_003d:  throw

      IL_003e:  ldarg.0
      IL_003f:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0044:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_0049:  stloc.0
      IL_004a:  ldloc.0
      IL_004b:  ldc.i4.s   13
      IL_004d:  beq        IL_0057

      IL_0052:  br         IL_00ae

      IL_0057:  ldarg.0
      IL_0058:  ldloca.s   V_1
      IL_005a:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_005f:  stloc.2
      IL_0060:  ldloc.2
      IL_0061:  stloc.3
      IL_0062:  ldloc.3
      IL_0063:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0068:  stloc.s    V_4
      IL_006a:  ldloc.1
      IL_006b:  brtrue     IL_0089

      IL_0070:  ldloc.s    V_4
      IL_0072:  ldarg.1
      IL_0073:  call       void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                           valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_0078:  ldloc.3
      IL_0079:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_007e:  ldarg.1
      IL_007f:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverRegisterForEvents0$PST060000BC(valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0084:  br         IL_0096

      IL_0089:  ldloc.3
      IL_008a:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_008f:  ldarg.1
      IL_0090:  ldarg.0
      IL_0091:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::MarshallDeliverRegisterForEvents0$PST060000BD(valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                                           valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0096:  ldarg.0
      IL_0097:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_009c:  ldarg.0
      IL_009d:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00a2:  ldc.i4.s   12
      IL_00a4:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00a9:  br         IL_00c4

      IL_00ae:  ldstr      "can't send RegisterForEvents in state "
      IL_00b3:  ldarg.0
      IL_00b4:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_00b9:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00be:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00c3:  throw

      IL_00c4:  ret
    } // end of method Imp::SendRegisterForEvents

    .method public instance void  SendSetChecksumProperties(valuetype Microsoft.Singularity.Io.Net.ChecksumSupport properties) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 09 00 00 00 00 00 ) 
      // Code size       127 (0x7f)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   11
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_0068

      IL_0019:  ldarg.0
      IL_001a:  ldloca.s   V_1
      IL_001c:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0021:  stloc.2
      IL_0022:  ldloc.2
      IL_0023:  stloc.3
      IL_0024:  ldloc.3
      IL_0025:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_002a:  stloc.s    V_4
      IL_002c:  ldloc.1
      IL_002d:  brtrue     IL_0043

      IL_0032:  ldloc.3
      IL_0033:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0038:  ldarg.1
      IL_0039:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverSetChecksumProperties1$PST060000BE(valuetype Microsoft.Singularity.Io.Net.ChecksumSupport)
      IL_003e:  br         IL_0050

      IL_0043:  ldloc.3
      IL_0044:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0049:  ldarg.1
      IL_004a:  ldarg.0
      IL_004b:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::MarshallDeliverSetChecksumProperties1$PST060000BF(valuetype Microsoft.Singularity.Io.Net.ChecksumSupport,
                                                                                                                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0050:  ldarg.0
      IL_0051:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0056:  ldarg.0
      IL_0057:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_005c:  ldc.i4.s   10
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0063:  br         IL_007e

      IL_0068:  ldstr      "can't send SetChecksumProperties in state "
      IL_006d:  ldarg.0
      IL_006e:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_0073:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0078:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_007d:  throw

      IL_007e:  ret
    } // end of method Imp::SendSetChecksumProperties

    .method public instance void  RecvUnsupportedChecksumProperties() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 0A 00 00 00 00 00 ) 
      // Code size       199 (0xc7)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   10
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_00b0

      IL_0019:  ldc.i4.0
      IL_001a:  stloc.1
      IL_001b:  ldarg.0
      IL_001c:  volatile.
      IL_001e:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0023:  stloc.2
      IL_0024:  ldloc.2
      IL_0025:  brtrue     IL_003a

      IL_002a:  ldarg.0
      IL_002b:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0030:  stloc.1
      IL_0031:  ldarg.0
      IL_0032:  volatile.
      IL_0034:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0039:  stloc.2
      IL_003a:  ldloc.2
      IL_003b:  ldc.i4.0
      IL_003c:  ceq
      IL_003e:  brfalse    IL_005c

      IL_0043:  ldloc.1
      IL_0044:  brfalse    IL_0054

      IL_0049:  ldstr      "Peer is closed"
      IL_004e:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0053:  throw

      IL_0054:  ldarg.0
      IL_0055:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_005a:  br.s       IL_0019

      IL_005c:  ldarg.0
      IL_005d:  ldc.i4.s   10
      IL_005f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0064:  ldloc.2
      IL_0065:  ldc.i4.s   10
      IL_0067:  beq        IL_0089

      IL_006c:  ldstr      "can't recv UnsupportedChecksumProperties when next"
      + " message has tag "
      IL_0071:  ldarg.0
      IL_0072:  volatile.
      IL_0074:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0079:  box        [kernel]System.Int32
      IL_007e:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0083:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0088:  throw

      IL_0089:  ldarg.0
      IL_008a:  ldc.i4.0
      IL_008b:  volatile.
      IL_008d:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0092:  ldarg.0
      IL_0093:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/UnsupportedChecksumProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::UnsupportedChecksumPropertiesPod0
      IL_0098:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/UnsupportedChecksumProperties
      IL_009e:  ldarg.0
      IL_009f:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00a4:  ldc.i4.s   13
      IL_00a6:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00ab:  br         IL_00c6

      IL_00b0:  ldstr      "can't recv UnsupportedChecksumProperties in state "
      IL_00b5:  ldarg.0
      IL_00b6:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_00bb:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00c0:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00c5:  throw

      IL_00c6:  ret
    } // end of method Imp::RecvUnsupportedChecksumProperties

    .method public instance void  SendStartIO() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 0B 00 00 00 00 00 ) 
      // Code size       124 (0x7c)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   9
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_0065

      IL_0019:  ldarg.0
      IL_001a:  ldloca.s   V_1
      IL_001c:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0021:  stloc.2
      IL_0022:  ldloc.2
      IL_0023:  stloc.3
      IL_0024:  ldloc.3
      IL_0025:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_002a:  stloc.s    V_4
      IL_002c:  ldloc.1
      IL_002d:  brtrue     IL_0042

      IL_0032:  ldloc.3
      IL_0033:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0038:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverStartIO1$PST060000C0()
      IL_003d:  br         IL_004e

      IL_0042:  ldloc.3
      IL_0043:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0048:  ldarg.0
      IL_0049:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::MarshallDeliverStartIO1$PST060000C1(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_004e:  ldarg.0
      IL_004f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0054:  ldarg.0
      IL_0055:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_005a:  ldc.i4.8
      IL_005b:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0060:  br         IL_007b

      IL_0065:  ldstr      "can't send StartIO in state "
      IL_006a:  ldarg.0
      IL_006b:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_0070:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0075:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_007a:  throw

      IL_007b:  ret
    } // end of method Imp::SendStartIO

    .method public instance void  RecvAckStartIO() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 0C 00 00 00 00 00 ) 
      // Code size       197 (0xc5)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.8
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_00ae

      IL_0018:  ldc.i4.0
      IL_0019:  stloc.1
      IL_001a:  ldarg.0
      IL_001b:  volatile.
      IL_001d:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0022:  stloc.2
      IL_0023:  ldloc.2
      IL_0024:  brtrue     IL_0039

      IL_0029:  ldarg.0
      IL_002a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_002f:  stloc.1
      IL_0030:  ldarg.0
      IL_0031:  volatile.
      IL_0033:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0038:  stloc.2
      IL_0039:  ldloc.2
      IL_003a:  ldc.i4.0
      IL_003b:  ceq
      IL_003d:  brfalse    IL_005b

      IL_0042:  ldloc.1
      IL_0043:  brfalse    IL_0053

      IL_0048:  ldstr      "Peer is closed"
      IL_004d:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0052:  throw

      IL_0053:  ldarg.0
      IL_0054:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0059:  br.s       IL_0018

      IL_005b:  ldarg.0
      IL_005c:  ldc.i4.s   12
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0063:  ldloc.2
      IL_0064:  ldc.i4.s   12
      IL_0066:  beq        IL_0088

      IL_006b:  ldstr      "can't recv AckStartIO when next message has tag "
      IL_0070:  ldarg.0
      IL_0071:  volatile.
      IL_0073:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0078:  box        [kernel]System.Int32
      IL_007d:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0082:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0087:  throw

      IL_0088:  ldarg.0
      IL_0089:  ldc.i4.0
      IL_008a:  volatile.
      IL_008c:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0091:  ldarg.0
      IL_0092:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStartIO Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::AckStartIOPod0
      IL_0097:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/AckStartIO
      IL_009d:  ldarg.0
      IL_009e:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00a3:  ldc.i4.7
      IL_00a4:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00a9:  br         IL_00c4

      IL_00ae:  ldstr      "can't recv AckStartIO in state "
      IL_00b3:  ldarg.0
      IL_00b4:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_00b9:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00be:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00c3:  throw

      IL_00c4:  ret
    } // end of method Imp::RecvAckStartIO

    .method public instance void  SendGiveTxPacketsToDevice(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetFifo) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 0D 00 00 00 00 00 ) 
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       133 (0x85)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.7
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_006e

      IL_0018:  ldarg.0
      IL_0019:  ldloca.s   V_1
      IL_001b:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0020:  stloc.2
      IL_0021:  ldloc.2
      IL_0022:  stloc.3
      IL_0023:  ldloc.3
      IL_0024:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0029:  stloc.s    V_4
      IL_002b:  ldloc.1
      IL_002c:  brtrue     IL_004a

      IL_0031:  ldloc.s    V_4
      IL_0033:  ldarg.1
      IL_0034:  call       void Microsoft.Singularity.Io.Net.PacketFifo::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                           valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_0039:  ldloc.3
      IL_003a:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_003f:  ldarg.1
      IL_0040:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverGiveTxPacketsToDevice0$PST060000C2(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0045:  br         IL_0057

      IL_004a:  ldloc.3
      IL_004b:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0050:  ldarg.1
      IL_0051:  ldarg.0
      IL_0052:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::MarshallDeliverGiveTxPacketsToDevice0$PST060000C3(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0057:  ldarg.0
      IL_0058:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_005d:  ldarg.0
      IL_005e:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0063:  ldc.i4.6
      IL_0064:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0069:  br         IL_0084

      IL_006e:  ldstr      "can't send GiveTxPacketsToDevice in state "
      IL_0073:  ldarg.0
      IL_0074:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_0079:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_007e:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0083:  throw

      IL_0084:  ret
    } // end of method Imp::SendGiveTxPacketsToDevice

    .method public instance void  RecvTakeTxPacketsFromDevice([out] valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& packetFifo) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 0E 00 00 00 00 00 ) 
      // Code size       210 (0xd2)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.6
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_00bb

      IL_0018:  ldc.i4.0
      IL_0019:  stloc.1
      IL_001a:  ldarg.0
      IL_001b:  volatile.
      IL_001d:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0022:  stloc.2
      IL_0023:  ldloc.2
      IL_0024:  brtrue     IL_0039

      IL_0029:  ldarg.0
      IL_002a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_002f:  stloc.1
      IL_0030:  ldarg.0
      IL_0031:  volatile.
      IL_0033:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0038:  stloc.2
      IL_0039:  ldloc.2
      IL_003a:  ldc.i4.0
      IL_003b:  ceq
      IL_003d:  brfalse    IL_005b

      IL_0042:  ldloc.1
      IL_0043:  brfalse    IL_0053

      IL_0048:  ldstr      "Peer is closed"
      IL_004d:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0052:  throw

      IL_0053:  ldarg.0
      IL_0054:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0059:  br.s       IL_0018

      IL_005b:  ldarg.0
      IL_005c:  ldc.i4.s   14
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0063:  ldloc.2
      IL_0064:  ldc.i4.s   14
      IL_0066:  beq        IL_0088

      IL_006b:  ldstr      "can't recv TakeTxPacketsFromDevice when next messa"
      + "ge has tag "
      IL_0070:  ldarg.0
      IL_0071:  volatile.
      IL_0073:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0078:  box        [kernel]System.Int32
      IL_007d:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0082:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0087:  throw

      IL_0088:  ldarg.1
      IL_0089:  ldarg.0
      IL_008a:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TakeTxPacketsFromDevicePod0
      IL_008f:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::packetFifo
      IL_0094:  stind.i
      IL_0095:  ldarg.0
      IL_0096:  ldc.i4.0
      IL_0097:  volatile.
      IL_0099:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_009e:  ldarg.0
      IL_009f:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TakeTxPacketsFromDevicePod0
      IL_00a4:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice
      IL_00aa:  ldarg.0
      IL_00ab:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00b0:  ldc.i4.7
      IL_00b1:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00b6:  br         IL_00d1

      IL_00bb:  ldstr      "can't recv TakeTxPacketsFromDevice in state "
      IL_00c0:  ldarg.0
      IL_00c1:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_00c6:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00cb:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00d0:  throw

      IL_00d1:  ret
    } // end of method Imp::RecvTakeTxPacketsFromDevice

    .method public instance void  SendGiveRxPacketsToDevice(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetFifo) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 0F 00 00 00 00 00 ) 
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       133 (0x85)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.7
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_006e

      IL_0018:  ldarg.0
      IL_0019:  ldloca.s   V_1
      IL_001b:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0020:  stloc.2
      IL_0021:  ldloc.2
      IL_0022:  stloc.3
      IL_0023:  ldloc.3
      IL_0024:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0029:  stloc.s    V_4
      IL_002b:  ldloc.1
      IL_002c:  brtrue     IL_004a

      IL_0031:  ldloc.s    V_4
      IL_0033:  ldarg.1
      IL_0034:  call       void Microsoft.Singularity.Io.Net.PacketFifo::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                           valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_0039:  ldloc.3
      IL_003a:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_003f:  ldarg.1
      IL_0040:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverGiveRxPacketsToDevice0$PST060000C4(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0045:  br         IL_0057

      IL_004a:  ldloc.3
      IL_004b:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0050:  ldarg.1
      IL_0051:  ldarg.0
      IL_0052:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::MarshallDeliverGiveRxPacketsToDevice0$PST060000C5(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0057:  ldarg.0
      IL_0058:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_005d:  ldarg.0
      IL_005e:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0063:  ldc.i4.5
      IL_0064:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0069:  br         IL_0084

      IL_006e:  ldstr      "can't send GiveRxPacketsToDevice in state "
      IL_0073:  ldarg.0
      IL_0074:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_0079:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_007e:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0083:  throw

      IL_0084:  ret
    } // end of method Imp::SendGiveRxPacketsToDevice

    .method public instance void  RecvTakeRxPacketsFromDevice([out] valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& packetFifo) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 10 00 00 00 00 00 ) 
      // Code size       210 (0xd2)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.5
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_00bb

      IL_0018:  ldc.i4.0
      IL_0019:  stloc.1
      IL_001a:  ldarg.0
      IL_001b:  volatile.
      IL_001d:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0022:  stloc.2
      IL_0023:  ldloc.2
      IL_0024:  brtrue     IL_0039

      IL_0029:  ldarg.0
      IL_002a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_002f:  stloc.1
      IL_0030:  ldarg.0
      IL_0031:  volatile.
      IL_0033:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0038:  stloc.2
      IL_0039:  ldloc.2
      IL_003a:  ldc.i4.0
      IL_003b:  ceq
      IL_003d:  brfalse    IL_005b

      IL_0042:  ldloc.1
      IL_0043:  brfalse    IL_0053

      IL_0048:  ldstr      "Peer is closed"
      IL_004d:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0052:  throw

      IL_0053:  ldarg.0
      IL_0054:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0059:  br.s       IL_0018

      IL_005b:  ldarg.0
      IL_005c:  ldc.i4.s   16
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0063:  ldloc.2
      IL_0064:  ldc.i4.s   16
      IL_0066:  beq        IL_0088

      IL_006b:  ldstr      "can't recv TakeRxPacketsFromDevice when next messa"
      + "ge has tag "
      IL_0070:  ldarg.0
      IL_0071:  volatile.
      IL_0073:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0078:  box        [kernel]System.Int32
      IL_007d:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0082:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0087:  throw

      IL_0088:  ldarg.1
      IL_0089:  ldarg.0
      IL_008a:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TakeRxPacketsFromDevicePod0
      IL_008f:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::packetFifo
      IL_0094:  stind.i
      IL_0095:  ldarg.0
      IL_0096:  ldc.i4.0
      IL_0097:  volatile.
      IL_0099:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_009e:  ldarg.0
      IL_009f:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TakeRxPacketsFromDevicePod0
      IL_00a4:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice
      IL_00aa:  ldarg.0
      IL_00ab:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00b0:  ldc.i4.7
      IL_00b1:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00b6:  br         IL_00d1

      IL_00bb:  ldstr      "can't recv TakeRxPacketsFromDevice in state "
      IL_00c0:  ldarg.0
      IL_00c1:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_00c6:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00cb:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00d0:  throw

      IL_00d1:  ret
    } // end of method Imp::RecvTakeRxPacketsFromDevice

    .method public instance void  SendStopIO() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 11 00 00 00 00 00 ) 
      // Code size       123 (0x7b)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.7
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_0064

      IL_0018:  ldarg.0
      IL_0019:  ldloca.s   V_1
      IL_001b:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0020:  stloc.2
      IL_0021:  ldloc.2
      IL_0022:  stloc.3
      IL_0023:  ldloc.3
      IL_0024:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0029:  stloc.s    V_4
      IL_002b:  ldloc.1
      IL_002c:  brtrue     IL_0041

      IL_0031:  ldloc.3
      IL_0032:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0037:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverStopIO0$PST060000C6()
      IL_003c:  br         IL_004d

      IL_0041:  ldloc.3
      IL_0042:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_0047:  ldarg.0
      IL_0048:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::MarshallDeliverStopIO0$PST060000C7(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_004d:  ldarg.0
      IL_004e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0053:  ldarg.0
      IL_0054:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0059:  ldc.i4.4
      IL_005a:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_005f:  br         IL_007a

      IL_0064:  ldstr      "can't send StopIO in state "
      IL_0069:  ldarg.0
      IL_006a:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_006f:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0074:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0079:  throw

      IL_007a:  ret
    } // end of method Imp::SendStopIO

    .method public instance void  RecvAckStopIO() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 12 00 00 00 00 00 ) 
      // Code size       198 (0xc6)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.4
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_00af

      IL_0018:  ldc.i4.0
      IL_0019:  stloc.1
      IL_001a:  ldarg.0
      IL_001b:  volatile.
      IL_001d:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0022:  stloc.2
      IL_0023:  ldloc.2
      IL_0024:  brtrue     IL_0039

      IL_0029:  ldarg.0
      IL_002a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_002f:  stloc.1
      IL_0030:  ldarg.0
      IL_0031:  volatile.
      IL_0033:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0038:  stloc.2
      IL_0039:  ldloc.2
      IL_003a:  ldc.i4.0
      IL_003b:  ceq
      IL_003d:  brfalse    IL_005b

      IL_0042:  ldloc.1
      IL_0043:  brfalse    IL_0053

      IL_0048:  ldstr      "Peer is closed"
      IL_004d:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0052:  throw

      IL_0053:  ldarg.0
      IL_0054:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0059:  br.s       IL_0018

      IL_005b:  ldarg.0
      IL_005c:  ldc.i4.s   18
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0063:  ldloc.2
      IL_0064:  ldc.i4.s   18
      IL_0066:  beq        IL_0088

      IL_006b:  ldstr      "can't recv AckStopIO when next message has tag "
      IL_0070:  ldarg.0
      IL_0071:  volatile.
      IL_0073:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0078:  box        [kernel]System.Int32
      IL_007d:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0082:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0087:  throw

      IL_0088:  ldarg.0
      IL_0089:  ldc.i4.0
      IL_008a:  volatile.
      IL_008c:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0091:  ldarg.0
      IL_0092:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStopIO Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::AckStopIOPod0
      IL_0097:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/AckStopIO
      IL_009d:  ldarg.0
      IL_009e:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00a3:  ldc.i4.s   9
      IL_00a5:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00aa:  br         IL_00c5

      IL_00af:  ldstr      "can't recv AckStopIO in state "
      IL_00b4:  ldarg.0
      IL_00b5:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_00ba:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00bf:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00c4:  throw

      IL_00c5:  ret
    } // end of method Imp::RecvAckStopIO

    .method public instance void  RecvContractNotSupported() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 02 00 00 00 00 00 ) 
      // Code size       195 (0xc3)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.3
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_00ac

      IL_0018:  ldc.i4.0
      IL_0019:  stloc.1
      IL_001a:  ldarg.0
      IL_001b:  volatile.
      IL_001d:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0022:  stloc.2
      IL_0023:  ldloc.2
      IL_0024:  brtrue     IL_0039

      IL_0029:  ldarg.0
      IL_002a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_002f:  stloc.1
      IL_0030:  ldarg.0
      IL_0031:  volatile.
      IL_0033:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0038:  stloc.2
      IL_0039:  ldloc.2
      IL_003a:  ldc.i4.0
      IL_003b:  ceq
      IL_003d:  brfalse    IL_005b

      IL_0042:  ldloc.1
      IL_0043:  brfalse    IL_0053

      IL_0048:  ldstr      "Peer is closed"
      IL_004d:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0052:  throw

      IL_0053:  ldarg.0
      IL_0054:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0059:  br.s       IL_0018

      IL_005b:  ldarg.0
      IL_005c:  ldc.i4.2
      IL_005d:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0062:  ldloc.2
      IL_0063:  ldc.i4.2
      IL_0064:  beq        IL_0086

      IL_0069:  ldstr      "can't recv ContractNotSupported when next message "
      + "has tag "
      IL_006e:  ldarg.0
      IL_006f:  volatile.
      IL_0071:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0076:  box        [kernel]System.Int32
      IL_007b:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0080:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0085:  throw

      IL_0086:  ldarg.0
      IL_0087:  ldc.i4.0
      IL_0088:  volatile.
      IL_008a:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_008f:  ldarg.0
      IL_0090:  ldflda     valuetype [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/ContractNotSupported Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::ContractNotSupportedPod0
      IL_0095:  initobj    [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/ContractNotSupported
      IL_009b:  ldarg.0
      IL_009c:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00a1:  ldc.i4.2
      IL_00a2:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00a7:  br         IL_00c2

      IL_00ac:  ldstr      "can't recv ContractNotSupported in state "
      IL_00b1:  ldarg.0
      IL_00b2:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::CurrentState()
      IL_00b7:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00bc:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00c1:  throw

      IL_00c2:  ret
    } // end of method Imp::RecvContractNotSupported

    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       8 (0x8)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0007:  ret
    } // end of method Imp::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_0019

      IL_0006:  ldarg.1
      IL_0007:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_000c:  ldarg.0
      IL_000d:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0012:  ldarg.0
      IL_0013:  ldarg.1
      IL_0014:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_0019:  ret
    } // end of method Imp::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       45 (0x2d)
      .maxstack  5
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_002c

      IL_0006:  ldarg.1
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0025

      IL_0012:  ldarg.1
      IL_0013:  ldloc.1
      IL_0014:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceContract/Imp
      IL_0019:  ldarg.0
      IL_001a:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_001f:  ldloc.1
      IL_0020:  ldc.i4.1
      IL_0021:  add
      IL_0022:  stloc.1
      IL_0023:  br.s       IL_000b

      IL_0025:  ldarg.0
      IL_0026:  ldarg.1
      IL_0027:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_002c:  ret
    } // end of method Imp::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from) cil managed
    {
      // Code size       18 (0x12)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  ldarg.2
      IL_0003:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallAll(uint8*,
                                                                                                                           valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0008:  ldarg.0
      IL_0009:  ldarg.1
      IL_000a:  ldarg.2
      IL_000b:  ldarg.0
      IL_000c:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallContent(uint8*,
                                                                                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                             uint8*)
      IL_0011:  ret
    } // end of method Imp::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       46 (0x2e)
      .maxstack  6
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_002d

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_002d

      IL_0012:  ldarg.3
      IL_0013:  ldloc.1
      IL_0014:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceContract/Imp
      IL_0019:  ldarg.0
      IL_001a:  ldarg.1
      IL_001b:  ldarg.3
      IL_001c:  ldc.i4.0
      IL_001d:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceContract/Imp
      IL_0022:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallContent(uint8*,
                                                                                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                             uint8*)
      IL_0027:  ldloc.1
      IL_0028:  ldc.i4.1
      IL_0029:  add
      IL_002a:  stloc.1
      IL_002b:  br.s       IL_000b

      IL_002d:  ret
    } // end of method Imp::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Imp::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Dispose()
      IL_0006:  ret
    } // end of method Imp::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Imp::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Imp::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Imp::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Imp::Release

    .method family instance int32  Peek() cil managed
    {
      // Code size       1220 (0x4c4)
      .maxstack  18
      .locals init (int32 V_0,
               int32 V_1,
               bool V_2,
               int32 V_3,
               int32 V_4,
               bool V_5,
               int32 V_6,
               bool V_7,
               int32 V_8,
               bool V_9,
               int32 V_10,
               bool V_11,
               int32 V_12,
               bool V_13,
               int32 V_14,
               bool V_15,
               int32 V_16,
               bool V_17,
               int32 V_18,
               bool V_19,
               int32 V_20,
               bool V_21,
               int32 V_22,
               bool V_23,
               int32 V_24,
               bool V_25,
               int32 V_26,
               bool V_27,
               int32 V_28,
               bool V_29,
               int32 V_30,
               bool V_31,
               int32 V_32,
               int32 V_33)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  stloc.1
      IL_000e:  ldloc.1
      IL_000f:  ldc.i4.4
      IL_0010:  beq        IL_0085

      IL_0015:  ldloc.1
      IL_0016:  ldc.i4.5
      IL_0017:  beq        IL_00c5

      IL_001c:  ldloc.1
      IL_001d:  ldc.i4.6
      IL_001e:  beq        IL_010d

      IL_0023:  ldloc.1
      IL_0024:  ldc.i4.7
      IL_0025:  beq        IL_0155

      IL_002a:  ldloc.1
      IL_002b:  ldc.i4.8
      IL_002c:  beq        IL_019d

      IL_0031:  ldloc.1
      IL_0032:  ldc.i4.s   9
      IL_0034:  beq        IL_01e5

      IL_0039:  ldloc.1
      IL_003a:  ldc.i4.s   10
      IL_003c:  beq        IL_022d

      IL_0041:  ldloc.1
      IL_0042:  ldc.i4.s   11
      IL_0044:  beq        IL_0275

      IL_0049:  ldloc.1
      IL_004a:  ldc.i4.s   12
      IL_004c:  beq        IL_02bd

      IL_0051:  ldloc.1
      IL_0052:  ldc.i4.s   13
      IL_0054:  beq        IL_0305

      IL_0059:  ldloc.1
      IL_005a:  ldc.i4.s   14
      IL_005c:  beq        IL_034d

      IL_0061:  ldloc.1
      IL_0062:  ldc.i4.s   15
      IL_0064:  beq        IL_0395

      IL_0069:  ldloc.1
      IL_006a:  ldc.i4.s   16
      IL_006c:  beq        IL_03dd

      IL_0071:  ldloc.1
      IL_0072:  ldc.i4.s   17
      IL_0074:  beq        IL_0425

      IL_0079:  ldloc.1
      IL_007a:  ldc.i4.3
      IL_007b:  beq        IL_046d

      IL_0080:  br         IL_04b5

      IL_0085:  ldc.i4.0
      IL_0086:  stloc.2
      IL_0087:  ldarg.0
      IL_0088:  volatile.
      IL_008a:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_008f:  stloc.3
      IL_0090:  ldloc.3
      IL_0091:  brtrue     IL_00a6

      IL_0096:  ldarg.0
      IL_0097:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_009c:  stloc.2
      IL_009d:  ldarg.0
      IL_009e:  volatile.
      IL_00a0:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_00a5:  stloc.3
      IL_00a6:  ldloc.3
      IL_00a7:  ldc.i4.0
      IL_00a8:  ceq
      IL_00aa:  brfalse    IL_00bd

      IL_00af:  ldloc.2
      IL_00b0:  brfalse    IL_00bd

      IL_00b5:  ldc.i4.m1
      IL_00b6:  stloc.s    V_4
      IL_00b8:  br         IL_04bd

      IL_00bd:  ldloc.3
      IL_00be:  stloc.s    V_4
      IL_00c0:  br         IL_04bd

      IL_00c5:  ldc.i4.0
      IL_00c6:  stloc.s    V_5
      IL_00c8:  ldarg.0
      IL_00c9:  volatile.
      IL_00cb:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_00d0:  stloc.s    V_6
      IL_00d2:  ldloc.s    V_6
      IL_00d4:  brtrue     IL_00eb

      IL_00d9:  ldarg.0
      IL_00da:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_00df:  stloc.s    V_5
      IL_00e1:  ldarg.0
      IL_00e2:  volatile.
      IL_00e4:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_00e9:  stloc.s    V_6
      IL_00eb:  ldloc.s    V_6
      IL_00ed:  ldc.i4.0
      IL_00ee:  ceq
      IL_00f0:  brfalse    IL_0104

      IL_00f5:  ldloc.s    V_5
      IL_00f7:  brfalse    IL_0104

      IL_00fc:  ldc.i4.m1
      IL_00fd:  stloc.s    V_4
      IL_00ff:  br         IL_04bd

      IL_0104:  ldloc.s    V_6
      IL_0106:  stloc.s    V_4
      IL_0108:  br         IL_04bd

      IL_010d:  ldc.i4.0
      IL_010e:  stloc.s    V_7
      IL_0110:  ldarg.0
      IL_0111:  volatile.
      IL_0113:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0118:  stloc.s    V_8
      IL_011a:  ldloc.s    V_8
      IL_011c:  brtrue     IL_0133

      IL_0121:  ldarg.0
      IL_0122:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0127:  stloc.s    V_7
      IL_0129:  ldarg.0
      IL_012a:  volatile.
      IL_012c:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0131:  stloc.s    V_8
      IL_0133:  ldloc.s    V_8
      IL_0135:  ldc.i4.0
      IL_0136:  ceq
      IL_0138:  brfalse    IL_014c

      IL_013d:  ldloc.s    V_7
      IL_013f:  brfalse    IL_014c

      IL_0144:  ldc.i4.m1
      IL_0145:  stloc.s    V_4
      IL_0147:  br         IL_04bd

      IL_014c:  ldloc.s    V_8
      IL_014e:  stloc.s    V_4
      IL_0150:  br         IL_04bd

      IL_0155:  ldc.i4.0
      IL_0156:  stloc.s    V_9
      IL_0158:  ldarg.0
      IL_0159:  volatile.
      IL_015b:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0160:  stloc.s    V_10
      IL_0162:  ldloc.s    V_10
      IL_0164:  brtrue     IL_017b

      IL_0169:  ldarg.0
      IL_016a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_016f:  stloc.s    V_9
      IL_0171:  ldarg.0
      IL_0172:  volatile.
      IL_0174:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0179:  stloc.s    V_10
      IL_017b:  ldloc.s    V_10
      IL_017d:  ldc.i4.0
      IL_017e:  ceq
      IL_0180:  brfalse    IL_0194

      IL_0185:  ldloc.s    V_9
      IL_0187:  brfalse    IL_0194

      IL_018c:  ldc.i4.m1
      IL_018d:  stloc.s    V_4
      IL_018f:  br         IL_04bd

      IL_0194:  ldloc.s    V_10
      IL_0196:  stloc.s    V_4
      IL_0198:  br         IL_04bd

      IL_019d:  ldc.i4.0
      IL_019e:  stloc.s    V_11
      IL_01a0:  ldarg.0
      IL_01a1:  volatile.
      IL_01a3:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_01a8:  stloc.s    V_12
      IL_01aa:  ldloc.s    V_12
      IL_01ac:  brtrue     IL_01c3

      IL_01b1:  ldarg.0
      IL_01b2:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_01b7:  stloc.s    V_11
      IL_01b9:  ldarg.0
      IL_01ba:  volatile.
      IL_01bc:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_01c1:  stloc.s    V_12
      IL_01c3:  ldloc.s    V_12
      IL_01c5:  ldc.i4.0
      IL_01c6:  ceq
      IL_01c8:  brfalse    IL_01dc

      IL_01cd:  ldloc.s    V_11
      IL_01cf:  brfalse    IL_01dc

      IL_01d4:  ldc.i4.m1
      IL_01d5:  stloc.s    V_4
      IL_01d7:  br         IL_04bd

      IL_01dc:  ldloc.s    V_12
      IL_01de:  stloc.s    V_4
      IL_01e0:  br         IL_04bd

      IL_01e5:  ldc.i4.0
      IL_01e6:  stloc.s    V_13
      IL_01e8:  ldarg.0
      IL_01e9:  volatile.
      IL_01eb:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_01f0:  stloc.s    V_14
      IL_01f2:  ldloc.s    V_14
      IL_01f4:  brtrue     IL_020b

      IL_01f9:  ldarg.0
      IL_01fa:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_01ff:  stloc.s    V_13
      IL_0201:  ldarg.0
      IL_0202:  volatile.
      IL_0204:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0209:  stloc.s    V_14
      IL_020b:  ldloc.s    V_14
      IL_020d:  ldc.i4.0
      IL_020e:  ceq
      IL_0210:  brfalse    IL_0224

      IL_0215:  ldloc.s    V_13
      IL_0217:  brfalse    IL_0224

      IL_021c:  ldc.i4.m1
      IL_021d:  stloc.s    V_4
      IL_021f:  br         IL_04bd

      IL_0224:  ldloc.s    V_14
      IL_0226:  stloc.s    V_4
      IL_0228:  br         IL_04bd

      IL_022d:  ldc.i4.0
      IL_022e:  stloc.s    V_15
      IL_0230:  ldarg.0
      IL_0231:  volatile.
      IL_0233:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0238:  stloc.s    V_16
      IL_023a:  ldloc.s    V_16
      IL_023c:  brtrue     IL_0253

      IL_0241:  ldarg.0
      IL_0242:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0247:  stloc.s    V_15
      IL_0249:  ldarg.0
      IL_024a:  volatile.
      IL_024c:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0251:  stloc.s    V_16
      IL_0253:  ldloc.s    V_16
      IL_0255:  ldc.i4.0
      IL_0256:  ceq
      IL_0258:  brfalse    IL_026c

      IL_025d:  ldloc.s    V_15
      IL_025f:  brfalse    IL_026c

      IL_0264:  ldc.i4.m1
      IL_0265:  stloc.s    V_4
      IL_0267:  br         IL_04bd

      IL_026c:  ldloc.s    V_16
      IL_026e:  stloc.s    V_4
      IL_0270:  br         IL_04bd

      IL_0275:  ldc.i4.0
      IL_0276:  stloc.s    V_17
      IL_0278:  ldarg.0
      IL_0279:  volatile.
      IL_027b:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0280:  stloc.s    V_18
      IL_0282:  ldloc.s    V_18
      IL_0284:  brtrue     IL_029b

      IL_0289:  ldarg.0
      IL_028a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_028f:  stloc.s    V_17
      IL_0291:  ldarg.0
      IL_0292:  volatile.
      IL_0294:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0299:  stloc.s    V_18
      IL_029b:  ldloc.s    V_18
      IL_029d:  ldc.i4.0
      IL_029e:  ceq
      IL_02a0:  brfalse    IL_02b4

      IL_02a5:  ldloc.s    V_17
      IL_02a7:  brfalse    IL_02b4

      IL_02ac:  ldc.i4.m1
      IL_02ad:  stloc.s    V_4
      IL_02af:  br         IL_04bd

      IL_02b4:  ldloc.s    V_18
      IL_02b6:  stloc.s    V_4
      IL_02b8:  br         IL_04bd

      IL_02bd:  ldc.i4.0
      IL_02be:  stloc.s    V_19
      IL_02c0:  ldarg.0
      IL_02c1:  volatile.
      IL_02c3:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_02c8:  stloc.s    V_20
      IL_02ca:  ldloc.s    V_20
      IL_02cc:  brtrue     IL_02e3

      IL_02d1:  ldarg.0
      IL_02d2:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_02d7:  stloc.s    V_19
      IL_02d9:  ldarg.0
      IL_02da:  volatile.
      IL_02dc:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_02e1:  stloc.s    V_20
      IL_02e3:  ldloc.s    V_20
      IL_02e5:  ldc.i4.0
      IL_02e6:  ceq
      IL_02e8:  brfalse    IL_02fc

      IL_02ed:  ldloc.s    V_19
      IL_02ef:  brfalse    IL_02fc

      IL_02f4:  ldc.i4.m1
      IL_02f5:  stloc.s    V_4
      IL_02f7:  br         IL_04bd

      IL_02fc:  ldloc.s    V_20
      IL_02fe:  stloc.s    V_4
      IL_0300:  br         IL_04bd

      IL_0305:  ldc.i4.0
      IL_0306:  stloc.s    V_21
      IL_0308:  ldarg.0
      IL_0309:  volatile.
      IL_030b:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0310:  stloc.s    V_22
      IL_0312:  ldloc.s    V_22
      IL_0314:  brtrue     IL_032b

      IL_0319:  ldarg.0
      IL_031a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_031f:  stloc.s    V_21
      IL_0321:  ldarg.0
      IL_0322:  volatile.
      IL_0324:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0329:  stloc.s    V_22
      IL_032b:  ldloc.s    V_22
      IL_032d:  ldc.i4.0
      IL_032e:  ceq
      IL_0330:  brfalse    IL_0344

      IL_0335:  ldloc.s    V_21
      IL_0337:  brfalse    IL_0344

      IL_033c:  ldc.i4.m1
      IL_033d:  stloc.s    V_4
      IL_033f:  br         IL_04bd

      IL_0344:  ldloc.s    V_22
      IL_0346:  stloc.s    V_4
      IL_0348:  br         IL_04bd

      IL_034d:  ldc.i4.0
      IL_034e:  stloc.s    V_23
      IL_0350:  ldarg.0
      IL_0351:  volatile.
      IL_0353:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0358:  stloc.s    V_24
      IL_035a:  ldloc.s    V_24
      IL_035c:  brtrue     IL_0373

      IL_0361:  ldarg.0
      IL_0362:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0367:  stloc.s    V_23
      IL_0369:  ldarg.0
      IL_036a:  volatile.
      IL_036c:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0371:  stloc.s    V_24
      IL_0373:  ldloc.s    V_24
      IL_0375:  ldc.i4.0
      IL_0376:  ceq
      IL_0378:  brfalse    IL_038c

      IL_037d:  ldloc.s    V_23
      IL_037f:  brfalse    IL_038c

      IL_0384:  ldc.i4.m1
      IL_0385:  stloc.s    V_4
      IL_0387:  br         IL_04bd

      IL_038c:  ldloc.s    V_24
      IL_038e:  stloc.s    V_4
      IL_0390:  br         IL_04bd

      IL_0395:  ldc.i4.0
      IL_0396:  stloc.s    V_25
      IL_0398:  ldarg.0
      IL_0399:  volatile.
      IL_039b:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_03a0:  stloc.s    V_26
      IL_03a2:  ldloc.s    V_26
      IL_03a4:  brtrue     IL_03bb

      IL_03a9:  ldarg.0
      IL_03aa:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_03af:  stloc.s    V_25
      IL_03b1:  ldarg.0
      IL_03b2:  volatile.
      IL_03b4:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_03b9:  stloc.s    V_26
      IL_03bb:  ldloc.s    V_26
      IL_03bd:  ldc.i4.0
      IL_03be:  ceq
      IL_03c0:  brfalse    IL_03d4

      IL_03c5:  ldloc.s    V_25
      IL_03c7:  brfalse    IL_03d4

      IL_03cc:  ldc.i4.m1
      IL_03cd:  stloc.s    V_4
      IL_03cf:  br         IL_04bd

      IL_03d4:  ldloc.s    V_26
      IL_03d6:  stloc.s    V_4
      IL_03d8:  br         IL_04bd

      IL_03dd:  ldc.i4.0
      IL_03de:  stloc.s    V_27
      IL_03e0:  ldarg.0
      IL_03e1:  volatile.
      IL_03e3:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_03e8:  stloc.s    V_28
      IL_03ea:  ldloc.s    V_28
      IL_03ec:  brtrue     IL_0403

      IL_03f1:  ldarg.0
      IL_03f2:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_03f7:  stloc.s    V_27
      IL_03f9:  ldarg.0
      IL_03fa:  volatile.
      IL_03fc:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0401:  stloc.s    V_28
      IL_0403:  ldloc.s    V_28
      IL_0405:  ldc.i4.0
      IL_0406:  ceq
      IL_0408:  brfalse    IL_041c

      IL_040d:  ldloc.s    V_27
      IL_040f:  brfalse    IL_041c

      IL_0414:  ldc.i4.m1
      IL_0415:  stloc.s    V_4
      IL_0417:  br         IL_04bd

      IL_041c:  ldloc.s    V_28
      IL_041e:  stloc.s    V_4
      IL_0420:  br         IL_04bd

      IL_0425:  ldc.i4.0
      IL_0426:  stloc.s    V_29
      IL_0428:  ldarg.0
      IL_0429:  volatile.
      IL_042b:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0430:  stloc.s    V_30
      IL_0432:  ldloc.s    V_30
      IL_0434:  brtrue     IL_044b

      IL_0439:  ldarg.0
      IL_043a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_043f:  stloc.s    V_29
      IL_0441:  ldarg.0
      IL_0442:  volatile.
      IL_0444:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0449:  stloc.s    V_30
      IL_044b:  ldloc.s    V_30
      IL_044d:  ldc.i4.0
      IL_044e:  ceq
      IL_0450:  brfalse    IL_0464

      IL_0455:  ldloc.s    V_29
      IL_0457:  brfalse    IL_0464

      IL_045c:  ldc.i4.m1
      IL_045d:  stloc.s    V_4
      IL_045f:  br         IL_04bd

      IL_0464:  ldloc.s    V_30
      IL_0466:  stloc.s    V_4
      IL_0468:  br         IL_04bd

      IL_046d:  ldc.i4.0
      IL_046e:  stloc.s    V_31
      IL_0470:  ldarg.0
      IL_0471:  volatile.
      IL_0473:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0478:  stloc.s    V_32
      IL_047a:  ldloc.s    V_32
      IL_047c:  brtrue     IL_0493

      IL_0481:  ldarg.0
      IL_0482:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0487:  stloc.s    V_31
      IL_0489:  ldarg.0
      IL_048a:  volatile.
      IL_048c:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0491:  stloc.s    V_32
      IL_0493:  ldloc.s    V_32
      IL_0495:  ldc.i4.0
      IL_0496:  ceq
      IL_0498:  brfalse    IL_04ac

      IL_049d:  ldloc.s    V_31
      IL_049f:  brfalse    IL_04ac

      IL_04a4:  ldc.i4.m1
      IL_04a5:  stloc.s    V_4
      IL_04a7:  br         IL_04bd

      IL_04ac:  ldloc.s    V_32
      IL_04ae:  stloc.s    V_4
      IL_04b0:  br         IL_04bd

      IL_04b5:  ldc.i4.m1
      IL_04b6:  stloc.s    V_4
      IL_04b8:  br         IL_04bd

      IL_04bd:  ldloc.s    V_4
      IL_04bf:  stloc.s    V_33
      IL_04c1:  ldloc.s    V_4
      IL_04c3:  ret
    } // end of method Imp::Peek

    .method public virtual instance bool 
            HeadMatches(int32 tag,
                        bool& possible,
                        object& elemMatch) cil managed
    {
      // Code size       102 (0x66)
      .maxstack  6
      .locals init ([0] int32 V_0,
               [1] bool V_1,
               [2] bool 'SS$Display Return Local')
      IL_0000:  ldarg.0
      IL_0001:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_Closed()
      IL_0006:  brfalse    IL_0016

      IL_000b:  ldstr      "endpoint is closed"
      IL_0010:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0015:  throw

      IL_0016:  ldarg.0
      IL_0017:  call       instance int32 Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::Peek()
      IL_001c:  stloc.0
      IL_001d:  ldloc.0
      IL_001e:  ldc.i4.0
      IL_001f:  ceq
      IL_0021:  brfalse    IL_002d

      IL_0026:  ldc.i4.0
      IL_0027:  stloc.1
      IL_0028:  br         IL_0062

      IL_002d:  ldloc.0
      IL_002e:  ldarg.1
      IL_002f:  ceq
      IL_0031:  brfalse    IL_003d

      IL_0036:  ldc.i4.1
      IL_0037:  stloc.1
      IL_0038:  br         IL_0062

      IL_003d:  ldc.i4.1
      IL_003e:  ldarg.1
      IL_003f:  ceq
      IL_0041:  brfalse    IL_0054

      IL_0046:  ldloc.0
      IL_0047:  ldc.i4.0
      IL_0048:  ble        IL_0054

      IL_004d:  ldc.i4.1
      IL_004e:  stloc.1
      IL_004f:  br         IL_0062

      IL_0054:  ldarg.2
      IL_0055:  ldc.i4.0
      IL_0056:  stobj      [kernel]System.Boolean
      IL_005b:  ldc.i4.0
      IL_005c:  stloc.1
      IL_005d:  br         IL_0062

      IL_0062:  ldloc.1
      IL_0063:  stloc.2
      IL_0064:  ldloc.1
      IL_0065:  ret
    } // end of method Imp::HeadMatches

    .method privatescope instance void  DeliverSuccess0$PST06000083() cil managed
    {
      // Code size       17 (0x11)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldc.i4.3
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0007:  ldarg.0
      IL_0008:  ldc.i4.3
      IL_0009:  volatile.
      IL_000b:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0010:  ret
    } // end of method Imp::DeliverSuccess0

    .method privatescope instance void  MarshallDeliverSuccess0$PST06000084(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverSuccess0$PST06000083()
      IL_0006:  ldarg.0
      IL_0007:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Success Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::SuccessPod0
      IL_000c:  ldarg.0
      IL_000d:  ldarg.1
      IL_000e:  ldarg.0
      IL_000f:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0014:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Success::MarshallAll(uint8*,
                                                                                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                             int32&)
      IL_0019:  ret
    } // end of method Imp::MarshallDeliverSuccess0

    .method privatescope instance void  DeliverDeviceProperties0$PST06000085(valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) props) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       29 (0x1d)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DevicePropertiesPod0
      IL_0006:  ldarg.1
      IL_0007:  stfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::props
      IL_000c:  ldarg.0
      IL_000d:  ldc.i4.5
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0013:  ldarg.0
      IL_0014:  ldc.i4.5
      IL_0015:  volatile.
      IL_0017:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_001c:  ret
    } // end of method Imp::DeliverDeviceProperties0

    .method privatescope instance void  MarshallDeliverDeviceProperties0$PST06000086(valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) props,
                                                                                     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       27 (0x1b)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverDeviceProperties0$PST06000085(valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DevicePropertiesPod0
      IL_000d:  ldarg.0
      IL_000e:  ldarg.2
      IL_000f:  ldarg.0
      IL_0010:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0015:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::MarshallAll(uint8*,
                                                                                                                      valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                      int32&)
      IL_001a:  ret
    } // end of method Imp::MarshallDeliverDeviceProperties0

    .method privatescope instance void  DeliverAckConfigureIO0$PST06000087() cil managed
    {
      // Code size       17 (0x11)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldc.i4.7
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0007:  ldarg.0
      IL_0008:  ldc.i4.7
      IL_0009:  volatile.
      IL_000b:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0010:  ret
    } // end of method Imp::DeliverAckConfigureIO0

    .method privatescope instance void  MarshallDeliverAckConfigureIO0$PST06000088(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverAckConfigureIO0$PST06000087()
      IL_0006:  ldarg.0
      IL_0007:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckConfigureIO Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::AckConfigureIOPod0
      IL_000c:  ldarg.0
      IL_000d:  ldarg.1
      IL_000e:  ldarg.0
      IL_000f:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0014:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/AckConfigureIO::MarshallAll(uint8*,
                                                                                                                    valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                    int32&)
      IL_0019:  ret
    } // end of method Imp::MarshallDeliverAckConfigureIO0

    .method privatescope instance void  DeliverUnsupportedChecksumProperties0$PST06000089() cil managed
    {
      // Code size       19 (0x13)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldc.i4.s   10
      IL_0003:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0008:  ldarg.0
      IL_0009:  ldc.i4.s   10
      IL_000b:  volatile.
      IL_000d:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0012:  ret
    } // end of method Imp::DeliverUnsupportedChecksumProperties0

    .method privatescope instance void  MarshallDeliverUnsupportedChecksumProperties0$PST0600008A(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverUnsupportedChecksumProperties0$PST06000089()
      IL_0006:  ldarg.0
      IL_0007:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/UnsupportedChecksumProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::UnsupportedChecksumPropertiesPod0
      IL_000c:  ldarg.0
      IL_000d:  ldarg.1
      IL_000e:  ldarg.0
      IL_000f:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0014:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/UnsupportedChecksumProperties::MarshallAll(uint8*,
                                                                                                                                   valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                                   int32&)
      IL_0019:  ret
    } // end of method Imp::MarshallDeliverUnsupportedChecksumProperties0

    .method privatescope instance void  DeliverAckStartIO0$PST0600008B() cil managed
    {
      // Code size       19 (0x13)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldc.i4.s   12
      IL_0003:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0008:  ldarg.0
      IL_0009:  ldc.i4.s   12
      IL_000b:  volatile.
      IL_000d:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0012:  ret
    } // end of method Imp::DeliverAckStartIO0

    .method privatescope instance void  MarshallDeliverAckStartIO0$PST0600008C(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverAckStartIO0$PST0600008B()
      IL_0006:  ldarg.0
      IL_0007:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStartIO Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::AckStartIOPod0
      IL_000c:  ldarg.0
      IL_000d:  ldarg.1
      IL_000e:  ldarg.0
      IL_000f:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0014:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/AckStartIO::MarshallAll(uint8*,
                                                                                                                valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                int32&)
      IL_0019:  ret
    } // end of method Imp::MarshallDeliverAckStartIO0

    .method privatescope instance void  DeliverTakeTxPacketsFromDevice0$PST0600008D(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetFifo) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       31 (0x1f)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TakeTxPacketsFromDevicePod0
      IL_0006:  ldarg.1
      IL_0007:  stfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::packetFifo
      IL_000c:  ldarg.0
      IL_000d:  ldc.i4.s   14
      IL_000f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0014:  ldarg.0
      IL_0015:  ldc.i4.s   14
      IL_0017:  volatile.
      IL_0019:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_001e:  ret
    } // end of method Imp::DeliverTakeTxPacketsFromDevice0

    .method privatescope instance void  MarshallDeliverTakeTxPacketsFromDevice0$PST0600008E(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetFifo,
                                                                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       27 (0x1b)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverTakeTxPacketsFromDevice0$PST0600008D(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TakeTxPacketsFromDevicePod0
      IL_000d:  ldarg.0
      IL_000e:  ldarg.2
      IL_000f:  ldarg.0
      IL_0010:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0015:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::MarshallAll(uint8*,
                                                                                                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                             int32&)
      IL_001a:  ret
    } // end of method Imp::MarshallDeliverTakeTxPacketsFromDevice0

    .method privatescope instance void  DeliverTakeRxPacketsFromDevice0$PST0600008F(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetFifo) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       31 (0x1f)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TakeRxPacketsFromDevicePod0
      IL_0006:  ldarg.1
      IL_0007:  stfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::packetFifo
      IL_000c:  ldarg.0
      IL_000d:  ldc.i4.s   16
      IL_000f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0014:  ldarg.0
      IL_0015:  ldc.i4.s   16
      IL_0017:  volatile.
      IL_0019:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_001e:  ret
    } // end of method Imp::DeliverTakeRxPacketsFromDevice0

    .method privatescope instance void  MarshallDeliverTakeRxPacketsFromDevice0$PST06000090(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetFifo,
                                                                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       27 (0x1b)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverTakeRxPacketsFromDevice0$PST0600008F(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TakeRxPacketsFromDevicePod0
      IL_000d:  ldarg.0
      IL_000e:  ldarg.2
      IL_000f:  ldarg.0
      IL_0010:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0015:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::MarshallAll(uint8*,
                                                                                                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                             int32&)
      IL_001a:  ret
    } // end of method Imp::MarshallDeliverTakeRxPacketsFromDevice0

    .method privatescope instance void  DeliverAckStopIO0$PST06000091() cil managed
    {
      // Code size       19 (0x13)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldc.i4.s   18
      IL_0003:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0008:  ldarg.0
      IL_0009:  ldc.i4.s   18
      IL_000b:  volatile.
      IL_000d:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0012:  ret
    } // end of method Imp::DeliverAckStopIO0

    .method privatescope instance void  MarshallDeliverAckStopIO0$PST06000092(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverAckStopIO0$PST06000091()
      IL_0006:  ldarg.0
      IL_0007:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStopIO Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::AckStopIOPod0
      IL_000c:  ldarg.0
      IL_000d:  ldarg.1
      IL_000e:  ldarg.0
      IL_000f:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0014:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/AckStopIO::MarshallAll(uint8*,
                                                                                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                               int32&)
      IL_0019:  ret
    } // end of method Imp::MarshallDeliverAckStopIO0

    .method privatescope instance void  DeliverContractNotSupported0$PST06000093() cil managed
    {
      // Code size       17 (0x11)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldc.i4.2
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0007:  ldarg.0
      IL_0008:  ldc.i4.2
      IL_0009:  volatile.
      IL_000b:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0010:  ret
    } // end of method Imp::DeliverContractNotSupported0

    .method privatescope instance void  MarshallDeliverContractNotSupported0$PST06000094(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverContractNotSupported0$PST06000093()
      IL_0006:  ldarg.0
      IL_0007:  ldflda     valuetype [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/ContractNotSupported Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::ContractNotSupportedPod0
      IL_000c:  ldarg.0
      IL_000d:  ldarg.1
      IL_000e:  ldarg.0
      IL_000f:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::TagPod0
      IL_0014:  call       instance void [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/ContractNotSupported::MarshallAll(uint8*,
                                                                                                                                                valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                                                int32&)
      IL_0019:  ret
    } // end of method Imp::MarshallDeliverContractNotSupported0

  } // end of class Imp

  .class sequential ansi nested public Exp
         extends [Io.Contracts]Microsoft.Singularity.Io.DeviceContract/Exp
         implements [kernel]Microsoft.SingSharp.ITracked,
                    [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IRepStruct
  {
    .field family int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) TagPod1
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties GetDevicePropertiesPod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO ConfigureIOPod1
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO ConfigureIOPod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents RegisterForEventsPod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties SetChecksumPropertiesPod1
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StartIO StartIOPod1
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice GiveTxPacketsToDevicePod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice GiveRxPacketsToDevicePod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StopIO StopIOPod0
    .method famorassem specialname rtspecialname 
            instance void  .ctor(int32 expInitialState) cil managed
    {
      // Code size       8 (0x8)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void [Io.Contracts]Microsoft.Singularity.Io.DeviceContract/Exp::.ctor(int32)
      IL_0007:  ret
    } // end of method Exp::.ctor

    .method public instance bool  InState(int32 state) cil managed
    {
      .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.PureAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       70 (0x46)
      .maxstack  4
      .locals init (int32 V_0,
               bool V_1,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack V_2,
               bool V_3)
      IL_0000:  ldarg.1
      IL_0001:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::CanonicalState$PST06000005(int32)
      IL_0006:  stloc.0
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_000d:  call       instance int32 [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Top()
      IL_0012:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::CanonicalState$PST06000005(int32)
      IL_0017:  ldloc.0
      IL_0018:  ceq
      IL_001a:  brfalse    IL_0026

      IL_001f:  ldc.i4.1
      IL_0020:  stloc.1
      IL_0021:  br         IL_0042

      IL_0026:  ldarg.0
      IL_0027:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_002c:  ldobj      [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack
      IL_0031:  stloc.2
      IL_0032:  ldloca.s   V_2
      IL_0034:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_0039:  ldloc.0
      IL_003a:  ceq
      IL_003c:  stloc.1
      IL_003d:  br         IL_0042

      IL_0042:  ldloc.1
      IL_0043:  stloc.3
      IL_0044:  ldloc.1
      IL_0045:  ret
    } // end of method Exp::InState

    .method public instance string  CurrentState() cil managed
    {
      // Code size       329 (0x149)
      .maxstack  4
      .locals init (int32 V_0,
               string V_1,
               string V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       instance int32 [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Top()
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   17
      IL_000f:  beq        IL_008a

      IL_0014:  ldloc.0
      IL_0015:  ldc.i4.s   16
      IL_0017:  beq        IL_0095

      IL_001c:  ldloc.0
      IL_001d:  ldc.i4.s   15
      IL_001f:  beq        IL_00a0

      IL_0024:  ldloc.0
      IL_0025:  ldc.i4.s   14
      IL_0027:  beq        IL_00ab

      IL_002c:  ldloc.0
      IL_002d:  ldc.i4.s   13
      IL_002f:  beq        IL_00b6

      IL_0034:  ldloc.0
      IL_0035:  ldc.i4.s   12
      IL_0037:  beq        IL_00c1

      IL_003c:  ldloc.0
      IL_003d:  ldc.i4.s   11
      IL_003f:  beq        IL_00cc

      IL_0044:  ldloc.0
      IL_0045:  ldc.i4.s   10
      IL_0047:  beq        IL_00d7

      IL_004c:  ldloc.0
      IL_004d:  ldc.i4.s   9
      IL_004f:  beq        IL_00e2

      IL_0054:  ldloc.0
      IL_0055:  ldc.i4.8
      IL_0056:  beq        IL_00ed

      IL_005b:  ldloc.0
      IL_005c:  ldc.i4.7
      IL_005d:  beq        IL_00f8

      IL_0062:  ldloc.0
      IL_0063:  ldc.i4.6
      IL_0064:  beq        IL_0103

      IL_0069:  ldloc.0
      IL_006a:  ldc.i4.5
      IL_006b:  beq        IL_010e

      IL_0070:  ldloc.0
      IL_0071:  ldc.i4.4
      IL_0072:  beq        IL_0119

      IL_0077:  ldloc.0
      IL_0078:  ldc.i4.3
      IL_0079:  beq        IL_0124

      IL_007e:  ldloc.0
      IL_007f:  ldc.i4.2
      IL_0080:  beq        IL_012f

      IL_0085:  br         IL_013a

      IL_008a:  ldstr      "READY"
      IL_008f:  stloc.1
      IL_0090:  br         IL_0145

      IL_0095:  ldstr      "READY$0"
      IL_009a:  stloc.1
      IL_009b:  br         IL_0145

      IL_00a0:  ldstr      "READY$1"
      IL_00a5:  stloc.1
      IL_00a6:  br         IL_0145

      IL_00ab:  ldstr      "READY$2"
      IL_00b0:  stloc.1
      IL_00b1:  br         IL_0145

      IL_00b6:  ldstr      "IO_CONFIGURE_BEGIN"
      IL_00bb:  stloc.1
      IL_00bc:  br         IL_0145

      IL_00c1:  ldstr      "IO_CONFIGURE_0"
      IL_00c6:  stloc.1
      IL_00c7:  br         IL_0145

      IL_00cc:  ldstr      "IO_CONFIGURE_1"
      IL_00d1:  stloc.1
      IL_00d2:  br         IL_0145

      IL_00d7:  ldstr      "IO_CONFIGURE_2"
      IL_00dc:  stloc.1
      IL_00dd:  br         IL_0145

      IL_00e2:  ldstr      "IO_CONFIGURED"
      IL_00e7:  stloc.1
      IL_00e8:  br         IL_0145

      IL_00ed:  ldstr      "IO_CONFIGURED$3"
      IL_00f2:  stloc.1
      IL_00f3:  br         IL_0145

      IL_00f8:  ldstr      "IO_RUNNING"
      IL_00fd:  stloc.1
      IL_00fe:  br         IL_0145

      IL_0103:  ldstr      "IO_RUNNING$4"
      IL_0108:  stloc.1
      IL_0109:  br         IL_0145

      IL_010e:  ldstr      "IO_RUNNING$5"
      IL_0113:  stloc.1
      IL_0114:  br         IL_0145

      IL_0119:  ldstr      "IO_RUNNING$6"
      IL_011e:  stloc.1
      IL_011f:  br         IL_0145

      IL_0124:  ldstr      "Start"
      IL_0129:  stloc.1
      IL_012a:  br         IL_0145

      IL_012f:  ldstr      "DoneState"
      IL_0134:  stloc.1
      IL_0135:  br         IL_0145

      IL_013a:  ldstr      "<protocol terminated>"
      IL_013f:  stloc.1
      IL_0140:  br         IL_0145

      IL_0145:  ldloc.1
      IL_0146:  stloc.2
      IL_0147:  ldloc.1
      IL_0148:  ret
    } // end of method Exp::CurrentState

    .method public instance void  SendSuccess() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 03 00 00 00 00 00 ) 
      // Code size       308 (0x134)
      .maxstack  20
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4,
               bool V_5,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_6,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_7,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_8,
               bool V_9,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_10,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_11,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_12)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.3
      IL_000e:  beq        IL_0028

      IL_0013:  ldloc.0
      IL_0014:  ldc.i4.s   10
      IL_0016:  beq        IL_0075

      IL_001b:  ldloc.0
      IL_001c:  ldc.i4.s   12
      IL_001e:  beq        IL_00c9

      IL_0023:  br         IL_011d

      IL_0028:  ldarg.0
      IL_0029:  ldloca.s   V_1
      IL_002b:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0030:  stloc.2
      IL_0031:  ldloc.2
      IL_0032:  stloc.3
      IL_0033:  ldloc.3
      IL_0034:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0039:  stloc.s    V_4
      IL_003b:  ldloc.1
      IL_003c:  brtrue     IL_0051

      IL_0041:  ldloc.3
      IL_0042:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0047:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverSuccess0$PST06000083()
      IL_004c:  br         IL_005d

      IL_0051:  ldloc.3
      IL_0052:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0057:  ldarg.0
      IL_0058:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallDeliverSuccess0$PST06000084(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_005d:  ldarg.0
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0063:  ldarg.0
      IL_0064:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0069:  ldc.i4.s   17
      IL_006b:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0070:  br         IL_0133

      IL_0075:  ldarg.0
      IL_0076:  ldloca.s   V_5
      IL_0078:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_007d:  stloc.s    V_6
      IL_007f:  ldloc.s    V_6
      IL_0081:  stloc.s    V_7
      IL_0083:  ldloc.s    V_7
      IL_0085:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_008a:  stloc.s    V_8
      IL_008c:  ldloc.s    V_5
      IL_008e:  brtrue     IL_00a4

      IL_0093:  ldloc.s    V_7
      IL_0095:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_009a:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverSuccess0$PST06000083()
      IL_009f:  br         IL_00b1

      IL_00a4:  ldloc.s    V_7
      IL_00a6:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_00ab:  ldarg.0
      IL_00ac:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallDeliverSuccess0$PST06000084(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_00b1:  ldarg.0
      IL_00b2:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_00b7:  ldarg.0
      IL_00b8:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00bd:  ldc.i4.s   9
      IL_00bf:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00c4:  br         IL_0133

      IL_00c9:  ldarg.0
      IL_00ca:  ldloca.s   V_9
      IL_00cc:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_00d1:  stloc.s    V_10
      IL_00d3:  ldloc.s    V_10
      IL_00d5:  stloc.s    V_11
      IL_00d7:  ldloc.s    V_11
      IL_00d9:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_00de:  stloc.s    V_12
      IL_00e0:  ldloc.s    V_9
      IL_00e2:  brtrue     IL_00f8

      IL_00e7:  ldloc.s    V_11
      IL_00e9:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_00ee:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverSuccess0$PST06000083()
      IL_00f3:  br         IL_0105

      IL_00f8:  ldloc.s    V_11
      IL_00fa:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_00ff:  ldarg.0
      IL_0100:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallDeliverSuccess0$PST06000084(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0105:  ldarg.0
      IL_0106:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_010b:  ldarg.0
      IL_010c:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0111:  ldc.i4.s   11
      IL_0113:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0118:  br         IL_0133

      IL_011d:  ldstr      "can't send Success in state "
      IL_0122:  ldarg.0
      IL_0123:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_0128:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_012d:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0132:  throw

      IL_0133:  ret
    } // end of method Exp::SendSuccess

    .method public instance void  RecvGetDeviceProperties([out] valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& props) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 04 00 00 00 00 00 ) 
      // Code size       210 (0xd2)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   17
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_00bb

      IL_0019:  ldc.i4.0
      IL_001a:  stloc.1
      IL_001b:  ldarg.0
      IL_001c:  volatile.
      IL_001e:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0023:  stloc.2
      IL_0024:  ldloc.2
      IL_0025:  brtrue     IL_003a

      IL_002a:  ldarg.0
      IL_002b:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0030:  stloc.1
      IL_0031:  ldarg.0
      IL_0032:  volatile.
      IL_0034:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0039:  stloc.2
      IL_003a:  ldloc.2
      IL_003b:  ldc.i4.0
      IL_003c:  ceq
      IL_003e:  brfalse    IL_005c

      IL_0043:  ldloc.1
      IL_0044:  brfalse    IL_0054

      IL_0049:  ldstr      "Peer is closed"
      IL_004e:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0053:  throw

      IL_0054:  ldarg.0
      IL_0055:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_005a:  br.s       IL_0019

      IL_005c:  ldarg.0
      IL_005d:  ldc.i4.4
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0063:  ldloc.2
      IL_0064:  ldc.i4.4
      IL_0065:  beq        IL_0087

      IL_006a:  ldstr      "can't recv GetDeviceProperties when next message h"
      + "as tag "
      IL_006f:  ldarg.0
      IL_0070:  volatile.
      IL_0072:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0077:  box        [kernel]System.Int32
      IL_007c:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0081:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0086:  throw

      IL_0087:  ldarg.1
      IL_0088:  ldarg.0
      IL_0089:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::GetDevicePropertiesPod0
      IL_008e:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::props
      IL_0093:  stind.i
      IL_0094:  ldarg.0
      IL_0095:  ldc.i4.0
      IL_0096:  volatile.
      IL_0098:  stfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_009d:  ldarg.0
      IL_009e:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::GetDevicePropertiesPod0
      IL_00a3:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties
      IL_00a9:  ldarg.0
      IL_00aa:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00af:  ldc.i4.s   16
      IL_00b1:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00b6:  br         IL_00d1

      IL_00bb:  ldstr      "can't recv GetDeviceProperties in state "
      IL_00c0:  ldarg.0
      IL_00c1:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_00c6:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00cb:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00d0:  throw

      IL_00d1:  ret
    } // end of method Exp::RecvGetDeviceProperties

    .method public instance void  SendDeviceProperties(valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) props) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 05 00 00 00 00 00 ) 
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       135 (0x87)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   16
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_0070

      IL_0019:  ldarg.0
      IL_001a:  ldloca.s   V_1
      IL_001c:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0021:  stloc.2
      IL_0022:  ldloc.2
      IL_0023:  stloc.3
      IL_0024:  ldloc.3
      IL_0025:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_002a:  stloc.s    V_4
      IL_002c:  ldloc.1
      IL_002d:  brtrue     IL_004b

      IL_0032:  ldloc.s    V_4
      IL_0034:  ldarg.1
      IL_0035:  call       void Microsoft.Singularity.Io.Net.NicDeviceProperties::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                    valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_003a:  ldloc.3
      IL_003b:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0040:  ldarg.1
      IL_0041:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverDeviceProperties0$PST06000085(valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0046:  br         IL_0058

      IL_004b:  ldloc.3
      IL_004c:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0051:  ldarg.1
      IL_0052:  ldarg.0
      IL_0053:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallDeliverDeviceProperties0$PST06000086(valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                                          valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0058:  ldarg.0
      IL_0059:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_005e:  ldarg.0
      IL_005f:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0064:  ldc.i4.s   15
      IL_0066:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_006b:  br         IL_0086

      IL_0070:  ldstr      "can't send DeviceProperties in state "
      IL_0075:  ldarg.0
      IL_0076:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_007b:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0080:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0085:  throw

      IL_0086:  ret
    } // end of method Exp::SendDeviceProperties

    .method public instance void  RecvConfigureIO() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 06 00 00 00 00 00 ) 
      // Code size       524 (0x20c)
      .maxstack  17
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2,
               bool V_3,
               int32 V_4,
               bool V_5,
               int32 V_6)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   11
      IL_000f:  beq        IL_0029

      IL_0014:  ldloc.0
      IL_0015:  ldc.i4.s   9
      IL_0017:  beq        IL_00be

      IL_001c:  ldloc.0
      IL_001d:  ldc.i4.s   15
      IL_001f:  beq        IL_0158

      IL_0024:  br         IL_01f5

      IL_0029:  ldc.i4.0
      IL_002a:  stloc.1
      IL_002b:  ldarg.0
      IL_002c:  volatile.
      IL_002e:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0033:  stloc.2
      IL_0034:  ldloc.2
      IL_0035:  brtrue     IL_004a

      IL_003a:  ldarg.0
      IL_003b:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0040:  stloc.1
      IL_0041:  ldarg.0
      IL_0042:  volatile.
      IL_0044:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0049:  stloc.2
      IL_004a:  ldloc.2
      IL_004b:  ldc.i4.0
      IL_004c:  ceq
      IL_004e:  brfalse    IL_006c

      IL_0053:  ldloc.1
      IL_0054:  brfalse    IL_0064

      IL_0059:  ldstr      "Peer is closed"
      IL_005e:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0063:  throw

      IL_0064:  ldarg.0
      IL_0065:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_006a:  br.s       IL_0029

      IL_006c:  ldarg.0
      IL_006d:  ldc.i4.6
      IL_006e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0073:  ldloc.2
      IL_0074:  ldc.i4.6
      IL_0075:  beq        IL_0097

      IL_007a:  ldstr      "can't recv ConfigureIO when next message has tag "
      IL_007f:  ldarg.0
      IL_0080:  volatile.
      IL_0082:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0087:  box        [kernel]System.Int32
      IL_008c:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0091:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0096:  throw

      IL_0097:  ldarg.0
      IL_0098:  ldc.i4.0
      IL_0099:  volatile.
      IL_009b:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_00a0:  ldarg.0
      IL_00a1:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::ConfigureIOPod1
      IL_00a6:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO
      IL_00ac:  ldarg.0
      IL_00ad:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00b2:  ldc.i4.s   13
      IL_00b4:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00b9:  br         IL_020b

      IL_00be:  ldc.i4.0
      IL_00bf:  stloc.3
      IL_00c0:  ldarg.0
      IL_00c1:  volatile.
      IL_00c3:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_00c8:  stloc.s    V_4
      IL_00ca:  ldloc.s    V_4
      IL_00cc:  brtrue     IL_00e2

      IL_00d1:  ldarg.0
      IL_00d2:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_00d7:  stloc.3
      IL_00d8:  ldarg.0
      IL_00d9:  volatile.
      IL_00db:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_00e0:  stloc.s    V_4
      IL_00e2:  ldloc.s    V_4
      IL_00e4:  ldc.i4.0
      IL_00e5:  ceq
      IL_00e7:  brfalse    IL_0105

      IL_00ec:  ldloc.3
      IL_00ed:  brfalse    IL_00fd

      IL_00f2:  ldstr      "Peer is closed"
      IL_00f7:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_00fc:  throw

      IL_00fd:  ldarg.0
      IL_00fe:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0103:  br.s       IL_00be

      IL_0105:  ldarg.0
      IL_0106:  ldc.i4.6
      IL_0107:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_010c:  ldloc.s    V_4
      IL_010e:  ldc.i4.6
      IL_010f:  beq        IL_0131

      IL_0114:  ldstr      "can't recv ConfigureIO when next message has tag "
      IL_0119:  ldarg.0
      IL_011a:  volatile.
      IL_011c:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0121:  box        [kernel]System.Int32
      IL_0126:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_012b:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0130:  throw

      IL_0131:  ldarg.0
      IL_0132:  ldc.i4.0
      IL_0133:  volatile.
      IL_0135:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_013a:  ldarg.0
      IL_013b:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::ConfigureIOPod1
      IL_0140:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO
      IL_0146:  ldarg.0
      IL_0147:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_014c:  ldc.i4.s   13
      IL_014e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0153:  br         IL_020b

      IL_0158:  ldc.i4.0
      IL_0159:  stloc.s    V_5
      IL_015b:  ldarg.0
      IL_015c:  volatile.
      IL_015e:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0163:  stloc.s    V_6
      IL_0165:  ldloc.s    V_6
      IL_0167:  brtrue     IL_017e

      IL_016c:  ldarg.0
      IL_016d:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0172:  stloc.s    V_5
      IL_0174:  ldarg.0
      IL_0175:  volatile.
      IL_0177:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_017c:  stloc.s    V_6
      IL_017e:  ldloc.s    V_6
      IL_0180:  ldc.i4.0
      IL_0181:  ceq
      IL_0183:  brfalse    IL_01a2

      IL_0188:  ldloc.s    V_5
      IL_018a:  brfalse    IL_019a

      IL_018f:  ldstr      "Peer is closed"
      IL_0194:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0199:  throw

      IL_019a:  ldarg.0
      IL_019b:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_01a0:  br.s       IL_0158

      IL_01a2:  ldarg.0
      IL_01a3:  ldc.i4.6
      IL_01a4:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_01a9:  ldloc.s    V_6
      IL_01ab:  ldc.i4.6
      IL_01ac:  beq        IL_01ce

      IL_01b1:  ldstr      "can't recv ConfigureIO when next message has tag "
      IL_01b6:  ldarg.0
      IL_01b7:  volatile.
      IL_01b9:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_01be:  box        [kernel]System.Int32
      IL_01c3:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_01c8:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_01cd:  throw

      IL_01ce:  ldarg.0
      IL_01cf:  ldc.i4.0
      IL_01d0:  volatile.
      IL_01d2:  stfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_01d7:  ldarg.0
      IL_01d8:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::ConfigureIOPod0
      IL_01dd:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO
      IL_01e3:  ldarg.0
      IL_01e4:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_01e9:  ldc.i4.s   14
      IL_01eb:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_01f0:  br         IL_020b

      IL_01f5:  ldstr      "can't recv ConfigureIO in state "
      IL_01fa:  ldarg.0
      IL_01fb:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_0200:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0205:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_020a:  throw

      IL_020b:  ret
    } // end of method Exp::RecvConfigureIO

    .method public instance void  SendAckConfigureIO() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 07 00 00 00 00 00 ) 
      // Code size       125 (0x7d)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   14
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_0066

      IL_0019:  ldarg.0
      IL_001a:  ldloca.s   V_1
      IL_001c:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0021:  stloc.2
      IL_0022:  ldloc.2
      IL_0023:  stloc.3
      IL_0024:  ldloc.3
      IL_0025:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_002a:  stloc.s    V_4
      IL_002c:  ldloc.1
      IL_002d:  brtrue     IL_0042

      IL_0032:  ldloc.3
      IL_0033:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0038:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverAckConfigureIO0$PST06000087()
      IL_003d:  br         IL_004e

      IL_0042:  ldloc.3
      IL_0043:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0048:  ldarg.0
      IL_0049:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallDeliverAckConfigureIO0$PST06000088(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_004e:  ldarg.0
      IL_004f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0054:  ldarg.0
      IL_0055:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_005a:  ldc.i4.s   13
      IL_005c:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0061:  br         IL_007c

      IL_0066:  ldstr      "can't send AckConfigureIO in state "
      IL_006b:  ldarg.0
      IL_006c:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_0071:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0076:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_007b:  throw

      IL_007c:  ret
    } // end of method Exp::SendAckConfigureIO

    .method public instance void  RecvRegisterForEvents([out] valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& ep) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 08 00 00 00 00 00 ) 
      // Code size       210 (0xd2)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   13
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_00bb

      IL_0019:  ldc.i4.0
      IL_001a:  stloc.1
      IL_001b:  ldarg.0
      IL_001c:  volatile.
      IL_001e:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0023:  stloc.2
      IL_0024:  ldloc.2
      IL_0025:  brtrue     IL_003a

      IL_002a:  ldarg.0
      IL_002b:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0030:  stloc.1
      IL_0031:  ldarg.0
      IL_0032:  volatile.
      IL_0034:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0039:  stloc.2
      IL_003a:  ldloc.2
      IL_003b:  ldc.i4.0
      IL_003c:  ceq
      IL_003e:  brfalse    IL_005c

      IL_0043:  ldloc.1
      IL_0044:  brfalse    IL_0054

      IL_0049:  ldstr      "Peer is closed"
      IL_004e:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0053:  throw

      IL_0054:  ldarg.0
      IL_0055:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_005a:  br.s       IL_0019

      IL_005c:  ldarg.0
      IL_005d:  ldc.i4.8
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0063:  ldloc.2
      IL_0064:  ldc.i4.8
      IL_0065:  beq        IL_0087

      IL_006a:  ldstr      "can't recv RegisterForEvents when next message has"
      + " tag "
      IL_006f:  ldarg.0
      IL_0070:  volatile.
      IL_0072:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0077:  box        [kernel]System.Int32
      IL_007c:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0081:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0086:  throw

      IL_0087:  ldarg.1
      IL_0088:  ldarg.0
      IL_0089:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::RegisterForEventsPod0
      IL_008e:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::ep
      IL_0093:  stind.i
      IL_0094:  ldarg.0
      IL_0095:  ldc.i4.0
      IL_0096:  volatile.
      IL_0098:  stfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_009d:  ldarg.0
      IL_009e:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::RegisterForEventsPod0
      IL_00a3:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents
      IL_00a9:  ldarg.0
      IL_00aa:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00af:  ldc.i4.s   12
      IL_00b1:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00b6:  br         IL_00d1

      IL_00bb:  ldstr      "can't recv RegisterForEvents in state "
      IL_00c0:  ldarg.0
      IL_00c1:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_00c6:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00cb:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00d0:  throw

      IL_00d1:  ret
    } // end of method Exp::RecvRegisterForEvents

    .method public instance void  RecvSetChecksumProperties([out] valuetype Microsoft.Singularity.Io.Net.ChecksumSupport& properties) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 09 00 00 00 00 00 ) 
      // Code size       216 (0xd8)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   11
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_00c1

      IL_0019:  ldc.i4.0
      IL_001a:  stloc.1
      IL_001b:  ldarg.0
      IL_001c:  volatile.
      IL_001e:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0023:  stloc.2
      IL_0024:  ldloc.2
      IL_0025:  brtrue     IL_003a

      IL_002a:  ldarg.0
      IL_002b:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0030:  stloc.1
      IL_0031:  ldarg.0
      IL_0032:  volatile.
      IL_0034:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0039:  stloc.2
      IL_003a:  ldloc.2
      IL_003b:  ldc.i4.0
      IL_003c:  ceq
      IL_003e:  brfalse    IL_005c

      IL_0043:  ldloc.1
      IL_0044:  brfalse    IL_0054

      IL_0049:  ldstr      "Peer is closed"
      IL_004e:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0053:  throw

      IL_0054:  ldarg.0
      IL_0055:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_005a:  br.s       IL_0019

      IL_005c:  ldarg.0
      IL_005d:  ldc.i4.s   9
      IL_005f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0064:  ldloc.2
      IL_0065:  ldc.i4.s   9
      IL_0067:  beq        IL_0089

      IL_006c:  ldstr      "can't recv SetChecksumProperties when next message"
      + " has tag "
      IL_0071:  ldarg.0
      IL_0072:  volatile.
      IL_0074:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0079:  box        [kernel]System.Int32
      IL_007e:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0083:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0088:  throw

      IL_0089:  ldarg.1
      IL_008a:  ldarg.0
      IL_008b:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::SetChecksumPropertiesPod1
      IL_0090:  ldfld      valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties::properties
      IL_0095:  stobj      Microsoft.Singularity.Io.Net.ChecksumSupport
      IL_009a:  ldarg.0
      IL_009b:  ldc.i4.0
      IL_009c:  volatile.
      IL_009e:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_00a3:  ldarg.0
      IL_00a4:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::SetChecksumPropertiesPod1
      IL_00a9:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties
      IL_00af:  ldarg.0
      IL_00b0:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00b5:  ldc.i4.s   10
      IL_00b7:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00bc:  br         IL_00d7

      IL_00c1:  ldstr      "can't recv SetChecksumProperties in state "
      IL_00c6:  ldarg.0
      IL_00c7:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_00cc:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00d1:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00d6:  throw

      IL_00d7:  ret
    } // end of method Exp::RecvSetChecksumProperties

    .method public instance void  SendUnsupportedChecksumProperties() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 0A 00 00 00 00 00 ) 
      // Code size       125 (0x7d)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   10
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_0066

      IL_0019:  ldarg.0
      IL_001a:  ldloca.s   V_1
      IL_001c:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0021:  stloc.2
      IL_0022:  ldloc.2
      IL_0023:  stloc.3
      IL_0024:  ldloc.3
      IL_0025:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_002a:  stloc.s    V_4
      IL_002c:  ldloc.1
      IL_002d:  brtrue     IL_0042

      IL_0032:  ldloc.3
      IL_0033:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0038:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverUnsupportedChecksumProperties0$PST06000089()
      IL_003d:  br         IL_004e

      IL_0042:  ldloc.3
      IL_0043:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0048:  ldarg.0
      IL_0049:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallDeliverUnsupportedChecksumProperties0$PST0600008A(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_004e:  ldarg.0
      IL_004f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0054:  ldarg.0
      IL_0055:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_005a:  ldc.i4.s   13
      IL_005c:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0061:  br         IL_007c

      IL_0066:  ldstr      "can't send UnsupportedChecksumProperties in state "
      IL_006b:  ldarg.0
      IL_006c:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_0071:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0076:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_007b:  throw

      IL_007c:  ret
    } // end of method Exp::SendUnsupportedChecksumProperties

    .method public instance void  RecvStartIO() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 0B 00 00 00 00 00 ) 
      // Code size       198 (0xc6)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.s   9
      IL_000f:  beq        IL_0019

      IL_0014:  br         IL_00af

      IL_0019:  ldc.i4.0
      IL_001a:  stloc.1
      IL_001b:  ldarg.0
      IL_001c:  volatile.
      IL_001e:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0023:  stloc.2
      IL_0024:  ldloc.2
      IL_0025:  brtrue     IL_003a

      IL_002a:  ldarg.0
      IL_002b:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0030:  stloc.1
      IL_0031:  ldarg.0
      IL_0032:  volatile.
      IL_0034:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0039:  stloc.2
      IL_003a:  ldloc.2
      IL_003b:  ldc.i4.0
      IL_003c:  ceq
      IL_003e:  brfalse    IL_005c

      IL_0043:  ldloc.1
      IL_0044:  brfalse    IL_0054

      IL_0049:  ldstr      "Peer is closed"
      IL_004e:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0053:  throw

      IL_0054:  ldarg.0
      IL_0055:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_005a:  br.s       IL_0019

      IL_005c:  ldarg.0
      IL_005d:  ldc.i4.s   11
      IL_005f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0064:  ldloc.2
      IL_0065:  ldc.i4.s   11
      IL_0067:  beq        IL_0089

      IL_006c:  ldstr      "can't recv StartIO when next message has tag "
      IL_0071:  ldarg.0
      IL_0072:  volatile.
      IL_0074:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0079:  box        [kernel]System.Int32
      IL_007e:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0083:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0088:  throw

      IL_0089:  ldarg.0
      IL_008a:  ldc.i4.0
      IL_008b:  volatile.
      IL_008d:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0092:  ldarg.0
      IL_0093:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StartIO Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::StartIOPod1
      IL_0098:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/StartIO
      IL_009e:  ldarg.0
      IL_009f:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00a4:  ldc.i4.8
      IL_00a5:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00aa:  br         IL_00c5

      IL_00af:  ldstr      "can't recv StartIO in state "
      IL_00b4:  ldarg.0
      IL_00b5:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_00ba:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00bf:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00c4:  throw

      IL_00c5:  ret
    } // end of method Exp::RecvStartIO

    .method public instance void  SendAckStartIO() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 0C 00 00 00 00 00 ) 
      // Code size       123 (0x7b)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.8
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_0064

      IL_0018:  ldarg.0
      IL_0019:  ldloca.s   V_1
      IL_001b:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0020:  stloc.2
      IL_0021:  ldloc.2
      IL_0022:  stloc.3
      IL_0023:  ldloc.3
      IL_0024:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0029:  stloc.s    V_4
      IL_002b:  ldloc.1
      IL_002c:  brtrue     IL_0041

      IL_0031:  ldloc.3
      IL_0032:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0037:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverAckStartIO0$PST0600008B()
      IL_003c:  br         IL_004d

      IL_0041:  ldloc.3
      IL_0042:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0047:  ldarg.0
      IL_0048:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallDeliverAckStartIO0$PST0600008C(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_004d:  ldarg.0
      IL_004e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0053:  ldarg.0
      IL_0054:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0059:  ldc.i4.7
      IL_005a:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_005f:  br         IL_007a

      IL_0064:  ldstr      "can't send AckStartIO in state "
      IL_0069:  ldarg.0
      IL_006a:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_006f:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0074:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0079:  throw

      IL_007a:  ret
    } // end of method Exp::SendAckStartIO

    .method public instance void  RecvGiveTxPacketsToDevice([out] valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& packetFifo) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 0D 00 00 00 00 00 ) 
      // Code size       210 (0xd2)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.7
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_00bb

      IL_0018:  ldc.i4.0
      IL_0019:  stloc.1
      IL_001a:  ldarg.0
      IL_001b:  volatile.
      IL_001d:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0022:  stloc.2
      IL_0023:  ldloc.2
      IL_0024:  brtrue     IL_0039

      IL_0029:  ldarg.0
      IL_002a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_002f:  stloc.1
      IL_0030:  ldarg.0
      IL_0031:  volatile.
      IL_0033:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0038:  stloc.2
      IL_0039:  ldloc.2
      IL_003a:  ldc.i4.0
      IL_003b:  ceq
      IL_003d:  brfalse    IL_005b

      IL_0042:  ldloc.1
      IL_0043:  brfalse    IL_0053

      IL_0048:  ldstr      "Peer is closed"
      IL_004d:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0052:  throw

      IL_0053:  ldarg.0
      IL_0054:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0059:  br.s       IL_0018

      IL_005b:  ldarg.0
      IL_005c:  ldc.i4.s   13
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0063:  ldloc.2
      IL_0064:  ldc.i4.s   13
      IL_0066:  beq        IL_0088

      IL_006b:  ldstr      "can't recv GiveTxPacketsToDevice when next message"
      + " has tag "
      IL_0070:  ldarg.0
      IL_0071:  volatile.
      IL_0073:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0078:  box        [kernel]System.Int32
      IL_007d:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0082:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0087:  throw

      IL_0088:  ldarg.1
      IL_0089:  ldarg.0
      IL_008a:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::GiveTxPacketsToDevicePod0
      IL_008f:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::packetFifo
      IL_0094:  stind.i
      IL_0095:  ldarg.0
      IL_0096:  ldc.i4.0
      IL_0097:  volatile.
      IL_0099:  stfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_009e:  ldarg.0
      IL_009f:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::GiveTxPacketsToDevicePod0
      IL_00a4:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice
      IL_00aa:  ldarg.0
      IL_00ab:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00b0:  ldc.i4.6
      IL_00b1:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00b6:  br         IL_00d1

      IL_00bb:  ldstr      "can't recv GiveTxPacketsToDevice in state "
      IL_00c0:  ldarg.0
      IL_00c1:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_00c6:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00cb:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00d0:  throw

      IL_00d1:  ret
    } // end of method Exp::RecvGiveTxPacketsToDevice

    .method public instance void  SendTakeTxPacketsFromDevice(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetFifo) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 0E 00 00 00 00 00 ) 
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       133 (0x85)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.6
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_006e

      IL_0018:  ldarg.0
      IL_0019:  ldloca.s   V_1
      IL_001b:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0020:  stloc.2
      IL_0021:  ldloc.2
      IL_0022:  stloc.3
      IL_0023:  ldloc.3
      IL_0024:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0029:  stloc.s    V_4
      IL_002b:  ldloc.1
      IL_002c:  brtrue     IL_004a

      IL_0031:  ldloc.s    V_4
      IL_0033:  ldarg.1
      IL_0034:  call       void Microsoft.Singularity.Io.Net.PacketFifo::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                           valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_0039:  ldloc.3
      IL_003a:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_003f:  ldarg.1
      IL_0040:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverTakeTxPacketsFromDevice0$PST0600008D(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0045:  br         IL_0057

      IL_004a:  ldloc.3
      IL_004b:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0050:  ldarg.1
      IL_0051:  ldarg.0
      IL_0052:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallDeliverTakeTxPacketsFromDevice0$PST0600008E(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                                                 valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0057:  ldarg.0
      IL_0058:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_005d:  ldarg.0
      IL_005e:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0063:  ldc.i4.7
      IL_0064:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0069:  br         IL_0084

      IL_006e:  ldstr      "can't send TakeTxPacketsFromDevice in state "
      IL_0073:  ldarg.0
      IL_0074:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_0079:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_007e:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0083:  throw

      IL_0084:  ret
    } // end of method Exp::SendTakeTxPacketsFromDevice

    .method public instance void  RecvGiveRxPacketsToDevice([out] valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& packetFifo) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 0F 00 00 00 00 00 ) 
      // Code size       210 (0xd2)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.7
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_00bb

      IL_0018:  ldc.i4.0
      IL_0019:  stloc.1
      IL_001a:  ldarg.0
      IL_001b:  volatile.
      IL_001d:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0022:  stloc.2
      IL_0023:  ldloc.2
      IL_0024:  brtrue     IL_0039

      IL_0029:  ldarg.0
      IL_002a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_002f:  stloc.1
      IL_0030:  ldarg.0
      IL_0031:  volatile.
      IL_0033:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0038:  stloc.2
      IL_0039:  ldloc.2
      IL_003a:  ldc.i4.0
      IL_003b:  ceq
      IL_003d:  brfalse    IL_005b

      IL_0042:  ldloc.1
      IL_0043:  brfalse    IL_0053

      IL_0048:  ldstr      "Peer is closed"
      IL_004d:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0052:  throw

      IL_0053:  ldarg.0
      IL_0054:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0059:  br.s       IL_0018

      IL_005b:  ldarg.0
      IL_005c:  ldc.i4.s   15
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0063:  ldloc.2
      IL_0064:  ldc.i4.s   15
      IL_0066:  beq        IL_0088

      IL_006b:  ldstr      "can't recv GiveRxPacketsToDevice when next message"
      + " has tag "
      IL_0070:  ldarg.0
      IL_0071:  volatile.
      IL_0073:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0078:  box        [kernel]System.Int32
      IL_007d:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0082:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0087:  throw

      IL_0088:  ldarg.1
      IL_0089:  ldarg.0
      IL_008a:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::GiveRxPacketsToDevicePod0
      IL_008f:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::packetFifo
      IL_0094:  stind.i
      IL_0095:  ldarg.0
      IL_0096:  ldc.i4.0
      IL_0097:  volatile.
      IL_0099:  stfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_009e:  ldarg.0
      IL_009f:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::GiveRxPacketsToDevicePod0
      IL_00a4:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice
      IL_00aa:  ldarg.0
      IL_00ab:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00b0:  ldc.i4.5
      IL_00b1:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00b6:  br         IL_00d1

      IL_00bb:  ldstr      "can't recv GiveRxPacketsToDevice in state "
      IL_00c0:  ldarg.0
      IL_00c1:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_00c6:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00cb:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00d0:  throw

      IL_00d1:  ret
    } // end of method Exp::RecvGiveRxPacketsToDevice

    .method public instance void  SendTakeRxPacketsFromDevice(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetFifo) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 10 00 00 00 00 00 ) 
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       133 (0x85)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.5
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_006e

      IL_0018:  ldarg.0
      IL_0019:  ldloca.s   V_1
      IL_001b:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0020:  stloc.2
      IL_0021:  ldloc.2
      IL_0022:  stloc.3
      IL_0023:  ldloc.3
      IL_0024:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0029:  stloc.s    V_4
      IL_002b:  ldloc.1
      IL_002c:  brtrue     IL_004a

      IL_0031:  ldloc.s    V_4
      IL_0033:  ldarg.1
      IL_0034:  call       void Microsoft.Singularity.Io.Net.PacketFifo::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                           valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_0039:  ldloc.3
      IL_003a:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_003f:  ldarg.1
      IL_0040:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverTakeRxPacketsFromDevice0$PST0600008F(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0045:  br         IL_0057

      IL_004a:  ldloc.3
      IL_004b:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0050:  ldarg.1
      IL_0051:  ldarg.0
      IL_0052:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallDeliverTakeRxPacketsFromDevice0$PST06000090(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                                                 valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0057:  ldarg.0
      IL_0058:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_005d:  ldarg.0
      IL_005e:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0063:  ldc.i4.7
      IL_0064:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0069:  br         IL_0084

      IL_006e:  ldstr      "can't send TakeRxPacketsFromDevice in state "
      IL_0073:  ldarg.0
      IL_0074:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_0079:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_007e:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0083:  throw

      IL_0084:  ret
    } // end of method Exp::SendTakeRxPacketsFromDevice

    .method public instance void  RecvStopIO() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 11 00 00 00 00 00 ) 
      // Code size       197 (0xc5)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.7
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_00ae

      IL_0018:  ldc.i4.0
      IL_0019:  stloc.1
      IL_001a:  ldarg.0
      IL_001b:  volatile.
      IL_001d:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0022:  stloc.2
      IL_0023:  ldloc.2
      IL_0024:  brtrue     IL_0039

      IL_0029:  ldarg.0
      IL_002a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_002f:  stloc.1
      IL_0030:  ldarg.0
      IL_0031:  volatile.
      IL_0033:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0038:  stloc.2
      IL_0039:  ldloc.2
      IL_003a:  ldc.i4.0
      IL_003b:  ceq
      IL_003d:  brfalse    IL_005b

      IL_0042:  ldloc.1
      IL_0043:  brfalse    IL_0053

      IL_0048:  ldstr      "Peer is closed"
      IL_004d:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0052:  throw

      IL_0053:  ldarg.0
      IL_0054:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0059:  br.s       IL_0018

      IL_005b:  ldarg.0
      IL_005c:  ldc.i4.s   17
      IL_005e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0063:  ldloc.2
      IL_0064:  ldc.i4.s   17
      IL_0066:  beq        IL_0088

      IL_006b:  ldstr      "can't recv StopIO when next message has tag "
      IL_0070:  ldarg.0
      IL_0071:  volatile.
      IL_0073:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0078:  box        [kernel]System.Int32
      IL_007d:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0082:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0087:  throw

      IL_0088:  ldarg.0
      IL_0089:  ldc.i4.0
      IL_008a:  volatile.
      IL_008c:  stfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0091:  ldarg.0
      IL_0092:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StopIO Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::StopIOPod0
      IL_0097:  initobj    Microsoft.Singularity.Io.Net.NicDeviceContract/StopIO
      IL_009d:  ldarg.0
      IL_009e:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00a3:  ldc.i4.4
      IL_00a4:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00a9:  br         IL_00c4

      IL_00ae:  ldstr      "can't recv StopIO in state "
      IL_00b3:  ldarg.0
      IL_00b4:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_00b9:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00be:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00c3:  throw

      IL_00c4:  ret
    } // end of method Exp::RecvStopIO

    .method public instance void  SendAckStopIO() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 12 00 00 00 00 00 ) 
      // Code size       124 (0x7c)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.4
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_0065

      IL_0018:  ldarg.0
      IL_0019:  ldloca.s   V_1
      IL_001b:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0020:  stloc.2
      IL_0021:  ldloc.2
      IL_0022:  stloc.3
      IL_0023:  ldloc.3
      IL_0024:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0029:  stloc.s    V_4
      IL_002b:  ldloc.1
      IL_002c:  brtrue     IL_0041

      IL_0031:  ldloc.3
      IL_0032:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0037:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverAckStopIO0$PST06000091()
      IL_003c:  br         IL_004d

      IL_0041:  ldloc.3
      IL_0042:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0047:  ldarg.0
      IL_0048:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallDeliverAckStopIO0$PST06000092(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_004d:  ldarg.0
      IL_004e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0053:  ldarg.0
      IL_0054:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0059:  ldc.i4.s   9
      IL_005b:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0060:  br         IL_007b

      IL_0065:  ldstr      "can't send AckStopIO in state "
      IL_006a:  ldarg.0
      IL_006b:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_0070:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0075:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_007a:  throw

      IL_007b:  ret
    } // end of method Exp::SendAckStopIO

    .method public instance void  SendContractNotSupported() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 02 00 00 00 00 00 ) 
      // Code size       123 (0x7b)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.3
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_0064

      IL_0018:  ldarg.0
      IL_0019:  ldloca.s   V_1
      IL_001b:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0020:  stloc.2
      IL_0021:  ldloc.2
      IL_0022:  stloc.3
      IL_0023:  ldloc.3
      IL_0024:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0029:  stloc.s    V_4
      IL_002b:  ldloc.1
      IL_002c:  brtrue     IL_0041

      IL_0031:  ldloc.3
      IL_0032:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0037:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::DeliverContractNotSupported0$PST06000093()
      IL_003c:  br         IL_004d

      IL_0041:  ldloc.3
      IL_0042:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
      IL_0047:  ldarg.0
      IL_0048:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::MarshallDeliverContractNotSupported0$PST06000094(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_004d:  ldarg.0
      IL_004e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0053:  ldarg.0
      IL_0054:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0059:  ldc.i4.2
      IL_005a:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_005f:  br         IL_007a

      IL_0064:  ldstr      "can't send ContractNotSupported in state "
      IL_0069:  ldarg.0
      IL_006a:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::CurrentState()
      IL_006f:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0074:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0079:  throw

      IL_007a:  ret
    } // end of method Exp::SendContractNotSupported

    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       8 (0x8)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void [Io.Contracts]Microsoft.Singularity.Io.DeviceContract/Exp::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0007:  ret
    } // end of method Exp::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_0019

      IL_0006:  ldarg.1
      IL_0007:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
      IL_000c:  ldarg.0
      IL_000d:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0012:  ldarg.0
      IL_0013:  ldarg.1
      IL_0014:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_0019:  ret
    } // end of method Exp::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       45 (0x2d)
      .maxstack  5
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_002c

      IL_0006:  ldarg.1
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0025

      IL_0012:  ldarg.1
      IL_0013:  ldloc.1
      IL_0014:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceContract/Exp
      IL_0019:  ldarg.0
      IL_001a:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_001f:  ldloc.1
      IL_0020:  ldc.i4.1
      IL_0021:  add
      IL_0022:  stloc.1
      IL_0023:  br.s       IL_000b

      IL_0025:  ldarg.0
      IL_0026:  ldarg.1
      IL_0027:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_002c:  ret
    } // end of method Exp::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from) cil managed
    {
      // Code size       18 (0x12)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  ldarg.2
      IL_0003:  call       instance void [Io.Contracts]Microsoft.Singularity.Io.DeviceContract/Exp::MarshallAll(uint8*,
                                                                                                                valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0008:  ldarg.0
      IL_0009:  ldarg.1
      IL_000a:  ldarg.2
      IL_000b:  ldarg.0
      IL_000c:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::MarshallContent(uint8*,
                                                                                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                             uint8*)
      IL_0011:  ret
    } // end of method Exp::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       46 (0x2e)
      .maxstack  6
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_002d

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_002d

      IL_0012:  ldarg.3
      IL_0013:  ldloc.1
      IL_0014:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceContract/Exp
      IL_0019:  ldarg.0
      IL_001a:  ldarg.1
      IL_001b:  ldarg.3
      IL_001c:  ldc.i4.0
      IL_001d:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceContract/Exp
      IL_0022:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::MarshallContent(uint8*,
                                                                                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                             uint8*)
      IL_0027:  ldloc.1
      IL_0028:  ldc.i4.1
      IL_0029:  add
      IL_002a:  stloc.1
      IL_002b:  br.s       IL_000b

      IL_002d:  ret
    } // end of method Exp::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Exp::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [Io.Contracts]Microsoft.Singularity.Io.DeviceContract/Exp::Dispose()
      IL_0006:  ret
    } // end of method Exp::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Exp::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Exp::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Exp::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Exp::Release

    .method family instance int32  Peek() cil managed
    {
      // Code size       1220 (0x4c4)
      .maxstack  18
      .locals init (int32 V_0,
               int32 V_1,
               bool V_2,
               int32 V_3,
               int32 V_4,
               bool V_5,
               int32 V_6,
               bool V_7,
               int32 V_8,
               bool V_9,
               int32 V_10,
               bool V_11,
               int32 V_12,
               bool V_13,
               int32 V_14,
               bool V_15,
               int32 V_16,
               bool V_17,
               int32 V_18,
               bool V_19,
               int32 V_20,
               bool V_21,
               int32 V_22,
               bool V_23,
               int32 V_24,
               bool V_25,
               int32 V_26,
               bool V_27,
               int32 V_28,
               bool V_29,
               int32 V_30,
               bool V_31,
               int32 V_32,
               int32 V_33)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  stloc.1
      IL_000e:  ldloc.1
      IL_000f:  ldc.i4.4
      IL_0010:  beq        IL_0085

      IL_0015:  ldloc.1
      IL_0016:  ldc.i4.5
      IL_0017:  beq        IL_00c5

      IL_001c:  ldloc.1
      IL_001d:  ldc.i4.6
      IL_001e:  beq        IL_010d

      IL_0023:  ldloc.1
      IL_0024:  ldc.i4.7
      IL_0025:  beq        IL_0155

      IL_002a:  ldloc.1
      IL_002b:  ldc.i4.8
      IL_002c:  beq        IL_019d

      IL_0031:  ldloc.1
      IL_0032:  ldc.i4.s   9
      IL_0034:  beq        IL_01e5

      IL_0039:  ldloc.1
      IL_003a:  ldc.i4.s   10
      IL_003c:  beq        IL_022d

      IL_0041:  ldloc.1
      IL_0042:  ldc.i4.s   11
      IL_0044:  beq        IL_0275

      IL_0049:  ldloc.1
      IL_004a:  ldc.i4.s   12
      IL_004c:  beq        IL_02bd

      IL_0051:  ldloc.1
      IL_0052:  ldc.i4.s   13
      IL_0054:  beq        IL_0305

      IL_0059:  ldloc.1
      IL_005a:  ldc.i4.s   14
      IL_005c:  beq        IL_034d

      IL_0061:  ldloc.1
      IL_0062:  ldc.i4.s   15
      IL_0064:  beq        IL_0395

      IL_0069:  ldloc.1
      IL_006a:  ldc.i4.s   16
      IL_006c:  beq        IL_03dd

      IL_0071:  ldloc.1
      IL_0072:  ldc.i4.s   17
      IL_0074:  beq        IL_0425

      IL_0079:  ldloc.1
      IL_007a:  ldc.i4.3
      IL_007b:  beq        IL_046d

      IL_0080:  br         IL_04b5

      IL_0085:  ldc.i4.0
      IL_0086:  stloc.2
      IL_0087:  ldarg.0
      IL_0088:  volatile.
      IL_008a:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_008f:  stloc.3
      IL_0090:  ldloc.3
      IL_0091:  brtrue     IL_00a6

      IL_0096:  ldarg.0
      IL_0097:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_009c:  stloc.2
      IL_009d:  ldarg.0
      IL_009e:  volatile.
      IL_00a0:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_00a5:  stloc.3
      IL_00a6:  ldloc.3
      IL_00a7:  ldc.i4.0
      IL_00a8:  ceq
      IL_00aa:  brfalse    IL_00bd

      IL_00af:  ldloc.2
      IL_00b0:  brfalse    IL_00bd

      IL_00b5:  ldc.i4.m1
      IL_00b6:  stloc.s    V_4
      IL_00b8:  br         IL_04bd

      IL_00bd:  ldloc.3
      IL_00be:  stloc.s    V_4
      IL_00c0:  br         IL_04bd

      IL_00c5:  ldc.i4.0
      IL_00c6:  stloc.s    V_5
      IL_00c8:  ldarg.0
      IL_00c9:  volatile.
      IL_00cb:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_00d0:  stloc.s    V_6
      IL_00d2:  ldloc.s    V_6
      IL_00d4:  brtrue     IL_00eb

      IL_00d9:  ldarg.0
      IL_00da:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_00df:  stloc.s    V_5
      IL_00e1:  ldarg.0
      IL_00e2:  volatile.
      IL_00e4:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_00e9:  stloc.s    V_6
      IL_00eb:  ldloc.s    V_6
      IL_00ed:  ldc.i4.0
      IL_00ee:  ceq
      IL_00f0:  brfalse    IL_0104

      IL_00f5:  ldloc.s    V_5
      IL_00f7:  brfalse    IL_0104

      IL_00fc:  ldc.i4.m1
      IL_00fd:  stloc.s    V_4
      IL_00ff:  br         IL_04bd

      IL_0104:  ldloc.s    V_6
      IL_0106:  stloc.s    V_4
      IL_0108:  br         IL_04bd

      IL_010d:  ldc.i4.0
      IL_010e:  stloc.s    V_7
      IL_0110:  ldarg.0
      IL_0111:  volatile.
      IL_0113:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0118:  stloc.s    V_8
      IL_011a:  ldloc.s    V_8
      IL_011c:  brtrue     IL_0133

      IL_0121:  ldarg.0
      IL_0122:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0127:  stloc.s    V_7
      IL_0129:  ldarg.0
      IL_012a:  volatile.
      IL_012c:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0131:  stloc.s    V_8
      IL_0133:  ldloc.s    V_8
      IL_0135:  ldc.i4.0
      IL_0136:  ceq
      IL_0138:  brfalse    IL_014c

      IL_013d:  ldloc.s    V_7
      IL_013f:  brfalse    IL_014c

      IL_0144:  ldc.i4.m1
      IL_0145:  stloc.s    V_4
      IL_0147:  br         IL_04bd

      IL_014c:  ldloc.s    V_8
      IL_014e:  stloc.s    V_4
      IL_0150:  br         IL_04bd

      IL_0155:  ldc.i4.0
      IL_0156:  stloc.s    V_9
      IL_0158:  ldarg.0
      IL_0159:  volatile.
      IL_015b:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0160:  stloc.s    V_10
      IL_0162:  ldloc.s    V_10
      IL_0164:  brtrue     IL_017b

      IL_0169:  ldarg.0
      IL_016a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_016f:  stloc.s    V_9
      IL_0171:  ldarg.0
      IL_0172:  volatile.
      IL_0174:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0179:  stloc.s    V_10
      IL_017b:  ldloc.s    V_10
      IL_017d:  ldc.i4.0
      IL_017e:  ceq
      IL_0180:  brfalse    IL_0194

      IL_0185:  ldloc.s    V_9
      IL_0187:  brfalse    IL_0194

      IL_018c:  ldc.i4.m1
      IL_018d:  stloc.s    V_4
      IL_018f:  br         IL_04bd

      IL_0194:  ldloc.s    V_10
      IL_0196:  stloc.s    V_4
      IL_0198:  br         IL_04bd

      IL_019d:  ldc.i4.0
      IL_019e:  stloc.s    V_11
      IL_01a0:  ldarg.0
      IL_01a1:  volatile.
      IL_01a3:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_01a8:  stloc.s    V_12
      IL_01aa:  ldloc.s    V_12
      IL_01ac:  brtrue     IL_01c3

      IL_01b1:  ldarg.0
      IL_01b2:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_01b7:  stloc.s    V_11
      IL_01b9:  ldarg.0
      IL_01ba:  volatile.
      IL_01bc:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_01c1:  stloc.s    V_12
      IL_01c3:  ldloc.s    V_12
      IL_01c5:  ldc.i4.0
      IL_01c6:  ceq
      IL_01c8:  brfalse    IL_01dc

      IL_01cd:  ldloc.s    V_11
      IL_01cf:  brfalse    IL_01dc

      IL_01d4:  ldc.i4.m1
      IL_01d5:  stloc.s    V_4
      IL_01d7:  br         IL_04bd

      IL_01dc:  ldloc.s    V_12
      IL_01de:  stloc.s    V_4
      IL_01e0:  br         IL_04bd

      IL_01e5:  ldc.i4.0
      IL_01e6:  stloc.s    V_13
      IL_01e8:  ldarg.0
      IL_01e9:  volatile.
      IL_01eb:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_01f0:  stloc.s    V_14
      IL_01f2:  ldloc.s    V_14
      IL_01f4:  brtrue     IL_020b

      IL_01f9:  ldarg.0
      IL_01fa:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_01ff:  stloc.s    V_13
      IL_0201:  ldarg.0
      IL_0202:  volatile.
      IL_0204:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0209:  stloc.s    V_14
      IL_020b:  ldloc.s    V_14
      IL_020d:  ldc.i4.0
      IL_020e:  ceq
      IL_0210:  brfalse    IL_0224

      IL_0215:  ldloc.s    V_13
      IL_0217:  brfalse    IL_0224

      IL_021c:  ldc.i4.m1
      IL_021d:  stloc.s    V_4
      IL_021f:  br         IL_04bd

      IL_0224:  ldloc.s    V_14
      IL_0226:  stloc.s    V_4
      IL_0228:  br         IL_04bd

      IL_022d:  ldc.i4.0
      IL_022e:  stloc.s    V_15
      IL_0230:  ldarg.0
      IL_0231:  volatile.
      IL_0233:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0238:  stloc.s    V_16
      IL_023a:  ldloc.s    V_16
      IL_023c:  brtrue     IL_0253

      IL_0241:  ldarg.0
      IL_0242:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0247:  stloc.s    V_15
      IL_0249:  ldarg.0
      IL_024a:  volatile.
      IL_024c:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0251:  stloc.s    V_16
      IL_0253:  ldloc.s    V_16
      IL_0255:  ldc.i4.0
      IL_0256:  ceq
      IL_0258:  brfalse    IL_026c

      IL_025d:  ldloc.s    V_15
      IL_025f:  brfalse    IL_026c

      IL_0264:  ldc.i4.m1
      IL_0265:  stloc.s    V_4
      IL_0267:  br         IL_04bd

      IL_026c:  ldloc.s    V_16
      IL_026e:  stloc.s    V_4
      IL_0270:  br         IL_04bd

      IL_0275:  ldc.i4.0
      IL_0276:  stloc.s    V_17
      IL_0278:  ldarg.0
      IL_0279:  volatile.
      IL_027b:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0280:  stloc.s    V_18
      IL_0282:  ldloc.s    V_18
      IL_0284:  brtrue     IL_029b

      IL_0289:  ldarg.0
      IL_028a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_028f:  stloc.s    V_17
      IL_0291:  ldarg.0
      IL_0292:  volatile.
      IL_0294:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0299:  stloc.s    V_18
      IL_029b:  ldloc.s    V_18
      IL_029d:  ldc.i4.0
      IL_029e:  ceq
      IL_02a0:  brfalse    IL_02b4

      IL_02a5:  ldloc.s    V_17
      IL_02a7:  brfalse    IL_02b4

      IL_02ac:  ldc.i4.m1
      IL_02ad:  stloc.s    V_4
      IL_02af:  br         IL_04bd

      IL_02b4:  ldloc.s    V_18
      IL_02b6:  stloc.s    V_4
      IL_02b8:  br         IL_04bd

      IL_02bd:  ldc.i4.0
      IL_02be:  stloc.s    V_19
      IL_02c0:  ldarg.0
      IL_02c1:  volatile.
      IL_02c3:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_02c8:  stloc.s    V_20
      IL_02ca:  ldloc.s    V_20
      IL_02cc:  brtrue     IL_02e3

      IL_02d1:  ldarg.0
      IL_02d2:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_02d7:  stloc.s    V_19
      IL_02d9:  ldarg.0
      IL_02da:  volatile.
      IL_02dc:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_02e1:  stloc.s    V_20
      IL_02e3:  ldloc.s    V_20
      IL_02e5:  ldc.i4.0
      IL_02e6:  ceq
      IL_02e8:  brfalse    IL_02fc

      IL_02ed:  ldloc.s    V_19
      IL_02ef:  brfalse    IL_02fc

      IL_02f4:  ldc.i4.m1
      IL_02f5:  stloc.s    V_4
      IL_02f7:  br         IL_04bd

      IL_02fc:  ldloc.s    V_20
      IL_02fe:  stloc.s    V_4
      IL_0300:  br         IL_04bd

      IL_0305:  ldc.i4.0
      IL_0306:  stloc.s    V_21
      IL_0308:  ldarg.0
      IL_0309:  volatile.
      IL_030b:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0310:  stloc.s    V_22
      IL_0312:  ldloc.s    V_22
      IL_0314:  brtrue     IL_032b

      IL_0319:  ldarg.0
      IL_031a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_031f:  stloc.s    V_21
      IL_0321:  ldarg.0
      IL_0322:  volatile.
      IL_0324:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0329:  stloc.s    V_22
      IL_032b:  ldloc.s    V_22
      IL_032d:  ldc.i4.0
      IL_032e:  ceq
      IL_0330:  brfalse    IL_0344

      IL_0335:  ldloc.s    V_21
      IL_0337:  brfalse    IL_0344

      IL_033c:  ldc.i4.m1
      IL_033d:  stloc.s    V_4
      IL_033f:  br         IL_04bd

      IL_0344:  ldloc.s    V_22
      IL_0346:  stloc.s    V_4
      IL_0348:  br         IL_04bd

      IL_034d:  ldc.i4.0
      IL_034e:  stloc.s    V_23
      IL_0350:  ldarg.0
      IL_0351:  volatile.
      IL_0353:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0358:  stloc.s    V_24
      IL_035a:  ldloc.s    V_24
      IL_035c:  brtrue     IL_0373

      IL_0361:  ldarg.0
      IL_0362:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0367:  stloc.s    V_23
      IL_0369:  ldarg.0
      IL_036a:  volatile.
      IL_036c:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0371:  stloc.s    V_24
      IL_0373:  ldloc.s    V_24
      IL_0375:  ldc.i4.0
      IL_0376:  ceq
      IL_0378:  brfalse    IL_038c

      IL_037d:  ldloc.s    V_23
      IL_037f:  brfalse    IL_038c

      IL_0384:  ldc.i4.m1
      IL_0385:  stloc.s    V_4
      IL_0387:  br         IL_04bd

      IL_038c:  ldloc.s    V_24
      IL_038e:  stloc.s    V_4
      IL_0390:  br         IL_04bd

      IL_0395:  ldc.i4.0
      IL_0396:  stloc.s    V_25
      IL_0398:  ldarg.0
      IL_0399:  volatile.
      IL_039b:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_03a0:  stloc.s    V_26
      IL_03a2:  ldloc.s    V_26
      IL_03a4:  brtrue     IL_03bb

      IL_03a9:  ldarg.0
      IL_03aa:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_03af:  stloc.s    V_25
      IL_03b1:  ldarg.0
      IL_03b2:  volatile.
      IL_03b4:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_03b9:  stloc.s    V_26
      IL_03bb:  ldloc.s    V_26
      IL_03bd:  ldc.i4.0
      IL_03be:  ceq
      IL_03c0:  brfalse    IL_03d4

      IL_03c5:  ldloc.s    V_25
      IL_03c7:  brfalse    IL_03d4

      IL_03cc:  ldc.i4.m1
      IL_03cd:  stloc.s    V_4
      IL_03cf:  br         IL_04bd

      IL_03d4:  ldloc.s    V_26
      IL_03d6:  stloc.s    V_4
      IL_03d8:  br         IL_04bd

      IL_03dd:  ldc.i4.0
      IL_03de:  stloc.s    V_27
      IL_03e0:  ldarg.0
      IL_03e1:  volatile.
      IL_03e3:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_03e8:  stloc.s    V_28
      IL_03ea:  ldloc.s    V_28
      IL_03ec:  brtrue     IL_0403

      IL_03f1:  ldarg.0
      IL_03f2:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_03f7:  stloc.s    V_27
      IL_03f9:  ldarg.0
      IL_03fa:  volatile.
      IL_03fc:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0401:  stloc.s    V_28
      IL_0403:  ldloc.s    V_28
      IL_0405:  ldc.i4.0
      IL_0406:  ceq
      IL_0408:  brfalse    IL_041c

      IL_040d:  ldloc.s    V_27
      IL_040f:  brfalse    IL_041c

      IL_0414:  ldc.i4.m1
      IL_0415:  stloc.s    V_4
      IL_0417:  br         IL_04bd

      IL_041c:  ldloc.s    V_28
      IL_041e:  stloc.s    V_4
      IL_0420:  br         IL_04bd

      IL_0425:  ldc.i4.0
      IL_0426:  stloc.s    V_29
      IL_0428:  ldarg.0
      IL_0429:  volatile.
      IL_042b:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0430:  stloc.s    V_30
      IL_0432:  ldloc.s    V_30
      IL_0434:  brtrue     IL_044b

      IL_0439:  ldarg.0
      IL_043a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_043f:  stloc.s    V_29
      IL_0441:  ldarg.0
      IL_0442:  volatile.
      IL_0444:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0449:  stloc.s    V_30
      IL_044b:  ldloc.s    V_30
      IL_044d:  ldc.i4.0
      IL_044e:  ceq
      IL_0450:  brfalse    IL_0464

      IL_0455:  ldloc.s    V_29
      IL_0457:  brfalse    IL_0464

      IL_045c:  ldc.i4.m1
      IL_045d:  stloc.s    V_4
      IL_045f:  br         IL_04bd

      IL_0464:  ldloc.s    V_30
      IL_0466:  stloc.s    V_4
      IL_0468:  br         IL_04bd

      IL_046d:  ldc.i4.0
      IL_046e:  stloc.s    V_31
      IL_0470:  ldarg.0
      IL_0471:  volatile.
      IL_0473:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0478:  stloc.s    V_32
      IL_047a:  ldloc.s    V_32
      IL_047c:  brtrue     IL_0493

      IL_0481:  ldarg.0
      IL_0482:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0487:  stloc.s    V_31
      IL_0489:  ldarg.0
      IL_048a:  volatile.
      IL_048c:  ldfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0491:  stloc.s    V_32
      IL_0493:  ldloc.s    V_32
      IL_0495:  ldc.i4.0
      IL_0496:  ceq
      IL_0498:  brfalse    IL_04ac

      IL_049d:  ldloc.s    V_31
      IL_049f:  brfalse    IL_04ac

      IL_04a4:  ldc.i4.m1
      IL_04a5:  stloc.s    V_4
      IL_04a7:  br         IL_04bd

      IL_04ac:  ldloc.s    V_32
      IL_04ae:  stloc.s    V_4
      IL_04b0:  br         IL_04bd

      IL_04b5:  ldc.i4.m1
      IL_04b6:  stloc.s    V_4
      IL_04b8:  br         IL_04bd

      IL_04bd:  ldloc.s    V_4
      IL_04bf:  stloc.s    V_33
      IL_04c1:  ldloc.s    V_4
      IL_04c3:  ret
    } // end of method Exp::Peek

    .method public virtual instance bool 
            HeadMatches(int32 tag,
                        bool& possible,
                        object& elemMatch) cil managed
    {
      // Code size       102 (0x66)
      .maxstack  6
      .locals init ([0] int32 V_0,
               [1] bool V_1,
               [2] bool 'SS$Display Return Local')
      IL_0000:  ldarg.0
      IL_0001:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_Closed()
      IL_0006:  brfalse    IL_0016

      IL_000b:  ldstr      "endpoint is closed"
      IL_0010:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0015:  throw

      IL_0016:  ldarg.0
      IL_0017:  call       instance int32 Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::Peek()
      IL_001c:  stloc.0
      IL_001d:  ldloc.0
      IL_001e:  ldc.i4.0
      IL_001f:  ceq
      IL_0021:  brfalse    IL_002d

      IL_0026:  ldc.i4.0
      IL_0027:  stloc.1
      IL_0028:  br         IL_0062

      IL_002d:  ldloc.0
      IL_002e:  ldarg.1
      IL_002f:  ceq
      IL_0031:  brfalse    IL_003d

      IL_0036:  ldc.i4.1
      IL_0037:  stloc.1
      IL_0038:  br         IL_0062

      IL_003d:  ldc.i4.1
      IL_003e:  ldarg.1
      IL_003f:  ceq
      IL_0041:  brfalse    IL_0054

      IL_0046:  ldloc.0
      IL_0047:  ldc.i4.0
      IL_0048:  ble        IL_0054

      IL_004d:  ldc.i4.1
      IL_004e:  stloc.1
      IL_004f:  br         IL_0062

      IL_0054:  ldarg.2
      IL_0055:  ldc.i4.0
      IL_0056:  stobj      [kernel]System.Boolean
      IL_005b:  ldc.i4.0
      IL_005c:  stloc.1
      IL_005d:  br         IL_0062

      IL_0062:  ldloc.1
      IL_0063:  stloc.2
      IL_0064:  ldloc.1
      IL_0065:  ret
    } // end of method Exp::HeadMatches

    .method privatescope instance void  DeliverGetDeviceProperties0$PST060000B6(valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) props) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       29 (0x1d)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::GetDevicePropertiesPod0
      IL_0006:  ldarg.1
      IL_0007:  stfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::props
      IL_000c:  ldarg.0
      IL_000d:  ldc.i4.4
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0013:  ldarg.0
      IL_0014:  ldc.i4.4
      IL_0015:  volatile.
      IL_0017:  stfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_001c:  ret
    } // end of method Exp::DeliverGetDeviceProperties0

    .method privatescope instance void  MarshallDeliverGetDeviceProperties0$PST060000B7(valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) props,
                                                                                        valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       27 (0x1b)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverGetDeviceProperties0$PST060000B6(valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::GetDevicePropertiesPod0
      IL_000d:  ldarg.0
      IL_000e:  ldarg.2
      IL_000f:  ldarg.0
      IL_0010:  ldflda     int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0015:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::MarshallAll(uint8*,
                                                                                                                         valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                         int32&)
      IL_001a:  ret
    } // end of method Exp::MarshallDeliverGetDeviceProperties0

    .method privatescope instance void  DeliverConfigureIO1$PST060000B8() cil managed
    {
      // Code size       17 (0x11)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldc.i4.6
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0007:  ldarg.0
      IL_0008:  ldc.i4.6
      IL_0009:  volatile.
      IL_000b:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0010:  ret
    } // end of method Exp::DeliverConfigureIO1

    .method privatescope instance void  MarshallDeliverConfigureIO1$PST060000B9(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverConfigureIO1$PST060000B8()
      IL_0006:  ldarg.0
      IL_0007:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::ConfigureIOPod1
      IL_000c:  ldarg.0
      IL_000d:  ldarg.1
      IL_000e:  ldarg.0
      IL_000f:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0014:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO::MarshallAll(uint8*,
                                                                                                                 valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                 int32&)
      IL_0019:  ret
    } // end of method Exp::MarshallDeliverConfigureIO1

    .method privatescope instance void  DeliverConfigureIO0$PST060000BA() cil managed
    {
      // Code size       17 (0x11)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldc.i4.6
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0007:  ldarg.0
      IL_0008:  ldc.i4.6
      IL_0009:  volatile.
      IL_000b:  stfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0010:  ret
    } // end of method Exp::DeliverConfigureIO0

    .method privatescope instance void  MarshallDeliverConfigureIO0$PST060000BB(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverConfigureIO0$PST060000BA()
      IL_0006:  ldarg.0
      IL_0007:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::ConfigureIOPod0
      IL_000c:  ldarg.0
      IL_000d:  ldarg.1
      IL_000e:  ldarg.0
      IL_000f:  ldflda     int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0014:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO::MarshallAll(uint8*,
                                                                                                                 valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                 int32&)
      IL_0019:  ret
    } // end of method Exp::MarshallDeliverConfigureIO0

    .method privatescope instance void  DeliverRegisterForEvents0$PST060000BC(valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) ep) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       29 (0x1d)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::RegisterForEventsPod0
      IL_0006:  ldarg.1
      IL_0007:  stfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::ep
      IL_000c:  ldarg.0
      IL_000d:  ldc.i4.8
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0013:  ldarg.0
      IL_0014:  ldc.i4.8
      IL_0015:  volatile.
      IL_0017:  stfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_001c:  ret
    } // end of method Exp::DeliverRegisterForEvents0

    .method privatescope instance void  MarshallDeliverRegisterForEvents0$PST060000BD(valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) ep,
                                                                                      valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       27 (0x1b)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverRegisterForEvents0$PST060000BC(valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::RegisterForEventsPod0
      IL_000d:  ldarg.0
      IL_000e:  ldarg.2
      IL_000f:  ldarg.0
      IL_0010:  ldflda     int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0015:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::MarshallAll(uint8*,
                                                                                                                       valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                       int32&)
      IL_001a:  ret
    } // end of method Exp::MarshallDeliverRegisterForEvents0

    .method privatescope instance void  DeliverSetChecksumProperties1$PST060000BE(valuetype Microsoft.Singularity.Io.Net.ChecksumSupport properties) cil managed
    {
      // Code size       31 (0x1f)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::SetChecksumPropertiesPod1
      IL_0006:  ldarg.1
      IL_0007:  stfld      valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties::properties
      IL_000c:  ldarg.0
      IL_000d:  ldc.i4.s   9
      IL_000f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0014:  ldarg.0
      IL_0015:  ldc.i4.s   9
      IL_0017:  volatile.
      IL_0019:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_001e:  ret
    } // end of method Exp::DeliverSetChecksumProperties1

    .method privatescope instance void  MarshallDeliverSetChecksumProperties1$PST060000BF(valuetype Microsoft.Singularity.Io.Net.ChecksumSupport properties,
                                                                                          valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       27 (0x1b)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverSetChecksumProperties1$PST060000BE(valuetype Microsoft.Singularity.Io.Net.ChecksumSupport)
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::SetChecksumPropertiesPod1
      IL_000d:  ldarg.0
      IL_000e:  ldarg.2
      IL_000f:  ldarg.0
      IL_0010:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0015:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties::MarshallAll(uint8*,
                                                                                                                           valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                           int32&)
      IL_001a:  ret
    } // end of method Exp::MarshallDeliverSetChecksumProperties1

    .method privatescope instance void  DeliverStartIO1$PST060000C0() cil managed
    {
      // Code size       19 (0x13)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldc.i4.s   11
      IL_0003:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0008:  ldarg.0
      IL_0009:  ldc.i4.s   11
      IL_000b:  volatile.
      IL_000d:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0012:  ret
    } // end of method Exp::DeliverStartIO1

    .method privatescope instance void  MarshallDeliverStartIO1$PST060000C1(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverStartIO1$PST060000C0()
      IL_0006:  ldarg.0
      IL_0007:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StartIO Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::StartIOPod1
      IL_000c:  ldarg.0
      IL_000d:  ldarg.1
      IL_000e:  ldarg.0
      IL_000f:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::TagPod1
      IL_0014:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/StartIO::MarshallAll(uint8*,
                                                                                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                             int32&)
      IL_0019:  ret
    } // end of method Exp::MarshallDeliverStartIO1

    .method privatescope instance void  DeliverGiveTxPacketsToDevice0$PST060000C2(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetFifo) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       31 (0x1f)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::GiveTxPacketsToDevicePod0
      IL_0006:  ldarg.1
      IL_0007:  stfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::packetFifo
      IL_000c:  ldarg.0
      IL_000d:  ldc.i4.s   13
      IL_000f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0014:  ldarg.0
      IL_0015:  ldc.i4.s   13
      IL_0017:  volatile.
      IL_0019:  stfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_001e:  ret
    } // end of method Exp::DeliverGiveTxPacketsToDevice0

    .method privatescope instance void  MarshallDeliverGiveTxPacketsToDevice0$PST060000C3(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetFifo,
                                                                                          valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       27 (0x1b)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverGiveTxPacketsToDevice0$PST060000C2(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::GiveTxPacketsToDevicePod0
      IL_000d:  ldarg.0
      IL_000e:  ldarg.2
      IL_000f:  ldarg.0
      IL_0010:  ldflda     int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0015:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::MarshallAll(uint8*,
                                                                                                                           valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                           int32&)
      IL_001a:  ret
    } // end of method Exp::MarshallDeliverGiveTxPacketsToDevice0

    .method privatescope instance void  DeliverGiveRxPacketsToDevice0$PST060000C4(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetFifo) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       31 (0x1f)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::GiveRxPacketsToDevicePod0
      IL_0006:  ldarg.1
      IL_0007:  stfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::packetFifo
      IL_000c:  ldarg.0
      IL_000d:  ldc.i4.s   15
      IL_000f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0014:  ldarg.0
      IL_0015:  ldc.i4.s   15
      IL_0017:  volatile.
      IL_0019:  stfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_001e:  ret
    } // end of method Exp::DeliverGiveRxPacketsToDevice0

    .method privatescope instance void  MarshallDeliverGiveRxPacketsToDevice0$PST060000C5(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetFifo,
                                                                                          valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      .param [1]
      .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       27 (0x1b)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverGiveRxPacketsToDevice0$PST060000C4(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::GiveRxPacketsToDevicePod0
      IL_000d:  ldarg.0
      IL_000e:  ldarg.2
      IL_000f:  ldarg.0
      IL_0010:  ldflda     int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0015:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::MarshallAll(uint8*,
                                                                                                                           valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                           int32&)
      IL_001a:  ret
    } // end of method Exp::MarshallDeliverGiveRxPacketsToDevice0

    .method privatescope instance void  DeliverStopIO0$PST060000C6() cil managed
    {
      // Code size       19 (0x13)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldc.i4.s   17
      IL_0003:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0008:  ldarg.0
      IL_0009:  ldc.i4.s   17
      IL_000b:  volatile.
      IL_000d:  stfld      int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0012:  ret
    } // end of method Exp::DeliverStopIO0

    .method privatescope instance void  MarshallDeliverStopIO0$PST060000C7(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::DeliverStopIO0$PST060000C6()
      IL_0006:  ldarg.0
      IL_0007:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StopIO Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::StopIOPod0
      IL_000c:  ldarg.0
      IL_000d:  ldarg.1
      IL_000e:  ldarg.0
      IL_000f:  ldflda     int32 [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Exp::TagPod0
      IL_0014:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/StopIO::MarshallAll(uint8*,
                                                                                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                            int32&)
      IL_0019:  ret
    } // end of method Exp::MarshallDeliverStopIO0

  } // end of class Exp

  .class sequential ansi sealed nested public specialname Success
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .pack 0
    .size 1
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 01 00 00 00 00 00 ) 
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Success* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method Success::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Success* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method Success::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/Success
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Success::MarshallContent(uint8*,
                                                                                                                 valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                 uint8*,
                                                                                                                 int32&)
      IL_001d:  ret
    } // end of method Success::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Success* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method Success::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::Release

  } // end of class Success

  .class sequential ansi sealed nested public specialname GetDeviceProperties
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 00 00 00 00 00 00 ) 
    .field public valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) props
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       13 (0xd)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  ldarg.0
      IL_0002:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::props
      IL_0007:  call       void Microsoft.Singularity.Io.Net.NicDeviceProperties::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                    valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000c:  ret
    } // end of method GetDeviceProperties::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method GetDeviceProperties::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method GetDeviceProperties::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::MarshallContent(uint8*,
                                                                                                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                             uint8*,
                                                                                                                             int32&)
      IL_001d:  ret
    } // end of method GetDeviceProperties::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init ([0] int32 V_0,
               [1] int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method GetDeviceProperties::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       82 (0x52)
      .maxstack  9
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::props
      IL_0006:  brfalse    IL_0051

      IL_000b:  ldarg.0
      IL_000c:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::props
      IL_0011:  stloc.0
      IL_0012:  ldarg.2
      IL_0013:  ldarg.1
      IL_0014:  ldarg.0
      IL_0015:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::props
      IL_001a:  ldtoken    valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)
      IL_001f:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_0024:  ldarg.3
      IL_0025:  ldarg.0
      IL_0026:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::props
      IL_002b:  conv.i
      IL_002c:  ldarg.3
      IL_002d:  conv.i
      IL_002e:  sub
      IL_002f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8*,
                                                                                                                               int32)
      IL_0034:  ldarg.0
      IL_0035:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::props
      IL_003a:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties&
      IL_003f:  ldarg.1
      IL_0040:  ldarg.2
      IL_0041:  ldarg.0
      IL_0042:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::props
      IL_0047:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties&
      IL_004c:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceProperties::MarshallContent(uint8*,
                                                                                                           valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                           uint8*)
      IL_0051:  ret
    } // end of method GetDeviceProperties::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       38 (0x26)
      .maxstack  4
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::props
      IL_0006:  stloc.0
      IL_0007:  ldloc.0
      IL_0008:  brfalse    IL_0025

      IL_000d:  ldloc.0
      IL_000e:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties&
      IL_0013:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceProperties::Dispose()
      IL_0018:  ldloc.0
      IL_0019:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_001e:  ldarg.0
      IL_001f:  ldnull
      IL_0020:  stfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties::props
      IL_0025:  ret
    } // end of method GetDeviceProperties::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method GetDeviceProperties::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method GetDeviceProperties::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method GetDeviceProperties::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method GetDeviceProperties::Release

  } // end of class GetDeviceProperties

  .class sequential ansi sealed nested public specialname DeviceProperties
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 01 00 00 00 00 00 ) 
    .field public valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) props
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       13 (0xd)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  ldarg.0
      IL_0002:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::props
      IL_0007:  call       void Microsoft.Singularity.Io.Net.NicDeviceProperties::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                    valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000c:  ret
    } // end of method DeviceProperties::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method DeviceProperties::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method DeviceProperties::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::MarshallContent(uint8*,
                                                                                                                          valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                          uint8*,
                                                                                                                          int32&)
      IL_001d:  ret
    } // end of method DeviceProperties::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init ([0] int32 V_0,
               [1] int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method DeviceProperties::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       82 (0x52)
      .maxstack  9
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::props
      IL_0006:  brfalse    IL_0051

      IL_000b:  ldarg.0
      IL_000c:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::props
      IL_0011:  stloc.0
      IL_0012:  ldarg.2
      IL_0013:  ldarg.1
      IL_0014:  ldarg.0
      IL_0015:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::props
      IL_001a:  ldtoken    valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)
      IL_001f:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_0024:  ldarg.3
      IL_0025:  ldarg.0
      IL_0026:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::props
      IL_002b:  conv.i
      IL_002c:  ldarg.3
      IL_002d:  conv.i
      IL_002e:  sub
      IL_002f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8*,
                                                                                                                               int32)
      IL_0034:  ldarg.0
      IL_0035:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::props
      IL_003a:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties&
      IL_003f:  ldarg.1
      IL_0040:  ldarg.2
      IL_0041:  ldarg.0
      IL_0042:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::props
      IL_0047:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties&
      IL_004c:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceProperties::MarshallContent(uint8*,
                                                                                                           valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                           uint8*)
      IL_0051:  ret
    } // end of method DeviceProperties::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       38 (0x26)
      .maxstack  4
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::props
      IL_0006:  stloc.0
      IL_0007:  ldloc.0
      IL_0008:  brfalse    IL_0025

      IL_000d:  ldloc.0
      IL_000e:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties&
      IL_0013:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceProperties::Dispose()
      IL_0018:  ldloc.0
      IL_0019:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_001e:  ldarg.0
      IL_001f:  ldnull
      IL_0020:  stfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties::props
      IL_0025:  ret
    } // end of method DeviceProperties::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method DeviceProperties::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method DeviceProperties::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method DeviceProperties::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method DeviceProperties::Release

  } // end of class DeviceProperties

  .class sequential ansi sealed nested public specialname ConfigureIO
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .pack 0
    .size 1
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 00 00 00 00 00 00 ) 
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method ConfigureIO::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method ConfigureIO::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method ConfigureIO::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO::MarshallContent(uint8*,
                                                                                                                     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                     uint8*,
                                                                                                                     int32&)
      IL_001d:  ret
    } // end of method ConfigureIO::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method ConfigureIO::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method ConfigureIO::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method ConfigureIO::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method ConfigureIO::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method ConfigureIO::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method ConfigureIO::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method ConfigureIO::Release

  } // end of class ConfigureIO

  .class sequential ansi sealed nested public specialname AckConfigureIO
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .pack 0
    .size 1
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 01 00 00 00 00 00 ) 
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckConfigureIO::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckConfigureIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method AckConfigureIO::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckConfigureIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method AckConfigureIO::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/AckConfigureIO
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/AckConfigureIO::MarshallContent(uint8*,
                                                                                                                        valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                        uint8*,
                                                                                                                        int32&)
      IL_001d:  ret
    } // end of method AckConfigureIO::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckConfigureIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method AckConfigureIO::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckConfigureIO::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckConfigureIO::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckConfigureIO::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckConfigureIO::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckConfigureIO::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckConfigureIO::Release

  } // end of class AckConfigureIO

  .class sequential ansi sealed nested public specialname RegisterForEvents
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 00 00 00 00 00 00 ) 
    .field public valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) ep
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       13 (0xd)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  ldarg.0
      IL_0002:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::ep
      IL_0007:  call       void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                           valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000c:  ret
    } // end of method RegisterForEvents::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method RegisterForEvents::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method RegisterForEvents::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::MarshallContent(uint8*,
                                                                                                                           valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                           uint8*,
                                                                                                                           int32&)
      IL_001d:  ret
    } // end of method RegisterForEvents::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init ([0] int32 V_0,
               [1] int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method RegisterForEvents::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       82 (0x52)
      .maxstack  9
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::ep
      IL_0006:  brfalse    IL_0051

      IL_000b:  ldarg.0
      IL_000c:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::ep
      IL_0011:  stloc.0
      IL_0012:  ldarg.2
      IL_0013:  ldarg.1
      IL_0014:  ldarg.0
      IL_0015:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::ep
      IL_001a:  ldtoken    valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY)
      IL_001f:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_0024:  ldarg.3
      IL_0025:  ldarg.0
      IL_0026:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::ep
      IL_002b:  conv.i
      IL_002c:  ldarg.3
      IL_002d:  conv.i
      IL_002e:  sub
      IL_002f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8*,
                                                                                                                               int32)
      IL_0034:  ldarg.0
      IL_0035:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::ep
      IL_003a:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp&
      IL_003f:  ldarg.1
      IL_0040:  ldarg.2
      IL_0041:  ldarg.0
      IL_0042:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::ep
      IL_0047:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp&
      IL_004c:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::MarshallContent(uint8*,
                                                                                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                  uint8*)
      IL_0051:  ret
    } // end of method RegisterForEvents::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       38 (0x26)
      .maxstack  4
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::ep
      IL_0006:  stloc.0
      IL_0007:  ldloc.0
      IL_0008:  brfalse    IL_0025

      IL_000d:  ldloc.0
      IL_000e:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp&
      IL_0013:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::Dispose()
      IL_0018:  ldloc.0
      IL_0019:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_001e:  ldarg.0
      IL_001f:  ldnull
      IL_0020:  stfld      valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt(Microsoft.Singularity.Io.Net.NicDeviceEventContract/READY) Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents::ep
      IL_0025:  ret
    } // end of method RegisterForEvents::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method RegisterForEvents::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method RegisterForEvents::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method RegisterForEvents::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method RegisterForEvents::Release

  } // end of class RegisterForEvents

  .class sequential ansi sealed nested public specialname SetChecksumProperties
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 00 00 00 00 00 00 ) 
    .field public valuetype Microsoft.Singularity.Io.Net.ChecksumSupport properties
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method SetChecksumProperties::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method SetChecksumProperties::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method SetChecksumProperties::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties::MarshallContent(uint8*,
                                                                                                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                               uint8*,
                                                                                                                               int32&)
      IL_001d:  ret
    } // end of method SetChecksumProperties::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method SetChecksumProperties::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method SetChecksumProperties::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method SetChecksumProperties::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method SetChecksumProperties::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method SetChecksumProperties::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method SetChecksumProperties::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method SetChecksumProperties::Release

  } // end of class SetChecksumProperties

  .class sequential ansi sealed nested public specialname UnsupportedChecksumProperties
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .pack 0
    .size 1
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 01 00 00 00 00 00 ) 
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method UnsupportedChecksumProperties::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/UnsupportedChecksumProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method UnsupportedChecksumProperties::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/UnsupportedChecksumProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method UnsupportedChecksumProperties::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/UnsupportedChecksumProperties
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/UnsupportedChecksumProperties::MarshallContent(uint8*,
                                                                                                                                       valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                                       uint8*,
                                                                                                                                       int32&)
      IL_001d:  ret
    } // end of method UnsupportedChecksumProperties::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/UnsupportedChecksumProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method UnsupportedChecksumProperties::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method UnsupportedChecksumProperties::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method UnsupportedChecksumProperties::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method UnsupportedChecksumProperties::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method UnsupportedChecksumProperties::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method UnsupportedChecksumProperties::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method UnsupportedChecksumProperties::Release

  } // end of class UnsupportedChecksumProperties

  .class sequential ansi sealed nested public specialname StartIO
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .pack 0
    .size 1
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 00 00 00 00 00 00 ) 
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StartIO::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StartIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method StartIO::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StartIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method StartIO::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/StartIO
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/StartIO::MarshallContent(uint8*,
                                                                                                                 valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                 uint8*,
                                                                                                                 int32&)
      IL_001d:  ret
    } // end of method StartIO::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StartIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method StartIO::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StartIO::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StartIO::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StartIO::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StartIO::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StartIO::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StartIO::Release

  } // end of class StartIO

  .class sequential ansi sealed nested public specialname AckStartIO
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .pack 0
    .size 1
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 01 00 00 00 00 00 ) 
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStartIO::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStartIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method AckStartIO::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStartIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method AckStartIO::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/AckStartIO
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/AckStartIO::MarshallContent(uint8*,
                                                                                                                    valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                    uint8*,
                                                                                                                    int32&)
      IL_001d:  ret
    } // end of method AckStartIO::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStartIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method AckStartIO::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStartIO::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStartIO::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStartIO::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStartIO::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStartIO::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStartIO::Release

  } // end of class AckStartIO

  .class sequential ansi sealed nested public specialname GiveTxPacketsToDevice
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 00 00 00 00 00 00 ) 
    .field public valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) packetFifo
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       13 (0xd)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  ldarg.0
      IL_0002:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::packetFifo
      IL_0007:  call       void Microsoft.Singularity.Io.Net.PacketFifo::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                           valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000c:  ret
    } // end of method GiveTxPacketsToDevice::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method GiveTxPacketsToDevice::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method GiveTxPacketsToDevice::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::MarshallContent(uint8*,
                                                                                                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                               uint8*,
                                                                                                                               int32&)
      IL_001d:  ret
    } // end of method GiveTxPacketsToDevice::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init ([0] int32 V_0,
               [1] int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method GiveTxPacketsToDevice::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       82 (0x52)
      .maxstack  9
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::packetFifo
      IL_0006:  brfalse    IL_0051

      IL_000b:  ldarg.0
      IL_000c:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::packetFifo
      IL_0011:  stloc.0
      IL_0012:  ldarg.2
      IL_0013:  ldarg.1
      IL_0014:  ldarg.0
      IL_0015:  ldflda     valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::packetFifo
      IL_001a:  ldtoken    valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)
      IL_001f:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_0024:  ldarg.3
      IL_0025:  ldarg.0
      IL_0026:  ldflda     valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::packetFifo
      IL_002b:  conv.i
      IL_002c:  ldarg.3
      IL_002d:  conv.i
      IL_002e:  sub
      IL_002f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8*,
                                                                                                                               int32)
      IL_0034:  ldarg.0
      IL_0035:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::packetFifo
      IL_003a:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_003f:  ldarg.1
      IL_0040:  ldarg.2
      IL_0041:  ldarg.0
      IL_0042:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::packetFifo
      IL_0047:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_004c:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::MarshallContent(uint8*,
                                                                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                  uint8*)
      IL_0051:  ret
    } // end of method GiveTxPacketsToDevice::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       38 (0x26)
      .maxstack  4
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::packetFifo
      IL_0006:  stloc.0
      IL_0007:  ldloc.0
      IL_0008:  brfalse    IL_0025

      IL_000d:  ldloc.0
      IL_000e:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_0013:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::Dispose()
      IL_0018:  ldloc.0
      IL_0019:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_001e:  ldarg.0
      IL_001f:  ldnull
      IL_0020:  stfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice::packetFifo
      IL_0025:  ret
    } // end of method GiveTxPacketsToDevice::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method GiveTxPacketsToDevice::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method GiveTxPacketsToDevice::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method GiveTxPacketsToDevice::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method GiveTxPacketsToDevice::Release

  } // end of class GiveTxPacketsToDevice

  .class sequential ansi sealed nested public specialname TakeTxPacketsFromDevice
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 01 00 00 00 00 00 ) 
    .field public valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) packetFifo
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       13 (0xd)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  ldarg.0
      IL_0002:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::packetFifo
      IL_0007:  call       void Microsoft.Singularity.Io.Net.PacketFifo::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                           valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000c:  ret
    } // end of method TakeTxPacketsFromDevice::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method TakeTxPacketsFromDevice::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method TakeTxPacketsFromDevice::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::MarshallContent(uint8*,
                                                                                                                                 valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                                 uint8*,
                                                                                                                                 int32&)
      IL_001d:  ret
    } // end of method TakeTxPacketsFromDevice::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init ([0] int32 V_0,
               [1] int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method TakeTxPacketsFromDevice::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       82 (0x52)
      .maxstack  9
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::packetFifo
      IL_0006:  brfalse    IL_0051

      IL_000b:  ldarg.0
      IL_000c:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::packetFifo
      IL_0011:  stloc.0
      IL_0012:  ldarg.2
      IL_0013:  ldarg.1
      IL_0014:  ldarg.0
      IL_0015:  ldflda     valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::packetFifo
      IL_001a:  ldtoken    valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)
      IL_001f:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_0024:  ldarg.3
      IL_0025:  ldarg.0
      IL_0026:  ldflda     valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::packetFifo
      IL_002b:  conv.i
      IL_002c:  ldarg.3
      IL_002d:  conv.i
      IL_002e:  sub
      IL_002f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8*,
                                                                                                                               int32)
      IL_0034:  ldarg.0
      IL_0035:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::packetFifo
      IL_003a:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_003f:  ldarg.1
      IL_0040:  ldarg.2
      IL_0041:  ldarg.0
      IL_0042:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::packetFifo
      IL_0047:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_004c:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::MarshallContent(uint8*,
                                                                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                  uint8*)
      IL_0051:  ret
    } // end of method TakeTxPacketsFromDevice::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       38 (0x26)
      .maxstack  4
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::packetFifo
      IL_0006:  stloc.0
      IL_0007:  ldloc.0
      IL_0008:  brfalse    IL_0025

      IL_000d:  ldloc.0
      IL_000e:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_0013:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::Dispose()
      IL_0018:  ldloc.0
      IL_0019:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_001e:  ldarg.0
      IL_001f:  ldnull
      IL_0020:  stfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice::packetFifo
      IL_0025:  ret
    } // end of method TakeTxPacketsFromDevice::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method TakeTxPacketsFromDevice::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method TakeTxPacketsFromDevice::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method TakeTxPacketsFromDevice::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method TakeTxPacketsFromDevice::Release

  } // end of class TakeTxPacketsFromDevice

  .class sequential ansi sealed nested public specialname GiveRxPacketsToDevice
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 00 00 00 00 00 00 ) 
    .field public valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) packetFifo
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       13 (0xd)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  ldarg.0
      IL_0002:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::packetFifo
      IL_0007:  call       void Microsoft.Singularity.Io.Net.PacketFifo::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                           valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000c:  ret
    } // end of method GiveRxPacketsToDevice::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method GiveRxPacketsToDevice::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method GiveRxPacketsToDevice::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::MarshallContent(uint8*,
                                                                                                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                               uint8*,
                                                                                                                               int32&)
      IL_001d:  ret
    } // end of method GiveRxPacketsToDevice::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init ([0] int32 V_0,
               [1] int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method GiveRxPacketsToDevice::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       82 (0x52)
      .maxstack  9
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::packetFifo
      IL_0006:  brfalse    IL_0051

      IL_000b:  ldarg.0
      IL_000c:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::packetFifo
      IL_0011:  stloc.0
      IL_0012:  ldarg.2
      IL_0013:  ldarg.1
      IL_0014:  ldarg.0
      IL_0015:  ldflda     valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::packetFifo
      IL_001a:  ldtoken    valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)
      IL_001f:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_0024:  ldarg.3
      IL_0025:  ldarg.0
      IL_0026:  ldflda     valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::packetFifo
      IL_002b:  conv.i
      IL_002c:  ldarg.3
      IL_002d:  conv.i
      IL_002e:  sub
      IL_002f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8*,
                                                                                                                               int32)
      IL_0034:  ldarg.0
      IL_0035:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::packetFifo
      IL_003a:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_003f:  ldarg.1
      IL_0040:  ldarg.2
      IL_0041:  ldarg.0
      IL_0042:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::packetFifo
      IL_0047:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_004c:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::MarshallContent(uint8*,
                                                                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                  uint8*)
      IL_0051:  ret
    } // end of method GiveRxPacketsToDevice::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       38 (0x26)
      .maxstack  4
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::packetFifo
      IL_0006:  stloc.0
      IL_0007:  ldloc.0
      IL_0008:  brfalse    IL_0025

      IL_000d:  ldloc.0
      IL_000e:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_0013:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::Dispose()
      IL_0018:  ldloc.0
      IL_0019:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_001e:  ldarg.0
      IL_001f:  ldnull
      IL_0020:  stfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice::packetFifo
      IL_0025:  ret
    } // end of method GiveRxPacketsToDevice::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method GiveRxPacketsToDevice::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method GiveRxPacketsToDevice::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method GiveRxPacketsToDevice::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method GiveRxPacketsToDevice::Release

  } // end of class GiveRxPacketsToDevice

  .class sequential ansi sealed nested public specialname TakeRxPacketsFromDevice
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 01 00 00 00 00 00 ) 
    .field public valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) packetFifo
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       13 (0xd)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  ldarg.0
      IL_0002:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::packetFifo
      IL_0007:  call       void Microsoft.Singularity.Io.Net.PacketFifo::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                           valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000c:  ret
    } // end of method TakeRxPacketsFromDevice::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method TakeRxPacketsFromDevice::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method TakeRxPacketsFromDevice::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::MarshallContent(uint8*,
                                                                                                                                 valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                                 uint8*,
                                                                                                                                 int32&)
      IL_001d:  ret
    } // end of method TakeRxPacketsFromDevice::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init ([0] int32 V_0,
               [1] int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method TakeRxPacketsFromDevice::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       82 (0x52)
      .maxstack  9
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::packetFifo
      IL_0006:  brfalse    IL_0051

      IL_000b:  ldarg.0
      IL_000c:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::packetFifo
      IL_0011:  stloc.0
      IL_0012:  ldarg.2
      IL_0013:  ldarg.1
      IL_0014:  ldarg.0
      IL_0015:  ldflda     valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::packetFifo
      IL_001a:  ldtoken    valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)
      IL_001f:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_0024:  ldarg.3
      IL_0025:  ldarg.0
      IL_0026:  ldflda     valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::packetFifo
      IL_002b:  conv.i
      IL_002c:  ldarg.3
      IL_002d:  conv.i
      IL_002e:  sub
      IL_002f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8*,
                                                                                                                               int32)
      IL_0034:  ldarg.0
      IL_0035:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::packetFifo
      IL_003a:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_003f:  ldarg.1
      IL_0040:  ldarg.2
      IL_0041:  ldarg.0
      IL_0042:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::packetFifo
      IL_0047:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_004c:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::MarshallContent(uint8*,
                                                                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                  uint8*)
      IL_0051:  ret
    } // end of method TakeRxPacketsFromDevice::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       38 (0x26)
      .maxstack  4
      .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0)
      IL_0000:  ldarg.0
      IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::packetFifo
      IL_0006:  stloc.0
      IL_0007:  ldloc.0
      IL_0008:  brfalse    IL_0025

      IL_000d:  ldloc.0
      IL_000e:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_0013:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::Dispose()
      IL_0018:  ldloc.0
      IL_0019:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_001e:  ldarg.0
      IL_001f:  ldnull
      IL_0020:  stfld      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice::packetFifo
      IL_0025:  ret
    } // end of method TakeRxPacketsFromDevice::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method TakeRxPacketsFromDevice::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method TakeRxPacketsFromDevice::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method TakeRxPacketsFromDevice::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method TakeRxPacketsFromDevice::Release

  } // end of class TakeRxPacketsFromDevice

  .class sequential ansi sealed nested public specialname StopIO
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .pack 0
    .size 1
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 00 00 00 00 00 00 ) 
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StopIO::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StopIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method StopIO::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StopIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method StopIO::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/StopIO
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/StopIO::MarshallContent(uint8*,
                                                                                                                valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                uint8*,
                                                                                                                int32&)
      IL_001d:  ret
    } // end of method StopIO::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StopIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method StopIO::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StopIO::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StopIO::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StopIO::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StopIO::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StopIO::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method StopIO::Release

  } // end of class StopIO

  .class sequential ansi sealed nested public specialname AckStopIO
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .pack 0
    .size 1
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 01 00 00 00 00 00 ) 
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStopIO::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStopIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method AckStopIO::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStopIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method AckStopIO::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/AckStopIO
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/AckStopIO::MarshallContent(uint8*,
                                                                                                                   valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                   uint8*,
                                                                                                                   int32&)
      IL_001d:  ret
    } // end of method AckStopIO::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStopIO* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method AckStopIO::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStopIO::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStopIO::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStopIO::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStopIO::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStopIO::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckStopIO::Release

  } // end of class AckStopIO

  .class abstract auto ansi nested public specialname Start
         extends [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Start
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x00000003)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/READY 
            Send(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Success msg) cil managed
    {
    } // end of method Start::Send

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [Directory.Contracts]Microsoft.Singularity.Directory.ServiceContract/Start::.ctor()
      IL_0006:  ret
    } // end of method Start::.ctor

  } // end of class Start

  .class abstract auto ansi nested public specialname READY
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x00000011)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/READY$0 
            Recv(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GetDeviceProperties msg) cil managed
    {
    } // end of method READY::Recv

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method READY::.ctor

  } // end of class READY

  .class abstract auto ansi nested public specialname READY$0
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x00000010)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/READY$1 
            Send(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/DeviceProperties msg) cil managed
    {
    } // end of method READY$0::Send

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method READY$0::.ctor

  } // end of class READY$0

  .class abstract auto ansi nested public specialname READY$1
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x0000000F)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/READY$2 
            Recv(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO msg) cil managed
    {
    } // end of method READY$1::Recv

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method READY$1::.ctor

  } // end of class READY$1

  .class abstract auto ansi nested public specialname READY$2
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x0000000E)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_CONFIGURE_BEGIN 
            Send(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckConfigureIO msg) cil managed
    {
    } // end of method READY$2::Send

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method READY$2::.ctor

  } // end of class READY$2

  .class abstract auto ansi nested public specialname IO_CONFIGURE_BEGIN
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x0000000D)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_CONFIGURE_0 
            Recv(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/RegisterForEvents msg) cil managed
    {
    } // end of method IO_CONFIGURE_BEGIN::Recv

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method IO_CONFIGURE_BEGIN::.ctor

  } // end of class IO_CONFIGURE_BEGIN

  .class abstract auto ansi nested public specialname IO_CONFIGURE_0
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x0000000C)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_CONFIGURE_1 
            Send(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Success msg) cil managed
    {
    } // end of method IO_CONFIGURE_0::Send

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method IO_CONFIGURE_0::.ctor

  } // end of class IO_CONFIGURE_0

  .class abstract auto ansi nested public specialname IO_CONFIGURE_1
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x0000000B)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_CONFIGURE_2 
            Recv(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/SetChecksumProperties msg) cil managed
    {
    } // end of method IO_CONFIGURE_1::Recv

    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_CONFIGURE_BEGIN 
            Recv(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO msg) cil managed
    {
    } // end of method IO_CONFIGURE_1::Recv

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method IO_CONFIGURE_1::.ctor

  } // end of class IO_CONFIGURE_1

  .class abstract auto ansi nested public specialname IO_CONFIGURE_2
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x0000000A)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_CONFIGURE_BEGIN 
            Send(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/UnsupportedChecksumProperties msg) cil managed
    {
    } // end of method IO_CONFIGURE_2::Send

    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_CONFIGURED 
            Send(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Success msg) cil managed
    {
    } // end of method IO_CONFIGURE_2::Send

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method IO_CONFIGURE_2::.ctor

  } // end of class IO_CONFIGURE_2

  .class abstract auto ansi nested public specialname IO_CONFIGURED
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x00000009)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_CONFIGURE_BEGIN 
            Recv(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/ConfigureIO msg) cil managed
    {
    } // end of method IO_CONFIGURED::Recv

    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_CONFIGURED$3 
            Recv(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StartIO msg) cil managed
    {
    } // end of method IO_CONFIGURED::Recv

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method IO_CONFIGURED::.ctor

  } // end of class IO_CONFIGURED

  .class abstract auto ansi nested public specialname IO_CONFIGURED$3
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x00000008)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_RUNNING 
            Send(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStartIO msg) cil managed
    {
    } // end of method IO_CONFIGURED$3::Send

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method IO_CONFIGURED$3::.ctor

  } // end of class IO_CONFIGURED$3

  .class abstract auto ansi nested public specialname IO_RUNNING
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x00000007)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_RUNNING$4 
            Recv(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveTxPacketsToDevice msg) cil managed
    {
    } // end of method IO_RUNNING::Recv

    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_RUNNING$5 
            Recv(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/GiveRxPacketsToDevice msg) cil managed
    {
    } // end of method IO_RUNNING::Recv

    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_RUNNING$6 
            Recv(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/StopIO msg) cil managed
    {
    } // end of method IO_RUNNING::Recv

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method IO_RUNNING::.ctor

  } // end of class IO_RUNNING

  .class abstract auto ansi nested public specialname IO_RUNNING$4
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x00000006)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_RUNNING 
            Send(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeTxPacketsFromDevice msg) cil managed
    {
    } // end of method IO_RUNNING$4::Send

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method IO_RUNNING$4::.ctor

  } // end of class IO_RUNNING$4

  .class abstract auto ansi nested public specialname IO_RUNNING$5
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x00000005)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_RUNNING 
            Send(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/TakeRxPacketsFromDevice msg) cil managed
    {
    } // end of method IO_RUNNING$5::Send

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method IO_RUNNING$5::.ctor

  } // end of class IO_RUNNING$5

  .class abstract auto ansi nested public specialname IO_RUNNING$6
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x00000004)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceContract/IO_CONFIGURED 
            Send(valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/AckStopIO msg) cil managed
    {
    } // end of method IO_RUNNING$6::Send

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method IO_RUNNING$6::.ctor

  } // end of class IO_RUNNING$6

  .method public static void  NewChannel([out] valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& imp,
                                         [out] valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& exp) cil managed
  {
    // Code size       72 (0x48)
    .maxstack  7
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_1)
    IL_0000:  ldarg.1
    IL_0001:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/Exp
    IL_0006:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_000b:  call       void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ChannelHeap::Allocate(class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_0010:  stloc.0
    IL_0011:  ldloc.0
    IL_0012:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
    IL_0017:  ldc.i4.3
    IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::.ctor(int32)
    IL_001d:  ldloc.0
    IL_001e:  stind.i
    IL_001f:  ldarg.0
    IL_0020:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/Imp
    IL_0025:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_002a:  call       void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ChannelHeap::Allocate(class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_002f:  stloc.1
    IL_0030:  ldloc.1
    IL_0031:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
    IL_0036:  ldc.i4.3
    IL_0037:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::'.ctor$PST06000062'(int32)
    IL_003c:  ldloc.1
    IL_003d:  stind.i
    IL_003e:  ldarg.1
    IL_003f:  ldind.i
    IL_0040:  ldarg.0
    IL_0041:  ldind.i
    IL_0042:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Connect(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_0047:  ret
  } // end of method NicDeviceContract::NewChannel

  .method public static void  NewChannel([out] valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& imp,
                                         [out] valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& exp,
                                         int32 initialState) cil managed
  {
    // Code size       72 (0x48)
    .maxstack  7
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_1)
    IL_0000:  ldarg.1
    IL_0001:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/Exp
    IL_0006:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_000b:  call       void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ChannelHeap::Allocate(class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_0010:  stloc.0
    IL_0011:  ldloc.0
    IL_0012:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Exp&
    IL_0017:  ldarg.2
    IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Exp::.ctor(int32)
    IL_001d:  ldloc.0
    IL_001e:  stind.i
    IL_001f:  ldarg.0
    IL_0020:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceContract/Imp
    IL_0025:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_002a:  call       void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ChannelHeap::Allocate(class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_002f:  stloc.1
    IL_0030:  ldloc.1
    IL_0031:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceContract/Imp&
    IL_0036:  ldarg.2
    IL_0037:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceContract/Imp::'.ctor$PST06000062'(int32)
    IL_003c:  ldloc.1
    IL_003d:  stind.i
    IL_003e:  ldarg.0
    IL_003f:  ldind.i
    IL_0040:  ldarg.1
    IL_0041:  ldind.i
    IL_0042:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Connect(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_0047:  ret
  } // end of method NicDeviceContract::NewChannel

  .method family hidebysig specialname rtspecialname 
          instance void  .ctor() cil managed
  {
    // Code size       7 (0x7)
    .maxstack  8
    IL_0000:  ldarg.0
    IL_0001:  call       instance void [Io.Contracts]Microsoft.Singularity.Io.DeviceContract::.ctor()
    IL_0006:  ret
  } // end of method NicDeviceContract::.ctor

  .method privatescope static int32  StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack& stateStack) cil managed
  {
    // Code size       51 (0x33)
    .maxstack  6
    .locals init ([0] int32 V_0,
             [1] int32 V_1,
             [2] int32 V_2,
             [3] int32 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  call       instance int32 [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Top()
    IL_0006:  stloc.0
    IL_0007:  ldloc.0
    IL_0008:  stloc.1
    IL_0009:  ldloc.1
    IL_000a:  ldc.i4.2
    IL_000b:  beq        IL_0015

    IL_0010:  br         IL_0028

    IL_0015:  ldarg.0
    IL_0016:  ldc.i4.1
    IL_0017:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
    IL_001c:  ldarg.0
    IL_001d:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceContract::StableState$PST06000004(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
    IL_0022:  stloc.2
    IL_0023:  br         IL_002f

    IL_0028:  ldloc.0
    IL_0029:  stloc.2
    IL_002a:  br         IL_002f

    IL_002f:  ldloc.2
    IL_0030:  stloc.3
    IL_0031:  ldloc.2
    IL_0032:  ret
  } // end of method NicDeviceContract::StableState

  .method privatescope static int32  CanonicalState$PST06000005(int32 state) cil managed
  {
    // Code size       32 (0x20)
    .maxstack  2
    .locals init ([0] int32 V_0,
             [1] int32 V_1,
             [2] int32 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  ldc.i4.2
    IL_0004:  beq        IL_000e

    IL_0009:  br         IL_0015

    IL_000e:  ldc.i4.1
    IL_000f:  stloc.1
    IL_0010:  br         IL_001c

    IL_0015:  ldarg.0
    IL_0016:  stloc.1
    IL_0017:  br         IL_001c

    IL_001c:  ldloc.1
    IL_001d:  stloc.2
    IL_001e:  ldloc.1
    IL_001f:  ret
  } // end of method NicDeviceContract::CanonicalState

} // end of class Microsoft.Singularity.Io.Net.NicDeviceContract

.class public auto ansi sealed Microsoft.Singularity.Io.Net.NicEventType
       extends [kernel]System.Enum
{
  .field public specialname rtspecialname uint32 value__
  .field public static literal valuetype Microsoft.Singularity.Io.Net.NicEventType ReceiveEvent = uint32(0x00000001)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.NicEventType TransmitEvent = uint32(0x00000002)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.NicEventType LinkEvent = uint32(0x00000004)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.NicEventType NoEvent = int32(0x00000000)
} // end of class Microsoft.Singularity.Io.Net.NicEventType

.class public abstract auto ansi beforefieldinit Microsoft.Singularity.Io.Net.NicDeviceEventContract
       extends [kernel]System.Object
       implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IChannelContract
{
  .class auto ansi sealed nested public Tags
         extends [kernel]System.Enum
  {
    .field public specialname rtspecialname int32 value__
    .field public static literal specialname int32 Any = int32(0x00000001)
    .field public static literal specialname int32 $TagBase = int32(0x00000002)
    .field public static literal specialname int32 $NextTag = int32(0x00000005)
    .field public static literal specialname int32 Success = int32(0x00000002)
    .field public static literal specialname int32 NicDeviceEvent = int32(0x00000003)
    .field public static literal specialname int32 AckNicDeviceEvent = int32(0x00000004)
  } // end of class Tags

  .class sequential ansi nested public Imp
         extends [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint
         implements [kernel]Microsoft.SingSharp.ITracked,
                    [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IRepStruct
  {
    .field family int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) TagPod0
    .field family int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) TagPod1
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Success SuccessPod1
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent NicDeviceEventPod0
    .method privatescope specialname rtspecialname 
            instance void  '.ctor$PST0600019B'(int32 impInitialState) cil managed
    {
      // Code size       8 (0x8)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::.ctor(int32)
      IL_0007:  ret
    } // end of method Imp::.ctor

    .method public instance bool  InState(int32 state) cil managed
    {
      .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.PureAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       70 (0x46)
      .maxstack  4
      .locals init (int32 V_0,
               bool V_1,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack V_2,
               bool V_3)
      IL_0000:  ldarg.1
      IL_0001:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::CanonicalState$PST0600000A(int32)
      IL_0006:  stloc.0
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_000d:  call       instance int32 [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Top()
      IL_0012:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::CanonicalState$PST0600000A(int32)
      IL_0017:  ldloc.0
      IL_0018:  ceq
      IL_001a:  brfalse    IL_0026

      IL_001f:  ldc.i4.1
      IL_0020:  stloc.1
      IL_0021:  br         IL_0042

      IL_0026:  ldarg.0
      IL_0027:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_002c:  ldobj      [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack
      IL_0031:  stloc.2
      IL_0032:  ldloca.s   V_2
      IL_0034:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::StableState$PST06000009(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_0039:  ldloc.0
      IL_003a:  ceq
      IL_003c:  stloc.1
      IL_003d:  br         IL_0042

      IL_0042:  ldloc.1
      IL_0043:  stloc.3
      IL_0044:  ldloc.1
      IL_0045:  ret
    } // end of method Imp::InState

    .method public instance string  CurrentState() cil managed
    {
      // Code size       86 (0x56)
      .maxstack  4
      .locals init (int32 V_0,
               string V_1,
               string V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       instance int32 [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Top()
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.4
      IL_000e:  beq        IL_0026

      IL_0013:  ldloc.0
      IL_0014:  ldc.i4.3
      IL_0015:  beq        IL_0031

      IL_001a:  ldloc.0
      IL_001b:  ldc.i4.2
      IL_001c:  beq        IL_003c

      IL_0021:  br         IL_0047

      IL_0026:  ldstr      "READY"
      IL_002b:  stloc.1
      IL_002c:  br         IL_0052

      IL_0031:  ldstr      "RUNNING"
      IL_0036:  stloc.1
      IL_0037:  br         IL_0052

      IL_003c:  ldstr      "RUNNING$0"
      IL_0041:  stloc.1
      IL_0042:  br         IL_0052

      IL_0047:  ldstr      "<protocol terminated>"
      IL_004c:  stloc.1
      IL_004d:  br         IL_0052

      IL_0052:  ldloc.1
      IL_0053:  stloc.2
      IL_0054:  ldloc.1
      IL_0055:  ret
    } // end of method Imp::CurrentState

    .method public instance void  RecvSuccess() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 02 00 00 00 00 00 ) 
      // Code size       195 (0xc3)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::StableState$PST06000009(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.4
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_00ac

      IL_0018:  ldc.i4.0
      IL_0019:  stloc.1
      IL_001a:  ldarg.0
      IL_001b:  volatile.
      IL_001d:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod1
      IL_0022:  stloc.2
      IL_0023:  ldloc.2
      IL_0024:  brtrue     IL_0039

      IL_0029:  ldarg.0
      IL_002a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_002f:  stloc.1
      IL_0030:  ldarg.0
      IL_0031:  volatile.
      IL_0033:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod1
      IL_0038:  stloc.2
      IL_0039:  ldloc.2
      IL_003a:  ldc.i4.0
      IL_003b:  ceq
      IL_003d:  brfalse    IL_005b

      IL_0042:  ldloc.1
      IL_0043:  brfalse    IL_0053

      IL_0048:  ldstr      "Peer is closed"
      IL_004d:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0052:  throw

      IL_0053:  ldarg.0
      IL_0054:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0059:  br.s       IL_0018

      IL_005b:  ldarg.0
      IL_005c:  ldc.i4.2
      IL_005d:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0062:  ldloc.2
      IL_0063:  ldc.i4.2
      IL_0064:  beq        IL_0086

      IL_0069:  ldstr      "can't recv Success when next message has tag "
      IL_006e:  ldarg.0
      IL_006f:  volatile.
      IL_0071:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod1
      IL_0076:  box        [kernel]System.Int32
      IL_007b:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0080:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0085:  throw

      IL_0086:  ldarg.0
      IL_0087:  ldc.i4.0
      IL_0088:  volatile.
      IL_008a:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod1
      IL_008f:  ldarg.0
      IL_0090:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Success Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::SuccessPod1
      IL_0095:  initobj    Microsoft.Singularity.Io.Net.NicDeviceEventContract/Success
      IL_009b:  ldarg.0
      IL_009c:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00a1:  ldc.i4.3
      IL_00a2:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00a7:  br         IL_00c2

      IL_00ac:  ldstr      "can't recv Success in state "
      IL_00b1:  ldarg.0
      IL_00b2:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::CurrentState()
      IL_00b7:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00bc:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00c1:  throw

      IL_00c2:  ret
    } // end of method Imp::RecvSuccess

    .method public instance void  RecvNicDeviceEvent([out] valuetype Microsoft.Singularity.Io.Net.NicEventType& eventType) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 03 00 00 00 00 00 ) 
      // Code size       212 (0xd4)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::StableState$PST06000009(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.3
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_00bd

      IL_0018:  ldc.i4.0
      IL_0019:  stloc.1
      IL_001a:  ldarg.0
      IL_001b:  volatile.
      IL_001d:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod0
      IL_0022:  stloc.2
      IL_0023:  ldloc.2
      IL_0024:  brtrue     IL_0039

      IL_0029:  ldarg.0
      IL_002a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_002f:  stloc.1
      IL_0030:  ldarg.0
      IL_0031:  volatile.
      IL_0033:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod0
      IL_0038:  stloc.2
      IL_0039:  ldloc.2
      IL_003a:  ldc.i4.0
      IL_003b:  ceq
      IL_003d:  brfalse    IL_005b

      IL_0042:  ldloc.1
      IL_0043:  brfalse    IL_0053

      IL_0048:  ldstr      "Peer is closed"
      IL_004d:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0052:  throw

      IL_0053:  ldarg.0
      IL_0054:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0059:  br.s       IL_0018

      IL_005b:  ldarg.0
      IL_005c:  ldc.i4.3
      IL_005d:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0062:  ldloc.2
      IL_0063:  ldc.i4.3
      IL_0064:  beq        IL_0086

      IL_0069:  ldstr      "can't recv NicDeviceEvent when next message has tag "
      IL_006e:  ldarg.0
      IL_006f:  volatile.
      IL_0071:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod0
      IL_0076:  box        [kernel]System.Int32
      IL_007b:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0080:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0085:  throw

      IL_0086:  ldarg.1
      IL_0087:  ldarg.0
      IL_0088:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::NicDeviceEventPod0
      IL_008d:  ldfld      valuetype Microsoft.Singularity.Io.Net.NicEventType Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent::eventType
      IL_0092:  stobj      Microsoft.Singularity.Io.Net.NicEventType
      IL_0097:  ldarg.0
      IL_0098:  ldc.i4.0
      IL_0099:  volatile.
      IL_009b:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod0
      IL_00a0:  ldarg.0
      IL_00a1:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::NicDeviceEventPod0
      IL_00a6:  initobj    Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent
      IL_00ac:  ldarg.0
      IL_00ad:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00b2:  ldc.i4.2
      IL_00b3:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00b8:  br         IL_00d3

      IL_00bd:  ldstr      "can't recv NicDeviceEvent in state "
      IL_00c2:  ldarg.0
      IL_00c3:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::CurrentState()
      IL_00c8:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00cd:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00d2:  throw

      IL_00d3:  ret
    } // end of method Imp::RecvNicDeviceEvent

    .method public instance void  SendAckNicDeviceEvent() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 04 00 00 00 00 00 ) 
      // Code size       123 (0x7b)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::StableState$PST06000009(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.2
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_0064

      IL_0018:  ldarg.0
      IL_0019:  ldloca.s   V_1
      IL_001b:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0020:  stloc.2
      IL_0021:  ldloc.2
      IL_0022:  stloc.3
      IL_0023:  ldloc.3
      IL_0024:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp&
      IL_0029:  stloc.s    V_4
      IL_002b:  ldloc.1
      IL_002c:  brtrue     IL_0041

      IL_0031:  ldloc.3
      IL_0032:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp&
      IL_0037:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::DeliverAckNicDeviceEvent0$PST060001C5()
      IL_003c:  br         IL_004d

      IL_0041:  ldloc.3
      IL_0042:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp&
      IL_0047:  ldarg.0
      IL_0048:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::MarshallDeliverAckNicDeviceEvent0$PST060001C6(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_004d:  ldarg.0
      IL_004e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0053:  ldarg.0
      IL_0054:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0059:  ldc.i4.3
      IL_005a:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_005f:  br         IL_007a

      IL_0064:  ldstr      "can't send AckNicDeviceEvent in state "
      IL_0069:  ldarg.0
      IL_006a:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::CurrentState()
      IL_006f:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0074:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0079:  throw

      IL_007a:  ret
    } // end of method Imp::SendAckNicDeviceEvent

    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       8 (0x8)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0007:  ret
    } // end of method Imp::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_0019

      IL_0006:  ldarg.1
      IL_0007:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp&
      IL_000c:  ldarg.0
      IL_000d:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0012:  ldarg.0
      IL_0013:  ldarg.1
      IL_0014:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_0019:  ret
    } // end of method Imp::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       45 (0x2d)
      .maxstack  5
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_002c

      IL_0006:  ldarg.1
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0025

      IL_0012:  ldarg.1
      IL_0013:  ldloc.1
      IL_0014:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp
      IL_0019:  ldarg.0
      IL_001a:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_001f:  ldloc.1
      IL_0020:  ldc.i4.1
      IL_0021:  add
      IL_0022:  stloc.1
      IL_0023:  br.s       IL_000b

      IL_0025:  ldarg.0
      IL_0026:  ldarg.1
      IL_0027:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_002c:  ret
    } // end of method Imp::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from) cil managed
    {
      // Code size       18 (0x12)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  ldarg.2
      IL_0003:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallAll(uint8*,
                                                                                                                           valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0008:  ldarg.0
      IL_0009:  ldarg.1
      IL_000a:  ldarg.2
      IL_000b:  ldarg.0
      IL_000c:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::MarshallContent(uint8*,
                                                                                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                  uint8*)
      IL_0011:  ret
    } // end of method Imp::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       46 (0x2e)
      .maxstack  6
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_002d

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_002d

      IL_0012:  ldarg.3
      IL_0013:  ldloc.1
      IL_0014:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp
      IL_0019:  ldarg.0
      IL_001a:  ldarg.1
      IL_001b:  ldarg.3
      IL_001c:  ldc.i4.0
      IL_001d:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp
      IL_0022:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::MarshallContent(uint8*,
                                                                                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                  uint8*)
      IL_0027:  ldloc.1
      IL_0028:  ldc.i4.1
      IL_0029:  add
      IL_002a:  stloc.1
      IL_002b:  br.s       IL_000b

      IL_002d:  ret
    } // end of method Imp::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Imp::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Dispose()
      IL_0006:  ret
    } // end of method Imp::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Imp::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Imp::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Imp::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Imp::Release

    .method family instance int32  Peek() cil managed
    {
      // Code size       263 (0x107)
      .maxstack  6
      .locals init (int32 V_0,
               int32 V_1,
               bool V_2,
               int32 V_3,
               int32 V_4,
               bool V_5,
               int32 V_6,
               bool V_7,
               int32 V_8,
               int32 V_9)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::StableState$PST06000009(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  stloc.1
      IL_000e:  ldloc.1
      IL_000f:  ldc.i4.2
      IL_0010:  beq        IL_0028

      IL_0015:  ldloc.1
      IL_0016:  ldc.i4.3
      IL_0017:  beq        IL_0068

      IL_001c:  ldloc.1
      IL_001d:  ldc.i4.4
      IL_001e:  beq        IL_00b0

      IL_0023:  br         IL_00f8

      IL_0028:  ldc.i4.0
      IL_0029:  stloc.2
      IL_002a:  ldarg.0
      IL_002b:  volatile.
      IL_002d:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod0
      IL_0032:  stloc.3
      IL_0033:  ldloc.3
      IL_0034:  brtrue     IL_0049

      IL_0039:  ldarg.0
      IL_003a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_003f:  stloc.2
      IL_0040:  ldarg.0
      IL_0041:  volatile.
      IL_0043:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod0
      IL_0048:  stloc.3
      IL_0049:  ldloc.3
      IL_004a:  ldc.i4.0
      IL_004b:  ceq
      IL_004d:  brfalse    IL_0060

      IL_0052:  ldloc.2
      IL_0053:  brfalse    IL_0060

      IL_0058:  ldc.i4.m1
      IL_0059:  stloc.s    V_4
      IL_005b:  br         IL_0100

      IL_0060:  ldloc.3
      IL_0061:  stloc.s    V_4
      IL_0063:  br         IL_0100

      IL_0068:  ldc.i4.0
      IL_0069:  stloc.s    V_5
      IL_006b:  ldarg.0
      IL_006c:  volatile.
      IL_006e:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod0
      IL_0073:  stloc.s    V_6
      IL_0075:  ldloc.s    V_6
      IL_0077:  brtrue     IL_008e

      IL_007c:  ldarg.0
      IL_007d:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0082:  stloc.s    V_5
      IL_0084:  ldarg.0
      IL_0085:  volatile.
      IL_0087:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod0
      IL_008c:  stloc.s    V_6
      IL_008e:  ldloc.s    V_6
      IL_0090:  ldc.i4.0
      IL_0091:  ceq
      IL_0093:  brfalse    IL_00a7

      IL_0098:  ldloc.s    V_5
      IL_009a:  brfalse    IL_00a7

      IL_009f:  ldc.i4.m1
      IL_00a0:  stloc.s    V_4
      IL_00a2:  br         IL_0100

      IL_00a7:  ldloc.s    V_6
      IL_00a9:  stloc.s    V_4
      IL_00ab:  br         IL_0100

      IL_00b0:  ldc.i4.0
      IL_00b1:  stloc.s    V_7
      IL_00b3:  ldarg.0
      IL_00b4:  volatile.
      IL_00b6:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod1
      IL_00bb:  stloc.s    V_8
      IL_00bd:  ldloc.s    V_8
      IL_00bf:  brtrue     IL_00d6

      IL_00c4:  ldarg.0
      IL_00c5:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_00ca:  stloc.s    V_7
      IL_00cc:  ldarg.0
      IL_00cd:  volatile.
      IL_00cf:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod1
      IL_00d4:  stloc.s    V_8
      IL_00d6:  ldloc.s    V_8
      IL_00d8:  ldc.i4.0
      IL_00d9:  ceq
      IL_00db:  brfalse    IL_00ef

      IL_00e0:  ldloc.s    V_7
      IL_00e2:  brfalse    IL_00ef

      IL_00e7:  ldc.i4.m1
      IL_00e8:  stloc.s    V_4
      IL_00ea:  br         IL_0100

      IL_00ef:  ldloc.s    V_8
      IL_00f1:  stloc.s    V_4
      IL_00f3:  br         IL_0100

      IL_00f8:  ldc.i4.m1
      IL_00f9:  stloc.s    V_4
      IL_00fb:  br         IL_0100

      IL_0100:  ldloc.s    V_4
      IL_0102:  stloc.s    V_9
      IL_0104:  ldloc.s    V_4
      IL_0106:  ret
    } // end of method Imp::Peek

    .method public virtual instance bool 
            HeadMatches(int32 tag,
                        bool& possible,
                        object& elemMatch) cil managed
    {
      // Code size       102 (0x66)
      .maxstack  6
      .locals init ([0] int32 V_0,
               [1] bool V_1,
               [2] bool 'SS$Display Return Local')
      IL_0000:  ldarg.0
      IL_0001:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_Closed()
      IL_0006:  brfalse    IL_0016

      IL_000b:  ldstr      "endpoint is closed"
      IL_0010:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0015:  throw

      IL_0016:  ldarg.0
      IL_0017:  call       instance int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::Peek()
      IL_001c:  stloc.0
      IL_001d:  ldloc.0
      IL_001e:  ldc.i4.0
      IL_001f:  ceq
      IL_0021:  brfalse    IL_002d

      IL_0026:  ldc.i4.0
      IL_0027:  stloc.1
      IL_0028:  br         IL_0062

      IL_002d:  ldloc.0
      IL_002e:  ldarg.1
      IL_002f:  ceq
      IL_0031:  brfalse    IL_003d

      IL_0036:  ldc.i4.1
      IL_0037:  stloc.1
      IL_0038:  br         IL_0062

      IL_003d:  ldc.i4.1
      IL_003e:  ldarg.1
      IL_003f:  ceq
      IL_0041:  brfalse    IL_0054

      IL_0046:  ldloc.0
      IL_0047:  ldc.i4.0
      IL_0048:  ble        IL_0054

      IL_004d:  ldc.i4.1
      IL_004e:  stloc.1
      IL_004f:  br         IL_0062

      IL_0054:  ldarg.2
      IL_0055:  ldc.i4.0
      IL_0056:  stobj      [kernel]System.Boolean
      IL_005b:  ldc.i4.0
      IL_005c:  stloc.1
      IL_005d:  br         IL_0062

      IL_0062:  ldloc.1
      IL_0063:  stloc.2
      IL_0064:  ldloc.1
      IL_0065:  ret
    } // end of method Imp::HeadMatches

    .method privatescope instance void  DeliverSuccess1$PST060001AE() cil managed
    {
      // Code size       17 (0x11)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldc.i4.2
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0007:  ldarg.0
      IL_0008:  ldc.i4.2
      IL_0009:  volatile.
      IL_000b:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod1
      IL_0010:  ret
    } // end of method Imp::DeliverSuccess1

    .method privatescope instance void  MarshallDeliverSuccess1$PST060001AF(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::DeliverSuccess1$PST060001AE()
      IL_0006:  ldarg.0
      IL_0007:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Success Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::SuccessPod1
      IL_000c:  ldarg.0
      IL_000d:  ldarg.1
      IL_000e:  ldarg.0
      IL_000f:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod1
      IL_0014:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Success::MarshallAll(uint8*,
                                                                                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                  int32&)
      IL_0019:  ret
    } // end of method Imp::MarshallDeliverSuccess1

    .method privatescope instance void  DeliverNicDeviceEvent0$PST060001B0(valuetype Microsoft.Singularity.Io.Net.NicEventType eventType) cil managed
    {
      // Code size       29 (0x1d)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::NicDeviceEventPod0
      IL_0006:  ldarg.1
      IL_0007:  stfld      valuetype Microsoft.Singularity.Io.Net.NicEventType Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent::eventType
      IL_000c:  ldarg.0
      IL_000d:  ldc.i4.3
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0013:  ldarg.0
      IL_0014:  ldc.i4.3
      IL_0015:  volatile.
      IL_0017:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod0
      IL_001c:  ret
    } // end of method Imp::DeliverNicDeviceEvent0

    .method privatescope instance void  MarshallDeliverNicDeviceEvent0$PST060001B1(valuetype Microsoft.Singularity.Io.Net.NicEventType eventType,
                                                                                   valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       27 (0x1b)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::DeliverNicDeviceEvent0$PST060001B0(valuetype Microsoft.Singularity.Io.Net.NicEventType)
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::NicDeviceEventPod0
      IL_000d:  ldarg.0
      IL_000e:  ldarg.2
      IL_000f:  ldarg.0
      IL_0010:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::TagPod0
      IL_0015:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent::MarshallAll(uint8*,
                                                                                                                         valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                         int32&)
      IL_001a:  ret
    } // end of method Imp::MarshallDeliverNicDeviceEvent0

  } // end of class Imp

  .class sequential ansi nested public Exp
         extends [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint
         implements [kernel]Microsoft.SingSharp.ITracked,
                    [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IRepStruct
  {
    .field family int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) TagPod0
    .field family valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/AckNicDeviceEvent AckNicDeviceEventPod0
    .method famorassem specialname rtspecialname 
            instance void  .ctor(int32 expInitialState) cil managed
    {
      // Code size       8 (0x8)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::.ctor(int32)
      IL_0007:  ret
    } // end of method Exp::.ctor

    .method public instance bool  InState(int32 state) cil managed
    {
      .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.PureAttribute::.ctor() = ( 01 00 00 00 ) 
      // Code size       70 (0x46)
      .maxstack  4
      .locals init (int32 V_0,
               bool V_1,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack V_2,
               bool V_3)
      IL_0000:  ldarg.1
      IL_0001:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::CanonicalState$PST0600000A(int32)
      IL_0006:  stloc.0
      IL_0007:  ldarg.0
      IL_0008:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_000d:  call       instance int32 [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Top()
      IL_0012:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::CanonicalState$PST0600000A(int32)
      IL_0017:  ldloc.0
      IL_0018:  ceq
      IL_001a:  brfalse    IL_0026

      IL_001f:  ldc.i4.1
      IL_0020:  stloc.1
      IL_0021:  br         IL_0042

      IL_0026:  ldarg.0
      IL_0027:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_002c:  ldobj      [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack
      IL_0031:  stloc.2
      IL_0032:  ldloca.s   V_2
      IL_0034:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::StableState$PST06000009(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_0039:  ldloc.0
      IL_003a:  ceq
      IL_003c:  stloc.1
      IL_003d:  br         IL_0042

      IL_0042:  ldloc.1
      IL_0043:  stloc.3
      IL_0044:  ldloc.1
      IL_0045:  ret
    } // end of method Exp::InState

    .method public instance string  CurrentState() cil managed
    {
      // Code size       86 (0x56)
      .maxstack  4
      .locals init (int32 V_0,
               string V_1,
               string V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       instance int32 [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Top()
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.4
      IL_000e:  beq        IL_0026

      IL_0013:  ldloc.0
      IL_0014:  ldc.i4.3
      IL_0015:  beq        IL_0031

      IL_001a:  ldloc.0
      IL_001b:  ldc.i4.2
      IL_001c:  beq        IL_003c

      IL_0021:  br         IL_0047

      IL_0026:  ldstr      "READY"
      IL_002b:  stloc.1
      IL_002c:  br         IL_0052

      IL_0031:  ldstr      "RUNNING"
      IL_0036:  stloc.1
      IL_0037:  br         IL_0052

      IL_003c:  ldstr      "RUNNING$0"
      IL_0041:  stloc.1
      IL_0042:  br         IL_0052

      IL_0047:  ldstr      "<protocol terminated>"
      IL_004c:  stloc.1
      IL_004d:  br         IL_0052

      IL_0052:  ldloc.1
      IL_0053:  stloc.2
      IL_0054:  ldloc.1
      IL_0055:  ret
    } // end of method Exp::CurrentState

    .method public instance void  SendSuccess() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 02 00 00 00 00 00 ) 
      // Code size       123 (0x7b)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::StableState$PST06000009(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.4
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_0064

      IL_0018:  ldarg.0
      IL_0019:  ldloca.s   V_1
      IL_001b:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0020:  stloc.2
      IL_0021:  ldloc.2
      IL_0022:  stloc.3
      IL_0023:  ldloc.3
      IL_0024:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp&
      IL_0029:  stloc.s    V_4
      IL_002b:  ldloc.1
      IL_002c:  brtrue     IL_0041

      IL_0031:  ldloc.3
      IL_0032:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp&
      IL_0037:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::DeliverSuccess1$PST060001AE()
      IL_003c:  br         IL_004d

      IL_0041:  ldloc.3
      IL_0042:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp&
      IL_0047:  ldarg.0
      IL_0048:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::MarshallDeliverSuccess1$PST060001AF(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_004d:  ldarg.0
      IL_004e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0053:  ldarg.0
      IL_0054:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0059:  ldc.i4.3
      IL_005a:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_005f:  br         IL_007a

      IL_0064:  ldstr      "can't send Success in state "
      IL_0069:  ldarg.0
      IL_006a:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::CurrentState()
      IL_006f:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0074:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_0079:  throw

      IL_007a:  ret
    } // end of method Exp::SendSuccess

    .method public instance void  SendNicDeviceEvent(valuetype Microsoft.Singularity.Io.Net.NicEventType eventType) cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.SendAttribute::.ctor(int32) = ( 01 00 03 00 00 00 00 00 ) 
      // Code size       125 (0x7d)
      .maxstack  10
      .locals init (int32 V_0,
               bool V_1,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_2,
               valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3,
               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& V_4)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::StableState$PST06000009(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.3
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_0066

      IL_0018:  ldarg.0
      IL_0019:  ldloca.s   V_1
      IL_001b:  call       instance valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::GetPeer(bool&)
      IL_0020:  stloc.2
      IL_0021:  ldloc.2
      IL_0022:  stloc.3
      IL_0023:  ldloc.3
      IL_0024:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp&
      IL_0029:  stloc.s    V_4
      IL_002b:  ldloc.1
      IL_002c:  brtrue     IL_0042

      IL_0031:  ldloc.3
      IL_0032:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp&
      IL_0037:  ldarg.1
      IL_0038:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::DeliverNicDeviceEvent0$PST060001B0(valuetype Microsoft.Singularity.Io.Net.NicEventType)
      IL_003d:  br         IL_004f

      IL_0042:  ldloc.3
      IL_0043:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp&
      IL_0048:  ldarg.1
      IL_0049:  ldarg.0
      IL_004a:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::MarshallDeliverNicDeviceEvent0$PST060001B1(valuetype Microsoft.Singularity.Io.Net.NicEventType,
                                                                                                                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_004f:  ldarg.0
      IL_0050:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::NotifyPeer()
      IL_0055:  ldarg.0
      IL_0056:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_005b:  ldc.i4.2
      IL_005c:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_0061:  br         IL_007c

      IL_0066:  ldstr      "can't send NicDeviceEvent in state "
      IL_006b:  ldarg.0
      IL_006c:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::CurrentState()
      IL_0071:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_0076:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_007b:  throw

      IL_007c:  ret
    } // end of method Exp::SendNicDeviceEvent

    .method public instance void  RecvAckNicDeviceEvent() cil managed
    {
      .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ReceiveAttribute::.ctor(int32) = ( 01 00 04 00 00 00 00 00 ) 
      // Code size       195 (0xc3)
      .maxstack  9
      .locals init (int32 V_0,
               bool V_1,
               int32 V_2)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::StableState$PST06000009(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  ldc.i4.2
      IL_000e:  beq        IL_0018

      IL_0013:  br         IL_00ac

      IL_0018:  ldc.i4.0
      IL_0019:  stloc.1
      IL_001a:  ldarg.0
      IL_001b:  volatile.
      IL_001d:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TagPod0
      IL_0022:  stloc.2
      IL_0023:  ldloc.2
      IL_0024:  brtrue     IL_0039

      IL_0029:  ldarg.0
      IL_002a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_002f:  stloc.1
      IL_0030:  ldarg.0
      IL_0031:  volatile.
      IL_0033:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TagPod0
      IL_0038:  stloc.2
      IL_0039:  ldloc.2
      IL_003a:  ldc.i4.0
      IL_003b:  ceq
      IL_003d:  brfalse    IL_005b

      IL_0042:  ldloc.1
      IL_0043:  brfalse    IL_0053

      IL_0048:  ldstr      "Peer is closed"
      IL_004d:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0052:  throw

      IL_0053:  ldarg.0
      IL_0054:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Wait()
      IL_0059:  br.s       IL_0018

      IL_005b:  ldarg.0
      IL_005c:  ldc.i4.4
      IL_005d:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::RetrieveHookInternal(int32)
      IL_0062:  ldloc.2
      IL_0063:  ldc.i4.4
      IL_0064:  beq        IL_0086

      IL_0069:  ldstr      "can't recv AckNicDeviceEvent when next message has"
      + " tag "
      IL_006e:  ldarg.0
      IL_006f:  volatile.
      IL_0071:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TagPod0
      IL_0076:  box        [kernel]System.Int32
      IL_007b:  call       string [kernel]System.String::Concat(object,
                                                                object)
      IL_0080:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0085:  throw

      IL_0086:  ldarg.0
      IL_0087:  ldc.i4.0
      IL_0088:  volatile.
      IL_008a:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TagPod0
      IL_008f:  ldarg.0
      IL_0090:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/AckNicDeviceEvent Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::AckNicDeviceEventPod0
      IL_0095:  initobj    Microsoft.Singularity.Io.Net.NicDeviceEventContract/AckNicDeviceEvent
      IL_009b:  ldarg.0
      IL_009c:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_00a1:  ldc.i4.3
      IL_00a2:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Set(int32)
      IL_00a7:  br         IL_00c2

      IL_00ac:  ldstr      "can't recv AckNicDeviceEvent in state "
      IL_00b1:  ldarg.0
      IL_00b2:  call       instance string Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::CurrentState()
      IL_00b7:  call       string [kernel]System.String::Concat(string,
                                                                string)
      IL_00bc:  newobj     instance void [kernel]System.ArgumentException::.ctor(string)
      IL_00c1:  throw

      IL_00c2:  ret
    } // end of method Exp::RecvAckNicDeviceEvent

    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       8 (0x8)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0007:  ret
    } // end of method Exp::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_0019

      IL_0006:  ldarg.1
      IL_0007:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp&
      IL_000c:  ldarg.0
      IL_000d:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0012:  ldarg.0
      IL_0013:  ldarg.1
      IL_0014:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_0019:  ret
    } // end of method Exp::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       45 (0x2d)
      .maxstack  5
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_002c

      IL_0006:  ldarg.1
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0025

      IL_0012:  ldarg.1
      IL_0013:  ldloc.1
      IL_0014:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp
      IL_0019:  ldarg.0
      IL_001a:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_001f:  ldloc.1
      IL_0020:  ldc.i4.1
      IL_0021:  add
      IL_0022:  stloc.1
      IL_0023:  br.s       IL_000b

      IL_0025:  ldarg.0
      IL_0026:  ldarg.1
      IL_0027:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_002c:  ret
    } // end of method Exp::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from) cil managed
    {
      // Code size       18 (0x12)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldarg.1
      IL_0002:  ldarg.2
      IL_0003:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallAll(uint8*,
                                                                                                                           valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
      IL_0008:  ldarg.0
      IL_0009:  ldarg.1
      IL_000a:  ldarg.2
      IL_000b:  ldarg.0
      IL_000c:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::MarshallContent(uint8*,
                                                                                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                  uint8*)
      IL_0011:  ret
    } // end of method Exp::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       46 (0x2e)
      .maxstack  6
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_002d

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_002d

      IL_0012:  ldarg.3
      IL_0013:  ldloc.1
      IL_0014:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp
      IL_0019:  ldarg.0
      IL_001a:  ldarg.1
      IL_001b:  ldarg.3
      IL_001c:  ldc.i4.0
      IL_001d:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp
      IL_0022:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::MarshallContent(uint8*,
                                                                                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                  uint8*)
      IL_0027:  ldloc.1
      IL_0028:  ldc.i4.1
      IL_0029:  add
      IL_002a:  stloc.1
      IL_002b:  br.s       IL_000b

      IL_002d:  ret
    } // end of method Exp::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Exp::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Dispose()
      IL_0006:  ret
    } // end of method Exp::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Exp::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Exp::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Exp::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Exp::Release

    .method family instance int32  Peek() cil managed
    {
      // Code size       263 (0x107)
      .maxstack  6
      .locals init (int32 V_0,
               int32 V_1,
               bool V_2,
               int32 V_3,
               int32 V_4,
               bool V_5,
               int32 V_6,
               bool V_7,
               int32 V_8,
               int32 V_9)
      IL_0000:  ldarg.0
      IL_0001:  ldflda     valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::stateStack
      IL_0006:  call       int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract::StableState$PST06000009(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack&)
      IL_000b:  stloc.0
      IL_000c:  ldloc.0
      IL_000d:  stloc.1
      IL_000e:  ldloc.1
      IL_000f:  ldc.i4.2
      IL_0010:  beq        IL_0028

      IL_0015:  ldloc.1
      IL_0016:  ldc.i4.3
      IL_0017:  beq        IL_0068

      IL_001c:  ldloc.1
      IL_001d:  ldc.i4.4
      IL_001e:  beq        IL_00b0

      IL_0023:  br         IL_00f8

      IL_0028:  ldc.i4.0
      IL_0029:  stloc.2
      IL_002a:  ldarg.0
      IL_002b:  volatile.
      IL_002d:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TagPod0
      IL_0032:  stloc.3
      IL_0033:  ldloc.3
      IL_0034:  brtrue     IL_0049

      IL_0039:  ldarg.0
      IL_003a:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_003f:  stloc.2
      IL_0040:  ldarg.0
      IL_0041:  volatile.
      IL_0043:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TagPod0
      IL_0048:  stloc.3
      IL_0049:  ldloc.3
      IL_004a:  ldc.i4.0
      IL_004b:  ceq
      IL_004d:  brfalse    IL_0060

      IL_0052:  ldloc.2
      IL_0053:  brfalse    IL_0060

      IL_0058:  ldc.i4.m1
      IL_0059:  stloc.s    V_4
      IL_005b:  br         IL_0100

      IL_0060:  ldloc.3
      IL_0061:  stloc.s    V_4
      IL_0063:  br         IL_0100

      IL_0068:  ldc.i4.0
      IL_0069:  stloc.s    V_5
      IL_006b:  ldarg.0
      IL_006c:  volatile.
      IL_006e:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TagPod0
      IL_0073:  stloc.s    V_6
      IL_0075:  ldloc.s    V_6
      IL_0077:  brtrue     IL_008e

      IL_007c:  ldarg.0
      IL_007d:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_0082:  stloc.s    V_5
      IL_0084:  ldarg.0
      IL_0085:  volatile.
      IL_0087:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TagPod0
      IL_008c:  stloc.s    V_6
      IL_008e:  ldloc.s    V_6
      IL_0090:  ldc.i4.0
      IL_0091:  ceq
      IL_0093:  brfalse    IL_00a7

      IL_0098:  ldloc.s    V_5
      IL_009a:  brfalse    IL_00a7

      IL_009f:  ldc.i4.m1
      IL_00a0:  stloc.s    V_4
      IL_00a2:  br         IL_0100

      IL_00a7:  ldloc.s    V_6
      IL_00a9:  stloc.s    V_4
      IL_00ab:  br         IL_0100

      IL_00b0:  ldc.i4.0
      IL_00b1:  stloc.s    V_7
      IL_00b3:  ldarg.0
      IL_00b4:  volatile.
      IL_00b6:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TagPod0
      IL_00bb:  stloc.s    V_8
      IL_00bd:  ldloc.s    V_8
      IL_00bf:  brtrue     IL_00d6

      IL_00c4:  ldarg.0
      IL_00c5:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_PeerClosed()
      IL_00ca:  stloc.s    V_7
      IL_00cc:  ldarg.0
      IL_00cd:  volatile.
      IL_00cf:  ldfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TagPod0
      IL_00d4:  stloc.s    V_8
      IL_00d6:  ldloc.s    V_8
      IL_00d8:  ldc.i4.0
      IL_00d9:  ceq
      IL_00db:  brfalse    IL_00ef

      IL_00e0:  ldloc.s    V_7
      IL_00e2:  brfalse    IL_00ef

      IL_00e7:  ldc.i4.m1
      IL_00e8:  stloc.s    V_4
      IL_00ea:  br         IL_0100

      IL_00ef:  ldloc.s    V_8
      IL_00f1:  stloc.s    V_4
      IL_00f3:  br         IL_0100

      IL_00f8:  ldc.i4.m1
      IL_00f9:  stloc.s    V_4
      IL_00fb:  br         IL_0100

      IL_0100:  ldloc.s    V_4
      IL_0102:  stloc.s    V_9
      IL_0104:  ldloc.s    V_4
      IL_0106:  ret
    } // end of method Exp::Peek

    .method public virtual instance bool 
            HeadMatches(int32 tag,
                        bool& possible,
                        object& elemMatch) cil managed
    {
      // Code size       102 (0x66)
      .maxstack  6
      .locals init ([0] int32 V_0,
               [1] bool V_1,
               [2] bool 'SS$Display Return Local')
      IL_0000:  ldarg.0
      IL_0001:  call       instance bool [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::get_Closed()
      IL_0006:  brfalse    IL_0016

      IL_000b:  ldstr      "endpoint is closed"
      IL_0010:  newobj     instance void [kernel]System.ApplicationException::.ctor(string)
      IL_0015:  throw

      IL_0016:  ldarg.0
      IL_0017:  call       instance int32 Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::Peek()
      IL_001c:  stloc.0
      IL_001d:  ldloc.0
      IL_001e:  ldc.i4.0
      IL_001f:  ceq
      IL_0021:  brfalse    IL_002d

      IL_0026:  ldc.i4.0
      IL_0027:  stloc.1
      IL_0028:  br         IL_0062

      IL_002d:  ldloc.0
      IL_002e:  ldarg.1
      IL_002f:  ceq
      IL_0031:  brfalse    IL_003d

      IL_0036:  ldc.i4.1
      IL_0037:  stloc.1
      IL_0038:  br         IL_0062

      IL_003d:  ldc.i4.1
      IL_003e:  ldarg.1
      IL_003f:  ceq
      IL_0041:  brfalse    IL_0054

      IL_0046:  ldloc.0
      IL_0047:  ldc.i4.0
      IL_0048:  ble        IL_0054

      IL_004d:  ldc.i4.1
      IL_004e:  stloc.1
      IL_004f:  br         IL_0062

      IL_0054:  ldarg.2
      IL_0055:  ldc.i4.0
      IL_0056:  stobj      [kernel]System.Boolean
      IL_005b:  ldc.i4.0
      IL_005c:  stloc.1
      IL_005d:  br         IL_0062

      IL_0062:  ldloc.1
      IL_0063:  stloc.2
      IL_0064:  ldloc.1
      IL_0065:  ret
    } // end of method Exp::HeadMatches

    .method privatescope instance void  DeliverAckNicDeviceEvent0$PST060001C5() cil managed
    {
      // Code size       17 (0x11)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  ldc.i4.4
      IL_0002:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::DeliverHookInternal(int32)
      IL_0007:  ldarg.0
      IL_0008:  ldc.i4.4
      IL_0009:  volatile.
      IL_000b:  stfld      int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TagPod0
      IL_0010:  ret
    } // end of method Exp::DeliverAckNicDeviceEvent0

    .method privatescope instance void  MarshallDeliverAckNicDeviceEvent0$PST060001C6(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& endpoint) cil managed
    {
      // Code size       26 (0x1a)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::DeliverAckNicDeviceEvent0$PST060001C5()
      IL_0006:  ldarg.0
      IL_0007:  ldflda     valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/AckNicDeviceEvent Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::AckNicDeviceEventPod0
      IL_000c:  ldarg.0
      IL_000d:  ldarg.1
      IL_000e:  ldarg.0
      IL_000f:  ldflda     int32 modreq([kernel]System.Runtime.CompilerServices.IsVolatile) Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::TagPod0
      IL_0014:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/AckNicDeviceEvent::MarshallAll(uint8*,
                                                                                                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                            int32&)
      IL_0019:  ret
    } // end of method Exp::MarshallDeliverAckNicDeviceEvent0

  } // end of class Exp

  .class sequential ansi sealed nested public specialname Success
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .pack 0
    .size 1
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 01 00 00 00 00 00 ) 
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Success* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method Success::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Success* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method Success::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceEventContract/Success
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Success::MarshallContent(uint8*,
                                                                                                                      valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                      uint8*,
                                                                                                                      int32&)
      IL_001d:  ret
    } // end of method Success::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Success* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method Success::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method Success::Release

  } // end of class Success

  .class sequential ansi sealed nested public specialname NicDeviceEvent
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 01 00 00 00 00 00 ) 
    .field public valuetype Microsoft.Singularity.Io.Net.NicEventType eventType
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method NicDeviceEvent::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method NicDeviceEvent::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method NicDeviceEvent::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent::MarshallContent(uint8*,
                                                                                                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                             uint8*,
                                                                                                                             int32&)
      IL_001d:  ret
    } // end of method NicDeviceEvent::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method NicDeviceEvent::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method NicDeviceEvent::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method NicDeviceEvent::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method NicDeviceEvent::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method NicDeviceEvent::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method NicDeviceEvent::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method NicDeviceEvent::Release

  } // end of class NicDeviceEvent

  .class sequential ansi sealed nested public specialname AckNicDeviceEvent
         extends [kernel]System.ValueType
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IMessage
  {
    .pack 0
    .size 1
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute::.ctor(valuetype [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.MessageAttribute/Direction) = ( 01 00 00 00 00 00 00 00 ) 
    .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckNicDeviceEvent::TransferContentsOwnership

    .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/AckNicDeviceEvent* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method AckNicDeviceEvent::TransferOwnership

    .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                        valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/AckNicDeviceEvent* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
    {
      // Code size       14 (0xe)
      .maxstack  8
      IL_0000:  ldarg.1
      IL_0001:  brfalse    IL_000d

      IL_0006:  ldarg.0
      IL_0007:  ldarg.1
      IL_0008:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_000d:  ret
    } // end of method AckNicDeviceEvent::TransferVectorOwnership

    .method public instance void  MarshallAll(uint8* basep,
                                              valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                              int32& tagLocation) cil managed
    {
      // Code size       30 (0x1e)
      .maxstack  8
      IL_0000:  ldarg.2
      IL_0001:  ldarg.1
      IL_0002:  ldarg.0
      IL_0003:  ldarg.3
      IL_0004:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceEventContract/AckNicDeviceEvent
      IL_0009:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_000e:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallMessage(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               int32* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                               class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
      IL_0013:  ldarg.0
      IL_0014:  ldarg.1
      IL_0015:  ldarg.2
      IL_0016:  ldarg.0
      IL_0017:  ldarg.3
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/AckNicDeviceEvent::MarshallContent(uint8*,
                                                                                                                                valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                                                uint8*,
                                                                                                                                int32&)
      IL_001d:  ret
    } // end of method AckNicDeviceEvent::MarshallAll

    .method public static void  MarshallVector(uint8* basep,
                                               valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                               uint8* parent,
                                               valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/AckNicDeviceEvent* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
    {
      // Code size       25 (0x19)
      .maxstack  2
      .locals init (int32 V_0,
               int32 V_1)
      IL_0000:  ldarg.3
      IL_0001:  brfalse    IL_0018

      IL_0006:  ldarg.3
      IL_0007:  ldlen
      IL_0008:  stloc.0
      IL_0009:  ldc.i4.0
      IL_000a:  stloc.1
      IL_000b:  ldloc.1
      IL_000c:  ldloc.0
      IL_000d:  bge        IL_0018

      IL_0012:  ldloc.1
      IL_0013:  ldc.i4.1
      IL_0014:  add
      IL_0015:  stloc.1
      IL_0016:  br.s       IL_000b

      IL_0018:  ret
    } // end of method AckNicDeviceEvent::MarshallVector

    .method public instance void  MarshallContent(uint8* basep,
                                                  valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                  uint8* parent,
                                                  int32& tagLocation) cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckNicDeviceEvent::MarshallContent

    .method public virtual instance void 
            Dispose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckNicDeviceEvent::Dispose

    .method public virtual instance void 
            Expose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckNicDeviceEvent::Expose

    .method public virtual instance void 
            UnExpose() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckNicDeviceEvent::UnExpose

    .method public virtual instance void 
            Acquire() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckNicDeviceEvent::Acquire

    .method public virtual instance void 
            Release() cil managed
    {
      // Code size       1 (0x1)
      .maxstack  8
      IL_0000:  ret
    } // end of method AckNicDeviceEvent::Release

  } // end of class AckNicDeviceEvent

  .class abstract auto ansi nested public specialname READY
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .custom instance void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.ProtocolStartStateAttribute::.ctor() = ( 01 00 00 00 ) 
    .field public static literal int32 Value = int32(0x00000004)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceEventContract/RUNNING 
            Send(valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Success msg) cil managed
    {
    } // end of method READY::Send

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method READY::.ctor

  } // end of class READY

  .class abstract auto ansi nested public specialname RUNNING
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x00000003)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceEventContract/RUNNING$0 
            Send(valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/NicDeviceEvent msg) cil managed
    {
    } // end of method RUNNING::Send

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method RUNNING::.ctor

  } // end of class RUNNING

  .class abstract auto ansi nested public specialname RUNNING$0
         extends [kernel]System.Object
         implements [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IProtocolState
  {
    .field public static literal int32 Value = int32(0x00000002)
    .method family abstract virtual instance class Microsoft.Singularity.Io.Net.NicDeviceEventContract/RUNNING 
            Recv(valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/AckNicDeviceEvent msg) cil managed
    {
    } // end of method RUNNING$0::Recv

    .method family hidebysig specialname rtspecialname 
            instance void  .ctor() cil managed
    {
      // Code size       7 (0x7)
      .maxstack  8
      IL_0000:  ldarg.0
      IL_0001:  call       instance void [kernel]System.Object::.ctor()
      IL_0006:  ret
    } // end of method RUNNING$0::.ctor

  } // end of class RUNNING$0

  .method public static void  NewChannel([out] valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& imp,
                                         [out] valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& exp) cil managed
  {
    // Code size       72 (0x48)
    .maxstack  7
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_1)
    IL_0000:  ldarg.1
    IL_0001:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp
    IL_0006:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_000b:  call       void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ChannelHeap::Allocate(class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_0010:  stloc.0
    IL_0011:  ldloc.0
    IL_0012:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp&
    IL_0017:  ldc.i4.4
    IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::.ctor(int32)
    IL_001d:  ldloc.0
    IL_001e:  stind.i
    IL_001f:  ldarg.0
    IL_0020:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp
    IL_0025:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_002a:  call       void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ChannelHeap::Allocate(class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_002f:  stloc.1
    IL_0030:  ldloc.1
    IL_0031:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp&
    IL_0036:  ldc.i4.4
    IL_0037:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::'.ctor$PST0600019B'(int32)
    IL_003c:  ldloc.1
    IL_003d:  stind.i
    IL_003e:  ldarg.1
    IL_003f:  ldind.i
    IL_0040:  ldarg.0
    IL_0041:  ldind.i
    IL_0042:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Connect(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_0047:  ret
  } // end of method NicDeviceEventContract::NewChannel

  .method public static void  NewChannel([out] valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& imp,
                                         [out] valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType)& exp,
                                         int32 initialState) cil managed
  {
    // Code size       72 (0x48)
    .maxstack  7
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_1)
    IL_0000:  ldarg.1
    IL_0001:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp
    IL_0006:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_000b:  call       void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ChannelHeap::Allocate(class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_0010:  stloc.0
    IL_0011:  ldloc.0
    IL_0012:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp&
    IL_0017:  ldarg.2
    IL_0018:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Exp::.ctor(int32)
    IL_001d:  ldloc.0
    IL_001e:  stind.i
    IL_001f:  ldarg.0
    IL_0020:  ldtoken    Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp
    IL_0025:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_002a:  call       void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ChannelHeap::Allocate(class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_002f:  stloc.1
    IL_0030:  ldloc.1
    IL_0031:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp&
    IL_0036:  ldarg.2
    IL_0037:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceEventContract/Imp::'.ctor$PST0600019B'(int32)
    IL_003c:  ldloc.1
    IL_003d:  stind.i
    IL_003e:  ldarg.0
    IL_003f:  ldind.i
    IL_0040:  ldarg.1
    IL_0041:  ldind.i
    IL_0042:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::Connect(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_0047:  ret
  } // end of method NicDeviceEventContract::NewChannel

  .method family hidebysig specialname rtspecialname 
          instance void  .ctor() cil managed
  {
    // Code size       7 (0x7)
    .maxstack  8
    IL_0000:  ldarg.0
    IL_0001:  call       instance void [kernel]System.Object::.ctor()
    IL_0006:  ret
  } // end of method NicDeviceEventContract::.ctor

  .method privatescope static int32  StableState$PST06000009(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack& stateStack) cil managed
  {
    // Code size       25 (0x19)
    .maxstack  4
    .locals init ([0] int32 V_0,
             [1] int32 V_1,
             [2] int32 V_2,
             [3] int32 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  call       instance int32 [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.StateStack::Top()
    IL_0006:  stloc.0
    IL_0007:  ldloc.0
    IL_0008:  stloc.1
    IL_0009:  br         IL_000e

    IL_000e:  ldloc.0
    IL_000f:  stloc.2
    IL_0010:  br         IL_0015

    IL_0015:  ldloc.2
    IL_0016:  stloc.3
    IL_0017:  ldloc.2
    IL_0018:  ret
  } // end of method NicDeviceEventContract::StableState

  .method privatescope static int32  CanonicalState$PST0600000A(int32 state) cil managed
  {
    // Code size       18 (0x12)
    .maxstack  1
    .locals init ([0] int32 V_0,
             [1] int32 V_1,
             [2] int32 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  br         IL_0007

    IL_0007:  ldarg.0
    IL_0008:  stloc.1
    IL_0009:  br         IL_000e

    IL_000e:  ldloc.1
    IL_000f:  stloc.2
    IL_0010:  ldloc.1
    IL_0011:  ret
  } // end of method NicDeviceEventContract::CanonicalState

} // end of class Microsoft.Singularity.Io.Net.NicDeviceEventContract

.class public auto ansi sealed Microsoft.Singularity.Io.Net.MacType
       extends [kernel]System.Enum
{
  .field public specialname rtspecialname uint32 value__
  .field public static literal valuetype Microsoft.Singularity.Io.Net.MacType Ethernet = int32(0x00000001)
} // end of class Microsoft.Singularity.Io.Net.MacType

.class public auto ansi sealed Microsoft.Singularity.Io.Net.ChecksumSupport
       extends [kernel]System.Enum
{
  .field public specialname rtspecialname uint32 value__
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Ip4Receive = uint32(0x00000001)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Ip4Transmit = uint32(0x00000002)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Udp4Receive = uint32(0x00000004)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Udp4Transmit = uint32(0x00000008)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Tcp4Receive = uint32(0x00000010)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Tcp4Transmit = uint32(0x00000020)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport AllIp4Receive = uint32(0x00000015)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport AllIp4Transmit = uint32(0x0000002A)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport AllIp4 = uint32(0x0000003F)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Ip6Receive = uint32(0x00000040)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Ip6Transmit = uint32(0x00000080)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Udp6Receive = uint32(0x00000100)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Udp6Transmit = uint32(0x00000200)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Tcp6Receive = uint32(0x00000400)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport Tcp6Transmit = uint32(0x00000800)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport AllIp6Receive = uint32(0x00000540)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport AllIp6Transmit = uint32(0x00000A80)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport AllIp6 = uint32(0x00000FC0)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ChecksumSupport None = int32(0x00000000)
} // end of class Microsoft.Singularity.Io.Net.ChecksumSupport

.class public sequential ansi beforefieldinit Microsoft.Singularity.Io.Net.NicDeviceProperties
       extends [kernel]System.ValueType
       implements [kernel]Microsoft.SingSharp.ITracked,
                  [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IRepStruct
{
  .field public char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) DriverName
  .field public char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) DriverVersion
  .field public valuetype Microsoft.Singularity.Io.Net.MacType MacType
  .field public uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) MacAddress
  .field public valuetype Microsoft.Singularity.Io.Net.ChecksumSupport ChecksumSupport
  .field public int32 MtuBytes
  .field public int32 MaxTxPacketsInDevice
  .field public int32 MaxTxFragmentsPerPacket
  .field public int32 MaxRxPacketsInDevice
  .field public int32 MaxRxFragmentsPerPacket
  .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
  {
    // Code size       61 (0x3d)
    .maxstack  5
    .locals init ([0] char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) V_0,
             [1] char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) V_1,
             [2] uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) V_2)
    IL_0000:  ldarg.0
    IL_0001:  ldfld      char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverName
    IL_0006:  stloc.0
    IL_0007:  ldloc.0
    IL_0008:  brfalse    IL_0014

    IL_000d:  ldarg.1
    IL_000e:  ldloc.0
    IL_000f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_0014:  ldarg.0
    IL_0015:  ldfld      char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverVersion
    IL_001a:  stloc.1
    IL_001b:  ldloc.1
    IL_001c:  brfalse    IL_0028

    IL_0021:  ldarg.1
    IL_0022:  ldloc.1
    IL_0023:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_0028:  ldarg.0
    IL_0029:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::MacAddress
    IL_002e:  stloc.2
    IL_002f:  ldloc.2
    IL_0030:  brfalse    IL_003c

    IL_0035:  ldarg.1
    IL_0036:  ldloc.2
    IL_0037:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_003c:  ret
  } // end of method NicDeviceProperties::TransferContentsOwnership

  .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
  {
    // Code size       26 (0x1a)
    .maxstack  8
    IL_0000:  ldarg.1
    IL_0001:  brfalse    IL_0019

    IL_0006:  ldarg.1
    IL_0007:  castclass  valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties&
    IL_000c:  ldarg.0
    IL_000d:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceProperties::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
    IL_0012:  ldarg.0
    IL_0013:  ldarg.1
    IL_0014:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_0019:  ret
  } // end of method NicDeviceProperties::TransferOwnership

  .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                      valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
  {
    // Code size       45 (0x2d)
    .maxstack  5
    .locals init ([0] int32 V_0,
             [1] int32 V_1)
    IL_0000:  ldarg.1
    IL_0001:  brfalse    IL_002c

    IL_0006:  ldarg.1
    IL_0007:  ldlen
    IL_0008:  stloc.0
    IL_0009:  ldc.i4.0
    IL_000a:  stloc.1
    IL_000b:  ldloc.1
    IL_000c:  ldloc.0
    IL_000d:  bge        IL_0025

    IL_0012:  ldarg.1
    IL_0013:  ldloc.1
    IL_0014:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceProperties
    IL_0019:  ldarg.0
    IL_001a:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceProperties::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
    IL_001f:  ldloc.1
    IL_0020:  ldc.i4.1
    IL_0021:  add
    IL_0022:  stloc.1
    IL_0023:  br.s       IL_000b

    IL_0025:  ldarg.0
    IL_0026:  ldarg.1
    IL_0027:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_002c:  ret
  } // end of method NicDeviceProperties::TransferVectorOwnership

  .method public instance void  MarshallAll(uint8* basep,
                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from) cil managed
  {
    // Code size       10 (0xa)
    .maxstack  8
    IL_0000:  ldarg.0
    IL_0001:  ldarg.1
    IL_0002:  ldarg.2
    IL_0003:  ldarg.0
    IL_0004:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceProperties::MarshallContent(uint8*,
                                                                                                         valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                         uint8*)
    IL_0009:  ret
  } // end of method NicDeviceProperties::MarshallAll

  .method public static void  MarshallVector(uint8* basep,
                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                             uint8* parent,
                                             valuetype Microsoft.Singularity.Io.Net.NicDeviceProperties* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
  {
    // Code size       46 (0x2e)
    .maxstack  6
    .locals init ([0] int32 V_0,
             [1] int32 V_1)
    IL_0000:  ldarg.3
    IL_0001:  brfalse    IL_002d

    IL_0006:  ldarg.3
    IL_0007:  ldlen
    IL_0008:  stloc.0
    IL_0009:  ldc.i4.0
    IL_000a:  stloc.1
    IL_000b:  ldloc.1
    IL_000c:  ldloc.0
    IL_000d:  bge        IL_002d

    IL_0012:  ldarg.3
    IL_0013:  ldloc.1
    IL_0014:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceProperties
    IL_0019:  ldarg.0
    IL_001a:  ldarg.1
    IL_001b:  ldarg.3
    IL_001c:  ldc.i4.0
    IL_001d:  ldelema    Microsoft.Singularity.Io.Net.NicDeviceProperties
    IL_0022:  call       instance void Microsoft.Singularity.Io.Net.NicDeviceProperties::MarshallContent(uint8*,
                                                                                                         valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                         uint8*)
    IL_0027:  ldloc.1
    IL_0028:  ldc.i4.1
    IL_0029:  add
    IL_002a:  stloc.1
    IL_002b:  br.s       IL_000b

    IL_002d:  ret
  } // end of method NicDeviceProperties::MarshallVector

  .method public instance void  MarshallContent(uint8* basep,
                                                valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                uint8* parent) cil managed
  {
    // Code size       254 (0xfe)
    .maxstack  10
    .locals init ([0] char& V_0,
             [1] int32 V_1,
             [2] int32 V_2,
             [3] char& V_3,
             [4] int32 V_4,
             [5] int32 V_5,
             [6] uint8& V_6,
             [7] int32 V_7,
             [8] int32 V_8)
    IL_0000:  ldarg.2
    IL_0001:  ldarg.1
    IL_0002:  ldarg.0
    IL_0003:  ldflda     char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverName
    IL_0008:  ldtoken    [kernel]System.Char
    IL_000d:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_0012:  ldarg.3
    IL_0013:  ldarg.0
    IL_0014:  ldflda     char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverName
    IL_0019:  conv.i
    IL_001a:  ldarg.3
    IL_001b:  conv.i
    IL_001c:  sub
    IL_001d:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             uint8*,
                                                                                                                             int32)
    IL_0022:  ldarg.0
    IL_0023:  ldfld      char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverName
    IL_0028:  brfalse    IL_0050

    IL_002d:  ldarg.0
    IL_002e:  ldfld      char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverName
    IL_0033:  castclass  char&
    IL_0038:  stloc.0
    IL_0039:  ldarg.0
    IL_003a:  ldfld      char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverName
    IL_003f:  ldlen
    IL_0040:  stloc.1
    IL_0041:  ldc.i4.0
    IL_0042:  stloc.2
    IL_0043:  ldloc.2
    IL_0044:  ldloc.1
    IL_0045:  bge        IL_0050

    IL_004a:  ldloc.2
    IL_004b:  ldc.i4.1
    IL_004c:  add
    IL_004d:  stloc.2
    IL_004e:  br.s       IL_0043

    IL_0050:  ldarg.2
    IL_0051:  ldarg.1
    IL_0052:  ldarg.0
    IL_0053:  ldflda     char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverVersion
    IL_0058:  ldtoken    [kernel]System.Char
    IL_005d:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_0062:  ldarg.3
    IL_0063:  ldarg.0
    IL_0064:  ldflda     char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverVersion
    IL_0069:  conv.i
    IL_006a:  ldarg.3
    IL_006b:  conv.i
    IL_006c:  sub
    IL_006d:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             uint8*,
                                                                                                                             int32)
    IL_0072:  ldarg.0
    IL_0073:  ldfld      char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverVersion
    IL_0078:  brfalse    IL_00a6

    IL_007d:  ldarg.0
    IL_007e:  ldfld      char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverVersion
    IL_0083:  castclass  char&
    IL_0088:  stloc.3
    IL_0089:  ldarg.0
    IL_008a:  ldfld      char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverVersion
    IL_008f:  ldlen
    IL_0090:  stloc.s    V_4
    IL_0092:  ldc.i4.0
    IL_0093:  stloc.s    V_5
    IL_0095:  ldloc.s    V_5
    IL_0097:  ldloc.s    V_4
    IL_0099:  bge        IL_00a6

    IL_009e:  ldloc.s    V_5
    IL_00a0:  ldc.i4.1
    IL_00a1:  add
    IL_00a2:  stloc.s    V_5
    IL_00a4:  br.s       IL_0095

    IL_00a6:  ldarg.2
    IL_00a7:  ldarg.1
    IL_00a8:  ldarg.0
    IL_00a9:  ldflda     uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::MacAddress
    IL_00ae:  ldtoken    [kernel]System.Byte
    IL_00b3:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_00b8:  ldarg.3
    IL_00b9:  ldarg.0
    IL_00ba:  ldflda     uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::MacAddress
    IL_00bf:  conv.i
    IL_00c0:  ldarg.3
    IL_00c1:  conv.i
    IL_00c2:  sub
    IL_00c3:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             uint8*,
                                                                                                                             int32)
    IL_00c8:  ldarg.0
    IL_00c9:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::MacAddress
    IL_00ce:  brfalse    IL_00fd

    IL_00d3:  ldarg.0
    IL_00d4:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::MacAddress
    IL_00d9:  castclass  uint8&
    IL_00de:  stloc.s    V_6
    IL_00e0:  ldarg.0
    IL_00e1:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::MacAddress
    IL_00e6:  ldlen
    IL_00e7:  stloc.s    V_7
    IL_00e9:  ldc.i4.0
    IL_00ea:  stloc.s    V_8
    IL_00ec:  ldloc.s    V_8
    IL_00ee:  ldloc.s    V_7
    IL_00f0:  bge        IL_00fd

    IL_00f5:  ldloc.s    V_8
    IL_00f7:  ldc.i4.1
    IL_00f8:  add
    IL_00f9:  stloc.s    V_8
    IL_00fb:  br.s       IL_00ec

    IL_00fd:  ret
  } // end of method NicDeviceProperties::MarshallContent

  .method public virtual instance void  Dispose() cil managed
  {
    // Code size       79 (0x4f)
    .maxstack  2
    .locals init ([0] char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) V_0,
             [1] char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) V_1,
             [2] uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) V_2)
    IL_0000:  ldarg.0
    IL_0001:  ldfld      char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverName
    IL_0006:  stloc.0
    IL_0007:  ldloc.0
    IL_0008:  brfalse    IL_001a

    IL_000d:  ldloc.0
    IL_000e:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_0013:  ldarg.0
    IL_0014:  ldnull
    IL_0015:  stfld      char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverName
    IL_001a:  ldarg.0
    IL_001b:  ldfld      char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverVersion
    IL_0020:  stloc.1
    IL_0021:  ldloc.1
    IL_0022:  brfalse    IL_0034

    IL_0027:  ldloc.1
    IL_0028:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_002d:  ldarg.0
    IL_002e:  ldnull
    IL_002f:  stfld      char* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::DriverVersion
    IL_0034:  ldarg.0
    IL_0035:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::MacAddress
    IL_003a:  stloc.2
    IL_003b:  ldloc.2
    IL_003c:  brfalse    IL_004e

    IL_0041:  ldloc.2
    IL_0042:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_0047:  ldarg.0
    IL_0048:  ldnull
    IL_0049:  stfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.NicDeviceProperties::MacAddress
    IL_004e:  ret
  } // end of method NicDeviceProperties::Dispose

  .method public virtual instance void  Expose() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method NicDeviceProperties::Expose

  .method public virtual instance void  UnExpose() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method NicDeviceProperties::UnExpose

  .method public virtual instance void  Acquire() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method NicDeviceProperties::Acquire

  .method public virtual instance void  Release() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method NicDeviceProperties::Release

} // end of class Microsoft.Singularity.Io.Net.NicDeviceProperties

.class public auto ansi sealed Microsoft.Singularity.Io.Net.FromDeviceFlags
       extends [kernel]System.Enum
{
  .field public specialname rtspecialname uint16 value__
  .field public static literal valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags TransmitError = int32(0x00000002)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags ReceiveSuccess = int32(0x00000004)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags ReceiveError = int32(0x00000008)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags BadIp4Checksum = int32(0x00000010)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags BadUdp4Checksum = int32(0x00000020)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags BadTcp4Checksum = int32(0x00000040)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags GoodUdp4Checksum = int32(0x00000080)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags GoodTcp4Checksum = int32(0x00000100)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags TransmitSuccess = int32(0x00000001)
} // end of class Microsoft.Singularity.Io.Net.FromDeviceFlags

.class public auto ansi sealed Microsoft.Singularity.Io.Net.ToDeviceFlags
       extends [kernel]System.Enum
{
  .field public specialname rtspecialname uint16 value__
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags RequestUdp4Checksum = int32(0x00000002)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags RequestTcp4Checksum = int32(0x00000004)
  .field public static literal valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags RequestIp4Checksum = int32(0x00000001)
} // end of class Microsoft.Singularity.Io.Net.ToDeviceFlags

.class public sequential ansi beforefieldinit Microsoft.Singularity.Io.Net.Packet
       extends [kernel]System.ValueType
       implements [kernel]Microsoft.SingSharp.ITracked,
                  [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IRepStruct
{
  .field private valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) fragments
  .field private valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags toDeviceFlags
  .field private valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags fromDeviceFlags
  .method public hidebysig specialname rtspecialname 
          instance void  .ctor(int32 fragments) cil managed
  {
    // Code size       37 (0x25)
    .maxstack  8
    IL_0000:  ldarg.0
    IL_0001:  ldc.i4.0
    IL_0002:  stfld      valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags Microsoft.Singularity.Io.Net.Packet::toDeviceFlags
    IL_0007:  ldarg.0
    IL_0008:  ldc.i4.0
    IL_0009:  stfld      valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags Microsoft.Singularity.Io.Net.Packet::fromDeviceFlags
    IL_000e:  ldarg.0
    IL_000f:  ldtoken    Microsoft.Singularity.Io.Net.PacketFragment
    IL_0014:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_0019:  ldarg.1
    IL_001a:  call       void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::AllocateVector(class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                                                                                                                                                                                                                                    int32)
    IL_001f:  stfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
    IL_0024:  ret
  } // end of method Packet::.ctor

  .method public hidebysig specialname rtspecialname 
          instance void  .ctor(uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packetBytes) cil managed
  {
    // Code size       59 (0x3b)
    .maxstack  6
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_0,
             [1] int32 V_1)
    IL_0000:  ldarg.0
    IL_0001:  ldc.i4.1
    IL_0002:  call       instance void Microsoft.Singularity.Io.Net.Packet::.ctor(int32)
    IL_0007:  ldarg.0
    IL_0008:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
    IL_000d:  stloc.0
    IL_000e:  ldc.i4.0
    IL_000f:  stloc.1
    IL_0010:  ldloc.0
    IL_0011:  ldloc.1
    IL_0012:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                    int32)
    .try
    {
      IL_0017:  ldarg.0
      IL_0018:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_001d:  ldc.i4.0
      IL_001e:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
      IL_0023:  ldarg.1
      IL_0024:  ldc.i4.0
      IL_0025:  ldarg.1
      IL_0026:  ldlen
      IL_0027:  conv.i4
      IL_0028:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Set(uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                          int32,
                                                                                          int32)
      IL_002d:  leave      IL_003a

    }  // end .try
    finally
    {
      IL_0032:  ldloc.0
      IL_0033:  ldloc.1
      IL_0034:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                        int32)
      IL_0039:  endfinally
    }  // end handler
    IL_003a:  ret
  } // end of method Packet::.ctor

  .method public hidebysig specialname rtspecialname 
          instance void  .ctor(uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) thePacket) cil managed
  {
    .param [1]
    .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
    // Code size       58 (0x3a)
    .maxstack  6
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_0,
             [1] int32 V_1)
    IL_0000:  ldarg.0
    IL_0001:  ldc.i4.1
    IL_0002:  call       instance void Microsoft.Singularity.Io.Net.Packet::.ctor(int32)
    IL_0007:  ldarg.0
    IL_0008:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
    IL_000d:  stloc.0
    IL_000e:  ldc.i4.0
    IL_000f:  stloc.1
    IL_0010:  ldloc.0
    IL_0011:  ldloc.1
    IL_0012:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                    int32)
    .try
    {
      IL_0017:  ldarg.0
      IL_0018:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_001d:  ldc.i4.0
      IL_001e:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
      IL_0023:  ldarg.1
      IL_0024:  ldc.i4.0
      IL_0025:  ldarg.1
      IL_0026:  ldlen
      IL_0027:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Set(uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                          int32,
                                                                                          int32)
      IL_002c:  leave      IL_0039

    }  // end .try
    finally
    {
      IL_0031:  ldloc.0
      IL_0032:  ldloc.1
      IL_0033:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                        int32)
      IL_0038:  endfinally
    }  // end handler
    IL_0039:  ret
  } // end of method Packet::.ctor

  .method public hidebysig specialname instance valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags 
          get_ToDeviceFlags() cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.InferredReturnValueAttribute::.ctor(string) = ( 01 00 37 74 68 69 73 40 4D 69 63 72 6F 73 6F 66   // ..7this@Microsof
                                                                                                                       74 2E 53 69 6E 67 75 6C 61 72 69 74 79 2E 49 6F   // t.Singularity.Io
                                                                                                                       2E 4E 65 74 2E 50 61 63 6B 65 74 3A 3A 74 6F 44   // .Net.Packet::toD
                                                                                                                       65 76 69 63 65 46 6C 61 67 73 00 00 )             // eviceFlags..
    // Code size       16 (0x10)
    .maxstack  1
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags 'return value',
             [1] valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags Microsoft.Singularity.Io.Net.Packet::toDeviceFlags
    IL_0006:  stloc.0
    IL_0007:  br         IL_000c

    IL_000c:  ldloc.0
    IL_000d:  stloc.1
    IL_000e:  ldloc.0
    IL_000f:  ret
  } // end of method Packet::get_ToDeviceFlags

  .method public hidebysig specialname instance void 
          set_ToDeviceFlags(valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags 'value') cil managed
  {
    // Code size       8 (0x8)
    .maxstack  8
    IL_0000:  ldarg.0
    IL_0001:  ldarg.1
    IL_0002:  stfld      valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags Microsoft.Singularity.Io.Net.Packet::toDeviceFlags
    IL_0007:  ret
  } // end of method Packet::set_ToDeviceFlags

  .method public hidebysig specialname instance valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags 
          get_FromDeviceFlags() cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.InferredReturnValueAttribute::.ctor(string) = ( 01 00 39 74 68 69 73 40 4D 69 63 72 6F 73 6F 66   // ..9this@Microsof
                                                                                                                       74 2E 53 69 6E 67 75 6C 61 72 69 74 79 2E 49 6F   // t.Singularity.Io
                                                                                                                       2E 4E 65 74 2E 50 61 63 6B 65 74 3A 3A 66 72 6F   // .Net.Packet::fro
                                                                                                                       6D 44 65 76 69 63 65 46 6C 61 67 73 00 00 )       // mDeviceFlags..
    // Code size       16 (0x10)
    .maxstack  1
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags 'return value',
             [1] valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags Microsoft.Singularity.Io.Net.Packet::fromDeviceFlags
    IL_0006:  stloc.0
    IL_0007:  br         IL_000c

    IL_000c:  ldloc.0
    IL_000d:  stloc.1
    IL_000e:  ldloc.0
    IL_000f:  ret
  } // end of method Packet::get_FromDeviceFlags

  .method public hidebysig specialname instance void 
          set_FromDeviceFlags(valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags 'value') cil managed
  {
    // Code size       8 (0x8)
    .maxstack  8
    IL_0000:  ldarg.0
    IL_0001:  ldarg.1
    IL_0002:  stfld      valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags Microsoft.Singularity.Io.Net.Packet::fromDeviceFlags
    IL_0007:  ret
  } // end of method Packet::set_FromDeviceFlags

  .method public hidebysig instance int32 
          GetLength() cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.PureAttribute::.ctor() = ( 01 00 00 00 ) 
    // Code size       117 (0x75)
    .maxstack  12
    .locals init ([0] int32 total,
             [1] valuetype Microsoft.Singularity.Io.Net.Packet& V_1,
             [2] int32 i,
             [3] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_3,
             [4] int32 V_4,
             [5] int32 V_5,
             [6] int32 'return value',
             [7] int32 'SS$Display Return Local')
    IL_0000:  ldc.i4.0
    IL_0001:  stloc.0
    IL_0002:  ldarg.0
    IL_0003:  stloc.1
    IL_0004:  ldloc.1
    IL_0005:  call       instance void Microsoft.Singularity.Io.Net.Packet::Expose()
    .try
    {
      IL_000a:  ldc.i4.0
      IL_000b:  stloc.2
      IL_000c:  ldloc.2
      IL_000d:  ldarg.0
      IL_000e:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_0013:  ldlen
      IL_0014:  bge        IL_005a

      IL_0019:  ldarg.0
      IL_001a:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_001f:  stloc.3
      IL_0020:  ldloc.2
      IL_0021:  stloc.s    V_4
      IL_0023:  ldloc.3
      IL_0024:  ldloc.s    V_4
      IL_0026:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                      int32)
      .try
      {
        IL_002b:  ldloc.0
        IL_002c:  ldarg.0
        IL_002d:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
        IL_0032:  ldloc.2
        IL_0033:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
        IL_0038:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Length()
        IL_003d:  add
        IL_003e:  stloc.0
        IL_003f:  leave      IL_004d

      }  // end .try
      finally
      {
        IL_0044:  ldloc.3
        IL_0045:  ldloc.s    V_4
        IL_0047:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                          int32)
        IL_004c:  endfinally
      }  // end handler
      IL_004d:  ldloc.2
      IL_004e:  stloc.s    V_5
      IL_0050:  ldloc.s    V_5
      IL_0052:  ldc.i4.1
      IL_0053:  add
      IL_0054:  stloc.2
      IL_0055:  ldloc.s    V_5
      IL_0057:  pop
      IL_0058:  br.s       IL_000c

      IL_005a:  leave      IL_0066

    }  // end .try
    finally
    {
      IL_005f:  ldloc.1
      IL_0060:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnExpose()
      IL_0065:  endfinally
    }  // end handler
    IL_0066:  ldloc.0
    IL_0067:  stloc.s    'return value'
    IL_0069:  br         IL_006e

    IL_006e:  ldloc.s    'return value'
    IL_0070:  stloc.s    'SS$Display Return Local'
    IL_0072:  ldloc.s    'return value'
    IL_0074:  ret
  } // end of method Packet::GetLength

  .method public hidebysig instance uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) 
          ToByteArray() cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.PureAttribute::.ctor() = ( 01 00 00 00 ) 
    // Code size       30 (0x1e)
    .maxstack  5
    .locals init ([0] uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) buffer,
             [1] uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) 'return value',
             [2] uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  call       instance int32 Microsoft.Singularity.Io.Net.Packet::GetLength()
    IL_0006:  newarr     [kernel]System.Byte
    IL_000b:  stloc.0
    IL_000c:  ldarg.0
    IL_000d:  ldloc.0
    IL_000e:  call       instance void Microsoft.Singularity.Io.Net.Packet::ToByteArray(uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_0013:  ldloc.0
    IL_0014:  stloc.1
    IL_0015:  br         IL_001a

    IL_001a:  ldloc.1
    IL_001b:  stloc.2
    IL_001c:  ldloc.1
    IL_001d:  ret
  } // end of method Packet::ToByteArray

  .method public hidebysig instance void 
          ToByteArray(uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) buffer) cil managed
  {
    // Code size       104 (0x68)
    .maxstack  14
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet& V_0,
             [1] int32 done,
             [2] int32 i,
             [3] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_3,
             [4] int32 V_4,
             [5] int32 V_5)
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.Packet::Expose()
    .try
    {
      IL_0008:  ldc.i4.0
      IL_0009:  stloc.1
      IL_000a:  ldc.i4.0
      IL_000b:  stloc.2
      IL_000c:  ldloc.2
      IL_000d:  ldarg.0
      IL_000e:  call       instance int32 Microsoft.Singularity.Io.Net.Packet::get_FragmentCount()
      IL_0013:  bge        IL_005b

      IL_0018:  ldarg.0
      IL_0019:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_001e:  stloc.3
      IL_001f:  ldloc.2
      IL_0020:  stloc.s    V_4
      IL_0022:  ldloc.3
      IL_0023:  ldloc.s    V_4
      IL_0025:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                      int32)
      .try
      {
        IL_002a:  ldloc.1
        IL_002b:  ldarg.0
        IL_002c:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
        IL_0031:  ldloc.2
        IL_0032:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
        IL_0037:  ldarg.1
        IL_0038:  ldloc.1
        IL_0039:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::Copy(uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                              int32)
        IL_003e:  add
        IL_003f:  stloc.1
        IL_0040:  leave      IL_004e

      }  // end .try
      finally
      {
        IL_0045:  ldloc.3
        IL_0046:  ldloc.s    V_4
        IL_0048:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                          int32)
        IL_004d:  endfinally
      }  // end handler
      IL_004e:  ldloc.2
      IL_004f:  stloc.s    V_5
      IL_0051:  ldloc.s    V_5
      IL_0053:  ldc.i4.1
      IL_0054:  add
      IL_0055:  stloc.2
      IL_0056:  ldloc.s    V_5
      IL_0058:  pop
      IL_0059:  br.s       IL_000c

      IL_005b:  leave      IL_0067

    }  // end .try
    finally
    {
      IL_0060:  ldloc.0
      IL_0061:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnExpose()
      IL_0066:  endfinally
    }  // end handler
    IL_0067:  ret
  } // end of method Packet::ToByteArray

  .method public hidebysig newslot virtual final 
          instance void  Dispose() cil managed
  {
    // Code size       64 (0x40)
    .maxstack  4
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_0,
             [1] int32 V_1,
             [2] int32 V_2)
    IL_0000:  ldarg.0
    IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
    IL_0006:  stloc.0
    IL_0007:  ldloc.0
    IL_0008:  brfalse    IL_003f

    IL_000d:  ldloc.0
    IL_000e:  ldlen
    IL_000f:  stloc.1
    IL_0010:  ldc.i4.0
    IL_0011:  stloc.2
    IL_0012:  ldloc.2
    IL_0013:  ldloc.1
    IL_0014:  bge        IL_0039

    IL_0019:  ldloc.0
    IL_001a:  ldloc.2
    IL_001b:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                    int32)
    IL_0020:  ldloc.0
    IL_0021:  ldloc.2
    IL_0022:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
    IL_0027:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Dispose()
    IL_002c:  ldloc.0
    IL_002d:  ldloc.2
    IL_002e:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                      int32)
    IL_0033:  ldloc.2
    IL_0034:  ldc.i4.1
    IL_0035:  add
    IL_0036:  stloc.2
    IL_0037:  br.s       IL_0012

    IL_0039:  ldloc.0
    IL_003a:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_003f:  ret
  } // end of method Packet::Dispose

  .method public hidebysig specialname instance int32 
          get_FragmentCount() cil managed
  {
    // Code size       37 (0x25)
    .maxstack  5
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet& V_0,
             [1] int32 'return value',
             [2] int32 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.Packet::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_000e:  ldlen
      IL_000f:  stloc.1
      IL_0010:  leave      IL_0021

      IL_0015:  leave      IL_0021

    }  // end .try
    finally
    {
      IL_001a:  ldloc.0
      IL_001b:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnExpose()
      IL_0020:  endfinally
    }  // end handler
    IL_0021:  ldloc.1
    IL_0022:  stloc.2
    IL_0023:  ldloc.1
    IL_0024:  ret
  } // end of method Packet::get_FragmentCount

  .method public hidebysig instance void 
          GetFragmentRange(int32 fragment,
                           [out] native uint& virtualAddr,
                           [out] int32& lengthBytes) cil managed
  {
    // Code size       69 (0x45)
    .maxstack  9
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet& V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_1,
             [2] int32 V_2)
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.Packet::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_000e:  stloc.1
      IL_000f:  ldarg.1
      IL_0010:  stloc.2
      IL_0011:  ldloc.1
      IL_0012:  ldloc.2
      IL_0013:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                      int32)
      .try
      {
        IL_0018:  ldarg.0
        IL_0019:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
        IL_001e:  ldarg.1
        IL_001f:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
        IL_0024:  ldarg.2
        IL_0025:  ldarg.3
        IL_0026:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::GetFragmentRange(native uint&,
                                                                                                         int32&)
        IL_002b:  leave      IL_0038

      }  // end .try
      finally
      {
        IL_0030:  ldloc.1
        IL_0031:  ldloc.2
        IL_0032:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                          int32)
        IL_0037:  endfinally
      }  // end handler
      IL_0038:  leave      IL_0044

    }  // end .try
    finally
    {
      IL_003d:  ldloc.0
      IL_003e:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnExpose()
      IL_0043:  endfinally
    }  // end handler
    IL_0044:  ret
  } // end of method Packet::GetFragmentRange

  .method public hidebysig instance native uint 
          GetFragmentVirtualAddress(int32 fragment) cil managed
  {
    // Code size       22 (0x16)
    .maxstack  6
    .locals init ([0] native uint virtualAddress,
             [1] int32 length,
             [2] native uint 'return value',
             [3] native uint 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  ldarg.1
    IL_0002:  ldloca.s   virtualAddress
    IL_0004:  ldloca.s   length
    IL_0006:  call       instance void Microsoft.Singularity.Io.Net.Packet::GetFragmentRange(int32,
                                                                                             native uint&,
                                                                                             int32&)
    IL_000b:  ldloc.0
    IL_000c:  stloc.2
    IL_000d:  br         IL_0012

    IL_0012:  ldloc.2
    IL_0013:  stloc.3
    IL_0014:  ldloc.2
    IL_0015:  ret
  } // end of method Packet::GetFragmentVirtualAddress

  .method public hidebysig instance void 
          SetFragmentLength(int32 fragment,
                            int32 length) cil managed
  {
    // Code size       134 (0x86)
    .maxstack  10
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet& V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_1,
             [2] int32 V_2,
             [3] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 'SS$Contract Marker')
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.Packet::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_000e:  stloc.1
      IL_000f:  ldarg.1
      IL_0010:  stloc.2
      IL_0011:  ldloc.1
      IL_0012:  ldloc.2
      IL_0013:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                      int32)
      .try
      {
        IL_0018:  ldstr      "(::&&(bool,bool){::>=(i32,i32){$2,0},::<=(i32,i32)"
        + "{$2,this@Microsoft.Singularity.Io.Net.Packet::fragments[$1](Microsoft.S"
        + "ingularity.Io.Net.PacketFragment)@Microsoft.Singularity.Io.Net.PacketFr"
        + "agment::get_Capacity{}}})"
        IL_001d:  ldstr      "(length >= 0 &&\r\n                            lengt"
        + "h <= this.fragments[fragment].Capacity)"
        IL_0022:  call       void [System.Compiler.Runtime]Microsoft.Contracts.AssertHelpers::AssertStatement(string,
                                                                                                              string)
        .try
        {
          IL_0027:  ldarg.2
          IL_0028:  ldc.i4.0
          IL_0029:  blt        IL_004a

          IL_002e:  ldarg.2
          IL_002f:  ldarg.0
          IL_0030:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
          IL_0035:  ldarg.1
          IL_0036:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
          IL_003b:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Capacity()
          IL_0040:  bgt        IL_004a

          IL_0045:  br         IL_0050

          IL_004a:  ldc.i4.0
          IL_004b:  call       void [System.Compiler.Runtime]Microsoft.Contracts.AssertHelpers::Assert(bool)
          IL_0050:  nop
          IL_0051:  leave      IL_0059

        }  // end .try
        catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
        {
          IL_0056:  stloc.3
          IL_0057:  rethrow
        }  // end handler
        IL_0059:  nop
        IL_005a:  ldarg.0
        IL_005b:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
        IL_0060:  ldarg.1
        IL_0061:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
        IL_0066:  ldarg.2
        IL_0067:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::set_Length(int32)
        IL_006c:  leave      IL_0079

      }  // end .try
      finally
      {
        IL_0071:  ldloc.1
        IL_0072:  ldloc.2
        IL_0073:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                          int32)
        IL_0078:  endfinally
      }  // end handler
      IL_0079:  leave      IL_0085

    }  // end .try
    finally
    {
      IL_007e:  ldloc.0
      IL_007f:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnExpose()
      IL_0084:  endfinally
    }  // end handler
    IL_0085:  ret
  } // end of method Packet::SetFragmentLength

  .method public hidebysig instance void 
          UnsetFragmentLength(int32 fragment) cil managed
  {
    // Code size       84 (0x54)
    .maxstack  11
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet& V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_1,
             [2] int32 V_2)
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.Packet::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_000e:  stloc.1
      IL_000f:  ldarg.1
      IL_0010:  stloc.2
      IL_0011:  ldloc.1
      IL_0012:  ldloc.2
      IL_0013:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                      int32)
      .try
      {
        IL_0018:  ldarg.0
        IL_0019:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
        IL_001e:  ldarg.1
        IL_001f:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
        IL_0024:  ldarg.0
        IL_0025:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
        IL_002a:  ldarg.1
        IL_002b:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
        IL_0030:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Capacity()
        IL_0035:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::set_Length(int32)
        IL_003a:  leave      IL_0047

      }  // end .try
      finally
      {
        IL_003f:  ldloc.1
        IL_0040:  ldloc.2
        IL_0041:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                          int32)
        IL_0046:  endfinally
      }  // end handler
      IL_0047:  leave      IL_0053

    }  // end .try
    finally
    {
      IL_004c:  ldloc.0
      IL_004d:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnExpose()
      IL_0052:  endfinally
    }  // end handler
    IL_0053:  ret
  } // end of method Packet::UnsetFragmentLength

  .method public hidebysig instance void 
          UnsetFragmentLengths() cil managed
  {
    // Code size       52 (0x34)
    .maxstack  12
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet& V_0,
             [1] int32 i,
             [2] int32 V_2)
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.Packet::Expose()
    .try
    {
      IL_0008:  ldc.i4.0
      IL_0009:  stloc.1
      IL_000a:  ldloc.1
      IL_000b:  ldarg.0
      IL_000c:  call       instance int32 Microsoft.Singularity.Io.Net.Packet::get_FragmentCount()
      IL_0011:  bge        IL_0027

      IL_0016:  ldarg.0
      IL_0017:  ldloc.1
      IL_0018:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnsetFragmentLength(int32)
      IL_001d:  ldloc.1
      IL_001e:  stloc.2
      IL_001f:  ldloc.2
      IL_0020:  ldc.i4.1
      IL_0021:  add
      IL_0022:  stloc.1
      IL_0023:  ldloc.2
      IL_0024:  pop
      IL_0025:  br.s       IL_000a

      IL_0027:  leave      IL_0033

    }  // end .try
    finally
    {
      IL_002c:  ldloc.0
      IL_002d:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnExpose()
      IL_0032:  endfinally
    }  // end handler
    IL_0033:  ret
  } // end of method Packet::UnsetFragmentLengths

  .method public hidebysig instance void 
          SetFragment(int32 fragment,
                      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) buffer,
                      int32 bufferStart,
                      int32 bufferLength) cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 13 3A 3A 3E 3D 28 69 33 32 2C 69 33 32 29   // ...::>=(i32,i32)
                                                                                                            7B 24 31 2C 30 7D 06 00 53 0E 08 46 69 6C 65 6E   // {$1,0}..S..Filen
                                                                                                            61 6D 65 51 43 3A 5C 55 73 65 72 73 5C 63 63 5C   // ameQC:\Users\cc\
                                                                                                            73 6F 75 72 63 65 5C 72 65 70 6F 73 5C 53 69 6E   // source\repos\Sin
                                                                                                            67 75 6C 61 72 69 74 79 2D 4F 53 5C 62 61 73 65   // gularity-OS\base
                                                                                                            5C 43 6F 6E 74 72 61 63 74 73 5C 49 6F 2E 4E 65   // \Contracts\Io.Ne
                                                                                                            74 2E 43 6F 6E 74 72 61 63 74 73 5C 50 61 63 6B   // t.Contracts\Pack
                                                                                                            65 74 2E 73 67 53 08 09 53 74 61 72 74 4C 69 6E   // et.sgS..StartLin
                                                                                                            65 BA 00 00 00 53 08 0B 53 74 61 72 74 43 6F 6C   // e....S..StartCol
                                                                                                            75 6D 6E 16 00 00 00 53 08 07 45 6E 64 4C 69 6E   // umn....S..EndLin
                                                                                                            65 BA 00 00 00 53 08 09 45 6E 64 43 6F 6C 75 6D   // e....S..EndColum
                                                                                                            6E 23 00 00 00 53 0E 0A 53 6F 75 72 63 65 54 65   // n#...S..SourceTe
                                                                                                            78 74 0D 66 72 61 67 6D 65 6E 74 20 3E 3D 20 30 ) // xt.fragment >= 0
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 59 3A 3A 3C 3D 28 69 33 32 2C 69 33 32 29   // ..Y::<=(i32,i32)
                                                                                                            7B 24 31 2C 3A 3A 24 44 65 72 65 66 7B 74 68 69   // {$1,::$Deref{thi
                                                                                                            73 7D 40 4D 69 63 72 6F 73 6F 66 74 2E 53 69 6E   // s}@Microsoft.Sin
                                                                                                            67 75 6C 61 72 69 74 79 2E 49 6F 2E 4E 65 74 2E   // gularity.Io.Net.
                                                                                                            50 61 63 6B 65 74 3A 3A 67 65 74 5F 46 72 61 67   // Packet::get_Frag
                                                                                                            6D 65 6E 74 43 6F 75 6E 74 7B 7D 7D 06 00 53 0E   // mentCount{}}..S.
                                                                                                            08 46 69 6C 65 6E 61 6D 65 51 43 3A 5C 55 73 65   // .FilenameQC:\Use
                                                                                                            72 73 5C 63 63 5C 73 6F 75 72 63 65 5C 72 65 70   // rs\cc\source\rep
                                                                                                            6F 73 5C 53 69 6E 67 75 6C 61 72 69 74 79 2D 4F   // os\Singularity-O
                                                                                                            53 5C 62 61 73 65 5C 43 6F 6E 74 72 61 63 74 73   // S\base\Contracts
                                                                                                            5C 49 6F 2E 4E 65 74 2E 43 6F 6E 74 72 61 63 74   // \Io.Net.Contract
                                                                                                            73 5C 50 61 63 6B 65 74 2E 73 67 53 08 09 53 74   // s\Packet.sgS..St
                                                                                                            61 72 74 4C 69 6E 65 BA 00 00 00 53 08 0B 53 74   // artLine....S..St
                                                                                                            61 72 74 43 6F 6C 75 6D 6E 27 00 00 00 53 08 07   // artColumn'...S..
                                                                                                            45 6E 64 4C 69 6E 65 BA 00 00 00 53 08 09 45 6E   // EndLine....S..En
                                                                                                            64 43 6F 6C 75 6D 6E 45 00 00 00 53 0E 0A 53 6F   // dColumnE...S..So
                                                                                                            75 72 63 65 54 65 78 74 1E 66 72 61 67 6D 65 6E   // urceText.fragmen
                                                                                                            74 20 3C 3D 20 74 68 69 73 2E 46 72 61 67 6D 65   // t <= this.Fragme
                                                                                                            6E 74 43 6F 75 6E 74 )                            // ntCount
    .param [2]
    .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
    // Code size       115 (0x73)
    .maxstack  11
    .locals init ([0] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.Packet& V_1,
             [2] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_2,
             [3] int32 V_3)
    .try
    {
      IL_0000:  ldarg.1
      IL_0001:  ldc.i4.0
      IL_0002:  blt        IL_0018

      IL_0007:  ldarg.1
      IL_0008:  ldarg.0
      IL_0009:  call       instance int32 Microsoft.Singularity.Io.Net.Packet::get_FragmentCount()
      IL_000e:  bgt        IL_0018

      IL_0013:  br         IL_0023

      IL_0018:  ldstr      "Precondition 'fragment >= 0 && fragment <= this.Fr"
      + "agmentCount' violated from method 'Microsoft.Singularity.Io.Net.Packet."
      + "SetFragment(System.Int32,optional(Microsoft.Contracts.NonNullType) opti"
      + "onal(Microsoft.SingSharp.CustomVector) optional(Microsoft.Singularity.C"
      + "hannels.ExHeap) System.Byte*,System.Int32,System.Int32)'"
      IL_001d:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_0022:  throw

      IL_0023:  leave      IL_002b

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_0028:  stloc.0
      IL_0029:  rethrow
    }  // end handler
    IL_002b:  nop
    IL_002c:  ldarg.0
    IL_002d:  stloc.1
    IL_002e:  ldloc.1
    IL_002f:  call       instance void Microsoft.Singularity.Io.Net.Packet::Expose()
    .try
    {
      IL_0034:  ldarg.0
      IL_0035:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_003a:  stloc.2
      IL_003b:  ldarg.1
      IL_003c:  stloc.3
      IL_003d:  ldloc.2
      IL_003e:  ldloc.3
      IL_003f:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                      int32)
      .try
      {
        IL_0044:  ldarg.0
        IL_0045:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
        IL_004a:  ldarg.1
        IL_004b:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
        IL_0050:  ldarg.2
        IL_0051:  ldarg.3
        IL_0052:  ldarg.s    bufferLength
        IL_0054:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Set(uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                            int32,
                                                                                            int32)
        IL_0059:  leave      IL_0066

      }  // end .try
      finally
      {
        IL_005e:  ldloc.2
        IL_005f:  ldloc.3
        IL_0060:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                          int32)
        IL_0065:  endfinally
      }  // end handler
      IL_0066:  leave      IL_0072

    }  // end .try
    finally
    {
      IL_006b:  ldloc.1
      IL_006c:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnExpose()
      IL_0071:  endfinally
    }  // end handler
    IL_0072:  ret
  } // end of method Packet::SetFragment

  .method public hidebysig instance void 
          SetFragment(int32 fragment,
                      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) buffer) cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 13 3A 3A 3E 3D 28 69 33 32 2C 69 33 32 29   // ...::>=(i32,i32)
                                                                                                            7B 24 31 2C 30 7D 06 00 53 0E 08 46 69 6C 65 6E   // {$1,0}..S..Filen
                                                                                                            61 6D 65 51 43 3A 5C 55 73 65 72 73 5C 63 63 5C   // ameQC:\Users\cc\
                                                                                                            73 6F 75 72 63 65 5C 72 65 70 6F 73 5C 53 69 6E   // source\repos\Sin
                                                                                                            67 75 6C 61 72 69 74 79 2D 4F 53 5C 62 61 73 65   // gularity-OS\base
                                                                                                            5C 43 6F 6E 74 72 61 63 74 73 5C 49 6F 2E 4E 65   // \Contracts\Io.Ne
                                                                                                            74 2E 43 6F 6E 74 72 61 63 74 73 5C 50 61 63 6B   // t.Contracts\Pack
                                                                                                            65 74 2E 73 67 53 08 09 53 74 61 72 74 4C 69 6E   // et.sgS..StartLin
                                                                                                            65 C7 00 00 00 53 08 0B 53 74 61 72 74 43 6F 6C   // e....S..StartCol
                                                                                                            75 6D 6E 16 00 00 00 53 08 07 45 6E 64 4C 69 6E   // umn....S..EndLin
                                                                                                            65 C7 00 00 00 53 08 09 45 6E 64 43 6F 6C 75 6D   // e....S..EndColum
                                                                                                            6E 23 00 00 00 53 0E 0A 53 6F 75 72 63 65 54 65   // n#...S..SourceTe
                                                                                                            78 74 0D 66 72 61 67 6D 65 6E 74 20 3E 3D 20 30 ) // xt.fragment >= 0
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 58 3A 3A 3C 28 69 33 32 2C 69 33 32 29 7B   // ..X::<(i32,i32){
                                                                                                            24 31 2C 3A 3A 24 44 65 72 65 66 7B 74 68 69 73   // $1,::$Deref{this
                                                                                                            7D 40 4D 69 63 72 6F 73 6F 66 74 2E 53 69 6E 67   // }@Microsoft.Sing
                                                                                                            75 6C 61 72 69 74 79 2E 49 6F 2E 4E 65 74 2E 50   // ularity.Io.Net.P
                                                                                                            61 63 6B 65 74 3A 3A 67 65 74 5F 46 72 61 67 6D   // acket::get_Fragm
                                                                                                            65 6E 74 43 6F 75 6E 74 7B 7D 7D 06 00 53 0E 08   // entCount{}}..S..
                                                                                                            46 69 6C 65 6E 61 6D 65 51 43 3A 5C 55 73 65 72   // FilenameQC:\User
                                                                                                            73 5C 63 63 5C 73 6F 75 72 63 65 5C 72 65 70 6F   // s\cc\source\repo
                                                                                                            73 5C 53 69 6E 67 75 6C 61 72 69 74 79 2D 4F 53   // s\Singularity-OS
                                                                                                            5C 62 61 73 65 5C 43 6F 6E 74 72 61 63 74 73 5C   // \base\Contracts\
                                                                                                            49 6F 2E 4E 65 74 2E 43 6F 6E 74 72 61 63 74 73   // Io.Net.Contracts
                                                                                                            5C 50 61 63 6B 65 74 2E 73 67 53 08 09 53 74 61   // \Packet.sgS..Sta
                                                                                                            72 74 4C 69 6E 65 C7 00 00 00 53 08 0B 53 74 61   // rtLine....S..Sta
                                                                                                            72 74 43 6F 6C 75 6D 6E 27 00 00 00 53 08 07 45   // rtColumn'...S..E
                                                                                                            6E 64 4C 69 6E 65 C7 00 00 00 53 08 09 45 6E 64   // ndLine....S..End
                                                                                                            43 6F 6C 75 6D 6E 44 00 00 00 53 0E 0A 53 6F 75   // ColumnD...S..Sou
                                                                                                            72 63 65 54 65 78 74 1D 66 72 61 67 6D 65 6E 74   // rceText.fragment
                                                                                                            20 3C 20 74 68 69 73 2E 46 72 61 67 6D 65 6E 74   //  < this.Fragment
                                                                                                            43 6F 75 6E 74 )                                  // Count
    .param [2]
    .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
    // Code size       56 (0x38)
    .maxstack  7
    .locals init ([0] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_0)
    .try
    {
      IL_0000:  ldarg.1
      IL_0001:  ldc.i4.0
      IL_0002:  blt        IL_0018

      IL_0007:  ldarg.1
      IL_0008:  ldarg.0
      IL_0009:  call       instance int32 Microsoft.Singularity.Io.Net.Packet::get_FragmentCount()
      IL_000e:  bge        IL_0018

      IL_0013:  br         IL_0023

      IL_0018:  ldstr      "Precondition 'fragment >= 0 && fragment < this.Fra"
      + "gmentCount' violated from method 'Microsoft.Singularity.Io.Net.Packet.S"
      + "etFragment(System.Int32,optional(Microsoft.Contracts.NonNullType) optio"
      + "nal(Microsoft.SingSharp.CustomVector) optional(Microsoft.Singularity.Ch"
      + "annels.ExHeap) System.Byte*)'"
      IL_001d:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_0022:  throw

      IL_0023:  leave      IL_002b

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_0028:  stloc.0
      IL_0029:  rethrow
    }  // end handler
    IL_002b:  nop
    IL_002c:  ldarg.0
    IL_002d:  ldarg.1
    IL_002e:  ldarg.2
    IL_002f:  ldc.i4.0
    IL_0030:  ldarg.2
    IL_0031:  ldlen
    IL_0032:  call       instance void Microsoft.Singularity.Io.Net.Packet::SetFragment(int32,
                                                                                        uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                        int32,
                                                                                        int32)
    IL_0037:  ret
  } // end of method Packet::SetFragment

  .method public hidebysig instance void 
          SetFragment(int32 fragment,
                      uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) buffer) cil managed
  {
    // Code size       72 (0x48)
    .maxstack  10
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet& V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_1,
             [2] int32 V_2)
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.Packet::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_000e:  stloc.1
      IL_000f:  ldarg.1
      IL_0010:  stloc.2
      IL_0011:  ldloc.1
      IL_0012:  ldloc.2
      IL_0013:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                      int32)
      .try
      {
        IL_0018:  ldarg.0
        IL_0019:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
        IL_001e:  ldarg.1
        IL_001f:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
        IL_0024:  ldarg.2
        IL_0025:  ldc.i4.0
        IL_0026:  ldarg.2
        IL_0027:  ldlen
        IL_0028:  conv.i4
        IL_0029:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Set(uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                            int32,
                                                                                            int32)
        IL_002e:  leave      IL_003b

      }  // end .try
      finally
      {
        IL_0033:  ldloc.1
        IL_0034:  ldloc.2
        IL_0035:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                          int32)
        IL_003a:  endfinally
      }  // end handler
      IL_003b:  leave      IL_0047

    }  // end .try
    finally
    {
      IL_0040:  ldloc.0
      IL_0041:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnExpose()
      IL_0046:  endfinally
    }  // end handler
    IL_0047:  ret
  } // end of method Packet::SetFragment

  .method public hidebysig instance void 
          SetFragment(int32 fragment,
                      uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) buffer,
                      int32 offset,
                      int32 length) cil managed
  {
    // Code size       71 (0x47)
    .maxstack  10
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet& V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_1,
             [2] int32 V_2)
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.Packet::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_000e:  stloc.1
      IL_000f:  ldarg.1
      IL_0010:  stloc.2
      IL_0011:  ldloc.1
      IL_0012:  ldloc.2
      IL_0013:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                      int32)
      .try
      {
        IL_0018:  ldarg.0
        IL_0019:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
        IL_001e:  ldarg.1
        IL_001f:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
        IL_0024:  ldarg.2
        IL_0025:  ldarg.3
        IL_0026:  ldarg.s    length
        IL_0028:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Set(uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                            int32,
                                                                                            int32)
        IL_002d:  leave      IL_003a

      }  // end .try
      finally
      {
        IL_0032:  ldloc.1
        IL_0033:  ldloc.2
        IL_0034:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                          int32)
        IL_0039:  endfinally
      }  // end handler
      IL_003a:  leave      IL_0046

    }  // end .try
    finally
    {
      IL_003f:  ldloc.0
      IL_0040:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnExpose()
      IL_0045:  endfinally
    }  // end handler
    IL_0046:  ret
  } // end of method Packet::SetFragment

  .method public hidebysig instance void 
          SetFragment(int32 fragment,
                      class [kernel]Microsoft.Singularity.Io.IoMemory modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) region,
                      native uint offset,
                      native uint length) cil managed
  {
    // Code size       71 (0x47)
    .maxstack  10
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet& V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_1,
             [2] int32 V_2)
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.Packet::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_000e:  stloc.1
      IL_000f:  ldarg.1
      IL_0010:  stloc.2
      IL_0011:  ldloc.1
      IL_0012:  ldloc.2
      IL_0013:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                      int32)
      .try
      {
        IL_0018:  ldarg.0
        IL_0019:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
        IL_001e:  ldarg.1
        IL_001f:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
        IL_0024:  ldarg.2
        IL_0025:  ldarg.3
        IL_0026:  ldarg.s    length
        IL_0028:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Set(class [kernel]Microsoft.Singularity.Io.IoMemory modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                            native uint,
                                                                                            native uint)
        IL_002d:  leave      IL_003a

      }  // end .try
      finally
      {
        IL_0032:  ldloc.1
        IL_0033:  ldloc.2
        IL_0034:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                          int32)
        IL_0039:  endfinally
      }  // end handler
      IL_003a:  leave      IL_0046

    }  // end .try
    finally
    {
      IL_003f:  ldloc.0
      IL_0040:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnExpose()
      IL_0045:  endfinally
    }  // end handler
    IL_0046:  ret
  } // end of method Packet::SetFragment

  .method public hidebysig instance void 
          AppendToFragment(int32 fragment,
                           uint8 'value') cil managed
  {
    // Code size       68 (0x44)
    .maxstack  9
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet& V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_1,
             [2] int32 V_2)
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.Packet::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
      IL_000e:  stloc.1
      IL_000f:  ldarg.1
      IL_0010:  stloc.2
      IL_0011:  ldloc.1
      IL_0012:  ldloc.2
      IL_0013:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                      int32)
      .try
      {
        IL_0018:  ldarg.0
        IL_0019:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
        IL_001e:  ldarg.1
        IL_001f:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
        IL_0024:  ldarg.2
        IL_0025:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Append(uint8)
        IL_002a:  leave      IL_0037

      }  // end .try
      finally
      {
        IL_002f:  ldloc.1
        IL_0030:  ldloc.2
        IL_0031:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                          int32)
        IL_0036:  endfinally
      }  // end handler
      IL_0037:  leave      IL_0043

    }  // end .try
    finally
    {
      IL_003c:  ldloc.0
      IL_003d:  call       instance void Microsoft.Singularity.Io.Net.Packet::UnExpose()
      IL_0042:  endfinally
    }  // end handler
    IL_0043:  ret
  } // end of method Packet::AppendToFragment

  .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
  {
    // Code size       13 (0xd)
    .maxstack  8
    IL_0000:  ldarg.1
    IL_0001:  ldarg.0
    IL_0002:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
    IL_0007:  call       void Microsoft.Singularity.Io.Net.PacketFragment::TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                   valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector))
    IL_000c:  ret
  } // end of method Packet::TransferContentsOwnership

  .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
  {
    // Code size       26 (0x1a)
    .maxstack  8
    IL_0000:  ldarg.1
    IL_0001:  brfalse    IL_0019

    IL_0006:  ldarg.1
    IL_0007:  castclass  valuetype Microsoft.Singularity.Io.Net.Packet&
    IL_000c:  ldarg.0
    IL_000d:  call       instance void Microsoft.Singularity.Io.Net.Packet::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
    IL_0012:  ldarg.0
    IL_0013:  ldarg.1
    IL_0014:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_0019:  ret
  } // end of method Packet::TransferOwnership

  .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
  {
    // Code size       45 (0x2d)
    .maxstack  5
    .locals init ([0] int32 V_0,
             [1] int32 V_1)
    IL_0000:  ldarg.1
    IL_0001:  brfalse    IL_002c

    IL_0006:  ldarg.1
    IL_0007:  ldlen
    IL_0008:  stloc.0
    IL_0009:  ldc.i4.0
    IL_000a:  stloc.1
    IL_000b:  ldloc.1
    IL_000c:  ldloc.0
    IL_000d:  bge        IL_0025

    IL_0012:  ldarg.1
    IL_0013:  ldloc.1
    IL_0014:  ldelema    Microsoft.Singularity.Io.Net.Packet
    IL_0019:  ldarg.0
    IL_001a:  call       instance void Microsoft.Singularity.Io.Net.Packet::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
    IL_001f:  ldloc.1
    IL_0020:  ldc.i4.1
    IL_0021:  add
    IL_0022:  stloc.1
    IL_0023:  br.s       IL_000b

    IL_0025:  ldarg.0
    IL_0026:  ldarg.1
    IL_0027:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_002c:  ret
  } // end of method Packet::TransferVectorOwnership

  .method public instance void  MarshallAll(uint8* basep,
                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from) cil managed
  {
    // Code size       10 (0xa)
    .maxstack  8
    IL_0000:  ldarg.0
    IL_0001:  ldarg.1
    IL_0002:  ldarg.2
    IL_0003:  ldarg.0
    IL_0004:  call       instance void Microsoft.Singularity.Io.Net.Packet::MarshallContent(uint8*,
                                                                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                            uint8*)
    IL_0009:  ret
  } // end of method Packet::MarshallAll

  .method public static void  MarshallVector(uint8* basep,
                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                             uint8* parent,
                                             valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
  {
    // Code size       46 (0x2e)
    .maxstack  6
    .locals init ([0] int32 V_0,
             [1] int32 V_1)
    IL_0000:  ldarg.3
    IL_0001:  brfalse    IL_002d

    IL_0006:  ldarg.3
    IL_0007:  ldlen
    IL_0008:  stloc.0
    IL_0009:  ldc.i4.0
    IL_000a:  stloc.1
    IL_000b:  ldloc.1
    IL_000c:  ldloc.0
    IL_000d:  bge        IL_002d

    IL_0012:  ldarg.3
    IL_0013:  ldloc.1
    IL_0014:  ldelema    Microsoft.Singularity.Io.Net.Packet
    IL_0019:  ldarg.0
    IL_001a:  ldarg.1
    IL_001b:  ldarg.3
    IL_001c:  ldc.i4.0
    IL_001d:  ldelema    Microsoft.Singularity.Io.Net.Packet
    IL_0022:  call       instance void Microsoft.Singularity.Io.Net.Packet::MarshallContent(uint8*,
                                                                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                            uint8*)
    IL_0027:  ldloc.1
    IL_0028:  ldc.i4.1
    IL_0029:  add
    IL_002a:  stloc.1
    IL_002b:  br.s       IL_000b

    IL_002d:  ret
  } // end of method Packet::MarshallVector

  .method public instance void  MarshallContent(uint8* basep,
                                                valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                uint8* parent) cil managed
  {
    // Code size       49 (0x31)
    .maxstack  8
    IL_0000:  ldarg.2
    IL_0001:  ldarg.1
    IL_0002:  ldarg.0
    IL_0003:  ldflda     valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
    IL_0008:  ldtoken    Microsoft.Singularity.Io.Net.PacketFragment
    IL_000d:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_0012:  ldarg.3
    IL_0013:  ldarg.0
    IL_0014:  ldflda     valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
    IL_0019:  conv.i
    IL_001a:  ldarg.3
    IL_001b:  conv.i
    IL_001c:  sub
    IL_001d:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             uint8*,
                                                                                                                             int32)
    IL_0022:  ldarg.1
    IL_0023:  ldarg.2
    IL_0024:  ldarg.3
    IL_0025:  ldarg.0
    IL_0026:  ldfld      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.Packet::fragments
    IL_002b:  call       void Microsoft.Singularity.Io.Net.PacketFragment::MarshallVector(uint8*,
                                                                                          valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                          uint8*,
                                                                                          valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector))
    IL_0030:  ret
  } // end of method Packet::MarshallContent

  .method public virtual instance void  Expose() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method Packet::Expose

  .method public virtual instance void  UnExpose() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method Packet::UnExpose

  .method public virtual instance void  Acquire() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method Packet::Acquire

  .method public virtual instance void  Release() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method Packet::Release

  .property instance valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags
          ToDeviceFlags()
  {
    .get instance valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags Microsoft.Singularity.Io.Net.Packet::get_ToDeviceFlags()
    .set instance void Microsoft.Singularity.Io.Net.Packet::set_ToDeviceFlags(valuetype Microsoft.Singularity.Io.Net.ToDeviceFlags)
  } // end of property Packet::ToDeviceFlags
  .property instance valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags
          FromDeviceFlags()
  {
    .get instance valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags Microsoft.Singularity.Io.Net.Packet::get_FromDeviceFlags()
    .set instance void Microsoft.Singularity.Io.Net.Packet::set_FromDeviceFlags(valuetype Microsoft.Singularity.Io.Net.FromDeviceFlags)
  } // end of property Packet::FromDeviceFlags
  .property instance int32 FragmentCount()
  {
    .get instance int32 Microsoft.Singularity.Io.Net.Packet::get_FragmentCount()
  } // end of property Packet::FragmentCount
} // end of class Microsoft.Singularity.Io.Net.Packet

.class public sequential ansi beforefieldinit Microsoft.Singularity.Io.Net.PacketFifo
       extends [kernel]System.ValueType
       implements [kernel]Microsoft.SingSharp.ITracked,
                  [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IRepStruct
{
  .field private valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packets
  .field private int32 head
  .field private int32 length
  .method public hidebysig specialname rtspecialname 
          instance void  .ctor(int32 capacity) cil managed
  {
    // Code size       37 (0x25)
    .maxstack  8
    IL_0000:  ldarg.0
    IL_0001:  ldtoken    valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)
    IL_0006:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_000b:  ldarg.1
    IL_000c:  call       void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::AllocateVector(class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                                                                                                                                                                                                                                    int32)
    IL_0011:  stfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_0016:  ldarg.0
    IL_0017:  ldc.i4.0
    IL_0018:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFifo::head
    IL_001d:  ldarg.0
    IL_001e:  ldc.i4.0
    IL_001f:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFifo::length
    IL_0024:  ret
  } // end of method PacketFifo::.ctor

  .method public hidebysig specialname instance int32 
          get_Capacity() cil managed
  {
    // Code size       37 (0x25)
    .maxstack  5
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFifo& V_0,
             [1] int32 'return value',
             [2] int32 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
      IL_000e:  ldlen
      IL_000f:  stloc.1
      IL_0010:  leave      IL_0021

      IL_0015:  leave      IL_0021

    }  // end .try
    finally
    {
      IL_001a:  ldloc.0
      IL_001b:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::UnExpose()
      IL_0020:  endfinally
    }  // end handler
    IL_0021:  ldloc.1
    IL_0022:  stloc.2
    IL_0023:  ldloc.1
    IL_0024:  ret
  } // end of method PacketFifo::get_Capacity

  .method public hidebysig specialname instance int32 
          get_Count() cil managed
  {
    // Code size       36 (0x24)
    .maxstack  5
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFifo& V_0,
             [1] int32 'return value',
             [2] int32 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFifo::length
      IL_000e:  stloc.1
      IL_000f:  leave      IL_0020

      IL_0014:  leave      IL_0020

    }  // end .try
    finally
    {
      IL_0019:  ldloc.0
      IL_001a:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::UnExpose()
      IL_001f:  endfinally
    }  // end handler
    IL_0020:  ldloc.1
    IL_0021:  stloc.2
    IL_0022:  ldloc.1
    IL_0023:  ret
  } // end of method PacketFifo::get_Count

  .method public hidebysig instance void 
          Push(valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) p) cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 80 98 3A 3A 3C 28 69 33 32 2C 69 33 32 29   // ....::<(i32,i32)
                                                                                                            7B 3A 3A 24 44 65 72 65 66 7B 74 68 69 73 7D 40   // {::$Deref{this}@
                                                                                                            4D 69 63 72 6F 73 6F 66 74 2E 53 69 6E 67 75 6C   // Microsoft.Singul
                                                                                                            61 72 69 74 79 2E 49 6F 2E 4E 65 74 2E 50 61 63   // arity.Io.Net.Pac
                                                                                                            6B 65 74 46 69 66 6F 3A 3A 67 65 74 5F 43 6F 75   // ketFifo::get_Cou
                                                                                                            6E 74 7B 7D 2C 3A 3A 24 44 65 72 65 66 7B 74 68   // nt{},::$Deref{th
                                                                                                            69 73 7D 40 4D 69 63 72 6F 73 6F 66 74 2E 53 69   // is}@Microsoft.Si
                                                                                                            6E 67 75 6C 61 72 69 74 79 2E 49 6F 2E 4E 65 74   // ngularity.Io.Net
                                                                                                            2E 50 61 63 6B 65 74 46 69 66 6F 3A 3A 67 65 74   // .PacketFifo::get
                                                                                                            5F 43 61 70 61 63 69 74 79 7B 7D 7D 06 00 53 0E   // _Capacity{}}..S.
                                                                                                            08 46 69 6C 65 6E 61 6D 65 55 43 3A 5C 55 73 65   // .FilenameUC:\Use
                                                                                                            72 73 5C 63 63 5C 73 6F 75 72 63 65 5C 72 65 70   // rs\cc\source\rep
                                                                                                            6F 73 5C 53 69 6E 67 75 6C 61 72 69 74 79 2D 4F   // os\Singularity-O
                                                                                                            53 5C 62 61 73 65 5C 43 6F 6E 74 72 61 63 74 73   // S\base\Contracts
                                                                                                            5C 49 6F 2E 4E 65 74 2E 43 6F 6E 74 72 61 63 74   // \Io.Net.Contract
                                                                                                            73 5C 50 61 63 6B 65 74 46 69 66 6F 2E 73 67 53   // s\PacketFifo.sgS
                                                                                                            08 09 53 74 61 72 74 4C 69 6E 65 2B 00 00 00 53   // ..StartLine+...S
                                                                                                            08 0B 53 74 61 72 74 43 6F 6C 75 6D 6E 16 00 00   // ..StartColumn...
                                                                                                            00 53 08 07 45 6E 64 4C 69 6E 65 2B 00 00 00 53   // .S..EndLine+...S
                                                                                                            08 09 45 6E 64 43 6F 6C 75 6D 6E 30 00 00 00 53   // ..EndColumn0...S
                                                                                                            0E 0A 53 6F 75 72 63 65 54 65 78 74 1A 74 68 69   // ..SourceText.thi
                                                                                                            73 2E 43 6F 75 6E 74 20 3C 20 74 68 69 73 2E 43   // s.Count < this.C
                                                                                                            61 70 61 63 69 74 79 )                            // apacity
    .param [1]
    .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
    // Code size       235 (0xeb)
    .maxstack  13
    .locals init ([0] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFifo& V_1,
             [2] int32 index,
             [3] valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_3,
             [4] int32 V_4,
             [5] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 'SS$Contract Marker',
             [6] valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_6,
             [7] int32 V_7)
    .try
    {
      IL_0000:  ldarg.0
      IL_0001:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Count()
      IL_0006:  ldarg.0
      IL_0007:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Capacity()
      IL_000c:  bge        IL_0016

      IL_0011:  br         IL_0021

      IL_0016:  ldstr      "Precondition 'this.Count < this.Capacity' violated"
      + " from method 'Microsoft.Singularity.Io.Net.PacketFifo.Push(optional(Mic"
      + "rosoft.Contracts.NonNullType) optional(Microsoft.Singularity.Channels.E"
      + "xHeap) Microsoft.Singularity.Io.Net.Packet*)'"
      IL_001b:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_0020:  throw

      IL_0021:  leave      IL_0029

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_0026:  stloc.0
      IL_0027:  rethrow
    }  // end handler
    IL_0029:  nop
    IL_002a:  ldarg.0
    IL_002b:  stloc.1
    IL_002c:  ldloc.1
    IL_002d:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::Expose()
    .try
    {
      IL_0032:  ldarg.0
      IL_0033:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFifo::head
      IL_0038:  stloc.2
      IL_0039:  ldarg.0
      IL_003a:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
      IL_003f:  stloc.3
      IL_0040:  ldloc.2
      IL_0041:  stloc.s    V_4
      IL_0043:  ldloc.3
      IL_0044:  ldloc.s    V_4
      IL_0046:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                      int32)
      .try
      {
        IL_004b:  ldstr      "::==(optional([Microsoft.SingSharp.Runtime]Microso"
        + "ft.Singularity.Channels.ExHeap,Microsoft.Singularity.Io.Net.Packet*),ob"
        + "ject){this@Microsoft.Singularity.Io.Net.PacketFifo::packets[$blockVar(i"
        + "32){index}](optional([Microsoft.SingSharp.Runtime]Microsoft.Singularity"
        + ".Channels.ExHeap,Microsoft.Singularity.Io.Net.Packet*)),null}"
        IL_0050:  ldstr      "this.packets[index] == null"
        IL_0055:  call       void [System.Compiler.Runtime]Microsoft.Contracts.AssertHelpers::AssertStatement(string,
                                                                                                              string)
        .try
        {
          IL_005a:  ldarg.0
          IL_005b:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
          IL_0060:  ldloc.2
          IL_0061:  ldelem.i
          IL_0062:  ldnull
          IL_0063:  beq        IL_006e

          IL_0068:  ldc.i4.0
          IL_0069:  call       void [System.Compiler.Runtime]Microsoft.Contracts.AssertHelpers::Assert(bool)
          IL_006e:  nop
          IL_006f:  leave      IL_0078

        }  // end .try
        catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
        {
          IL_0074:  stloc.s    'SS$Contract Marker'
          IL_0076:  rethrow
        }  // end handler
        IL_0078:  nop
        IL_0079:  ldarg.0
        IL_007a:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
        IL_007f:  ldloc.2
        IL_0080:  ldelem.i
        IL_0081:  stloc.s    V_6
        IL_0083:  ldloc.s    V_6
        IL_0085:  brfalse    IL_009d

        IL_008a:  ldloc.s    V_6
        IL_008c:  castclass  valuetype Microsoft.Singularity.Io.Net.Packet&
        IL_0091:  call       instance void Microsoft.Singularity.Io.Net.Packet::Dispose()
        IL_0096:  ldloc.s    V_6
        IL_0098:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
        IL_009d:  ldarg.0
        IL_009e:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
        IL_00a3:  ldloc.2
        IL_00a4:  ldarg.1
        IL_00a5:  stelem.i
        IL_00a6:  leave      IL_00b4

      }  // end .try
      finally
      {
        IL_00ab:  ldloc.3
        IL_00ac:  ldloc.s    V_4
        IL_00ae:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                          int32)
        IL_00b3:  endfinally
      }  // end handler
      IL_00b4:  ldarg.0
      IL_00b5:  ldarg.0
      IL_00b6:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFifo::head
      IL_00bb:  ldc.i4.1
      IL_00bc:  add
      IL_00bd:  ldarg.0
      IL_00be:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Capacity()
      IL_00c3:  rem
      IL_00c4:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFifo::head
      IL_00c9:  ldarg.0
      IL_00ca:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFifo::length
      IL_00cf:  stloc.s    V_7
      IL_00d1:  ldarg.0
      IL_00d2:  ldloc.s    V_7
      IL_00d4:  ldc.i4.1
      IL_00d5:  add
      IL_00d6:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFifo::length
      IL_00db:  ldloc.s    V_7
      IL_00dd:  pop
      IL_00de:  leave      IL_00ea

    }  // end .try
    finally
    {
      IL_00e3:  ldloc.1
      IL_00e4:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::UnExpose()
      IL_00e9:  endfinally
    }  // end handler
    IL_00ea:  ret
  } // end of method PacketFifo::Push

  .method public hidebysig instance void 
          Push(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) donor,
               int32 count) cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 80 AA 3A 3A 3C 3D 28 69 33 32 2C 69 33 32   // ....::<=(i32,i32
                                                                                                            29 7B 3A 3A 2B 28 69 33 32 2C 69 33 32 29 7B 3A   // ){::+(i32,i32){:
                                                                                                            3A 24 44 65 72 65 66 7B 74 68 69 73 7D 40 4D 69   // :$Deref{this}@Mi
                                                                                                            63 72 6F 73 6F 66 74 2E 53 69 6E 67 75 6C 61 72   // crosoft.Singular
                                                                                                            69 74 79 2E 49 6F 2E 4E 65 74 2E 50 61 63 6B 65   // ity.Io.Net.Packe
                                                                                                            74 46 69 66 6F 3A 3A 67 65 74 5F 43 6F 75 6E 74   // tFifo::get_Count
                                                                                                            7B 7D 2C 24 32 7D 2C 3A 3A 24 44 65 72 65 66 7B   // {},$2},::$Deref{
                                                                                                            74 68 69 73 7D 40 4D 69 63 72 6F 73 6F 66 74 2E   // this}@Microsoft.
                                                                                                            53 69 6E 67 75 6C 61 72 69 74 79 2E 49 6F 2E 4E   // Singularity.Io.N
                                                                                                            65 74 2E 50 61 63 6B 65 74 46 69 66 6F 3A 3A 67   // et.PacketFifo::g
                                                                                                            65 74 5F 43 61 70 61 63 69 74 79 7B 7D 7D 06 00   // et_Capacity{}}..
                                                                                                            53 0E 08 46 69 6C 65 6E 61 6D 65 55 43 3A 5C 55   // S..FilenameUC:\U
                                                                                                            73 65 72 73 5C 63 63 5C 73 6F 75 72 63 65 5C 72   // sers\cc\source\r
                                                                                                            65 70 6F 73 5C 53 69 6E 67 75 6C 61 72 69 74 79   // epos\Singularity
                                                                                                            2D 4F 53 5C 62 61 73 65 5C 43 6F 6E 74 72 61 63   // -OS\base\Contrac
                                                                                                            74 73 5C 49 6F 2E 4E 65 74 2E 43 6F 6E 74 72 61   // ts\Io.Net.Contra
                                                                                                            63 74 73 5C 50 61 63 6B 65 74 46 69 66 6F 2E 73   // cts\PacketFifo.s
                                                                                                            67 53 08 09 53 74 61 72 74 4C 69 6E 65 3A 00 00   // gS..StartLine:..
                                                                                                            00 53 08 0B 53 74 61 72 74 43 6F 6C 75 6D 6E 16   // .S..StartColumn.
                                                                                                            00 00 00 53 08 07 45 6E 64 4C 69 6E 65 3A 00 00   // ...S..EndLine:..
                                                                                                            00 53 08 09 45 6E 64 43 6F 6C 75 6D 6E 39 00 00   // .S..EndColumn9..
                                                                                                            00 53 0E 0A 53 6F 75 72 63 65 54 65 78 74 23 74   // .S..SourceText#t
                                                                                                            68 69 73 2E 43 6F 75 6E 74 20 2B 20 63 6F 75 6E   // his.Count + coun
                                                                                                            74 20 3C 3D 20 74 68 69 73 2E 43 61 70 61 63 69   // t <= this.Capaci
                                                                                                            74 79 )                                           // ty
    // Code size       97 (0x61)
    .maxstack  10
    .locals init ([0] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_0,
             [1] int32 V_1)
    .try
    {
      IL_0000:  ldarg.0
      IL_0001:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Count()
      IL_0006:  ldarg.2
      IL_0007:  add
      IL_0008:  ldarg.0
      IL_0009:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Capacity()
      IL_000e:  bgt        IL_0018

      IL_0013:  br         IL_0023

      IL_0018:  ldstr      "Precondition 'this.Count + count <= this.Capacity'"
      + " violated from method 'Microsoft.Singularity.Io.Net.PacketFifo.Push(opt"
      + "ional(Microsoft.Contracts.NonNullType) optional(Microsoft.Singularity.C"
      + "hannels.ExHeap) Microsoft.Singularity.Io.Net.PacketFifo*,System.Int32)'"
      IL_001d:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_0022:  throw

      IL_0023:  leave      IL_002b

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_0028:  stloc.0
      IL_0029:  rethrow
    }  // end handler
    IL_002b:  nop
    IL_002c:  ldarg.1
    IL_002d:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
    IL_0032:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Count()
    IL_0037:  ldarg.2
    IL_0038:  call       int32 [kernel]System.Math::Min(int32,
                                                        int32)
    IL_003d:  starg.s    count
    IL_003f:  ldarg.2
    IL_0040:  stloc.1
    IL_0041:  ldloc.1
    IL_0042:  ldc.i4.1
    IL_0043:  sub
    IL_0044:  starg.s    count
    IL_0046:  ldloc.1
    IL_0047:  ldc.i4.0
    IL_0048:  ble        IL_0060

    IL_004d:  ldarg.0
    IL_004e:  ldarg.1
    IL_004f:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
    IL_0054:  call       instance valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::Pop()
    IL_0059:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::Push(valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType))
    IL_005e:  br.s       IL_003f

    IL_0060:  ret
  } // end of method PacketFifo::Push

  .method public hidebysig instance void 
          Push(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) donor) cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 80 E9 3A 3A 3C 3D 28 69 33 32 2C 69 33 32   // ....::<=(i32,i32
                                                                                                            29 7B 3A 3A 2B 28 69 33 32 2C 69 33 32 29 7B 3A   // ){::+(i32,i32){:
                                                                                                            3A 24 44 65 72 65 66 7B 74 68 69 73 7D 40 4D 69   // :$Deref{this}@Mi
                                                                                                            63 72 6F 73 6F 66 74 2E 53 69 6E 67 75 6C 61 72   // crosoft.Singular
                                                                                                            69 74 79 2E 49 6F 2E 4E 65 74 2E 50 61 63 6B 65   // ity.Io.Net.Packe
                                                                                                            74 46 69 66 6F 3A 3A 67 65 74 5F 43 6F 75 6E 74   // tFifo::get_Count
                                                                                                            7B 7D 2C 3A 3A 24 44 65 72 65 66 7B 24 31 7D 40   // {},::$Deref{$1}@
                                                                                                            4D 69 63 72 6F 73 6F 66 74 2E 53 69 6E 67 75 6C   // Microsoft.Singul
                                                                                                            61 72 69 74 79 2E 49 6F 2E 4E 65 74 2E 50 61 63   // arity.Io.Net.Pac
                                                                                                            6B 65 74 46 69 66 6F 3A 3A 67 65 74 5F 43 6F 75   // ketFifo::get_Cou
                                                                                                            6E 74 7B 7D 7D 2C 3A 3A 24 44 65 72 65 66 7B 74   // nt{}},::$Deref{t
                                                                                                            68 69 73 7D 40 4D 69 63 72 6F 73 6F 66 74 2E 53   // his}@Microsoft.S
                                                                                                            69 6E 67 75 6C 61 72 69 74 79 2E 49 6F 2E 4E 65   // ingularity.Io.Ne
                                                                                                            74 2E 50 61 63 6B 65 74 46 69 66 6F 3A 3A 67 65   // t.PacketFifo::ge
                                                                                                            74 5F 43 61 70 61 63 69 74 79 7B 7D 7D 06 00 53   // t_Capacity{}}..S
                                                                                                            0E 08 46 69 6C 65 6E 61 6D 65 55 43 3A 5C 55 73   // ..FilenameUC:\Us
                                                                                                            65 72 73 5C 63 63 5C 73 6F 75 72 63 65 5C 72 65   // ers\cc\source\re
                                                                                                            70 6F 73 5C 53 69 6E 67 75 6C 61 72 69 74 79 2D   // pos\Singularity-
                                                                                                            4F 53 5C 62 61 73 65 5C 43 6F 6E 74 72 61 63 74   // OS\base\Contract
                                                                                                            73 5C 49 6F 2E 4E 65 74 2E 43 6F 6E 74 72 61 63   // s\Io.Net.Contrac
                                                                                                            74 73 5C 50 61 63 6B 65 74 46 69 66 6F 2E 73 67   // ts\PacketFifo.sg
                                                                                                            53 08 09 53 74 61 72 74 4C 69 6E 65 43 00 00 00   // S..StartLineC...
                                                                                                            53 08 0B 53 74 61 72 74 43 6F 6C 75 6D 6E 16 00   // S..StartColumn..
                                                                                                            00 00 53 08 07 45 6E 64 4C 69 6E 65 43 00 00 00   // ..S..EndLineC...
                                                                                                            53 08 09 45 6E 64 43 6F 6C 75 6D 6E 40 00 00 00   // S..EndColumn@...
                                                                                                            53 0E 0A 53 6F 75 72 63 65 54 65 78 74 2A 74 68   // S..SourceText*th
                                                                                                            69 73 2E 43 6F 75 6E 74 20 2B 20 64 6F 6E 6F 72   // is.Count + donor
                                                                                                            2D 3E 43 6F 75 6E 74 20 3C 3D 20 74 68 69 73 2E   // ->Count <= this.
                                                                                                            43 61 70 61 63 69 74 79 )                         // Capacity
    // Code size       73 (0x49)
    .maxstack  10
    .locals init ([0] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_0)
    .try
    {
      IL_0000:  ldarg.0
      IL_0001:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Count()
      IL_0006:  ldarg.1
      IL_0007:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
      IL_000c:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Count()
      IL_0011:  add
      IL_0012:  ldarg.0
      IL_0013:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Capacity()
      IL_0018:  bgt        IL_0022

      IL_001d:  br         IL_002d

      IL_0022:  ldstr      "Precondition 'this.Count + donor->Count <= this.Ca"
      + "pacity' violated from method 'Microsoft.Singularity.Io.Net.PacketFifo.P"
      + "ush(optional(Microsoft.Contracts.NonNullType) optional(Microsoft.Singul"
      + "arity.Channels.ExHeap) Microsoft.Singularity.Io.Net.PacketFifo*)'"
      IL_0027:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_002c:  throw

      IL_002d:  leave      IL_0035

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_0032:  stloc.0
      IL_0033:  rethrow
    }  // end handler
    IL_0035:  nop
    IL_0036:  ldarg.0
    IL_0037:  ldarg.1
    IL_0038:  ldarg.1
    IL_0039:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
    IL_003e:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Count()
    IL_0043:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::Push(valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                     int32)
    IL_0048:  ret
  } // end of method PacketFifo::Push

  .method public hidebysig instance valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) 
          Pop() cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 53 3A 3A 3E 28 69 33 32 2C 69 33 32 29 7B   // ..S::>(i32,i32){
                                                                                                            3A 3A 24 44 65 72 65 66 7B 74 68 69 73 7D 40 4D   // ::$Deref{this}@M
                                                                                                            69 63 72 6F 73 6F 66 74 2E 53 69 6E 67 75 6C 61   // icrosoft.Singula
                                                                                                            72 69 74 79 2E 49 6F 2E 4E 65 74 2E 50 61 63 6B   // rity.Io.Net.Pack
                                                                                                            65 74 46 69 66 6F 3A 3A 67 65 74 5F 43 6F 75 6E   // etFifo::get_Coun
                                                                                                            74 7B 7D 2C 30 7D 06 00 53 0E 08 46 69 6C 65 6E   // t{},0}..S..Filen
                                                                                                            61 6D 65 55 43 3A 5C 55 73 65 72 73 5C 63 63 5C   // ameUC:\Users\cc\
                                                                                                            73 6F 75 72 63 65 5C 72 65 70 6F 73 5C 53 69 6E   // source\repos\Sin
                                                                                                            67 75 6C 61 72 69 74 79 2D 4F 53 5C 62 61 73 65   // gularity-OS\base
                                                                                                            5C 43 6F 6E 74 72 61 63 74 73 5C 49 6F 2E 4E 65   // \Contracts\Io.Ne
                                                                                                            74 2E 43 6F 6E 74 72 61 63 74 73 5C 50 61 63 6B   // t.Contracts\Pack
                                                                                                            65 74 46 69 66 6F 2E 73 67 53 08 09 53 74 61 72   // etFifo.sgS..Star
                                                                                                            74 4C 69 6E 65 49 00 00 00 53 08 0B 53 74 61 72   // tLineI...S..Star
                                                                                                            74 43 6F 6C 75 6D 6E 16 00 00 00 53 08 07 45 6E   // tColumn....S..En
                                                                                                            64 4C 69 6E 65 49 00 00 00 53 08 09 45 6E 64 43   // dLineI...S..EndC
                                                                                                            6F 6C 75 6D 6E 24 00 00 00 53 0E 0A 53 6F 75 72   // olumn$...S..Sour
                                                                                                            63 65 54 65 78 74 0E 74 68 69 73 2E 43 6F 75 6E   // ceText.this.Coun
                                                                                                            74 20 3E 20 30 )                                  // t > 0
    // Code size       185 (0xb9)
    .maxstack  12
    .locals init ([0] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFifo& V_1,
             [2] valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) packet,
             [3] int32 index,
             [4] valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_4,
             [5] int32 V_5,
             [6] valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_6,
             [7] int32 V_7,
             [8] valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) 'return value',
             [9] valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) 'SS$Display Return Local')
    .try
    {
      IL_0000:  ldarg.0
      IL_0001:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Count()
      IL_0006:  ldc.i4.0
      IL_0007:  ble        IL_0011

      IL_000c:  br         IL_001c

      IL_0011:  ldstr      "Precondition 'this.Count > 0' violated from method"
      + " 'Microsoft.Singularity.Io.Net.PacketFifo.Pop'"
      IL_0016:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_001b:  throw

      IL_001c:  leave      IL_0024

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_0021:  stloc.0
      IL_0022:  rethrow
    }  // end handler
    IL_0024:  nop
    IL_0025:  ldarg.0
    IL_0026:  stloc.1
    IL_0027:  ldloc.1
    IL_0028:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::Expose()
    .try
    {
      IL_002d:  ldarg.0
      IL_002e:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Capacity()
      IL_0033:  ldarg.0
      IL_0034:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFifo::head
      IL_0039:  add
      IL_003a:  ldarg.0
      IL_003b:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFifo::length
      IL_0040:  sub
      IL_0041:  ldarg.0
      IL_0042:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Capacity()
      IL_0047:  rem
      IL_0048:  stloc.3
      IL_0049:  ldarg.0
      IL_004a:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
      IL_004f:  stloc.s    V_4
      IL_0051:  ldloc.3
      IL_0052:  stloc.s    V_5
      IL_0054:  ldloc.s    V_4
      IL_0056:  ldloc.s    V_5
      IL_0058:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                      int32)
      .try
      {
        IL_005d:  ldarg.0
        IL_005e:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
        IL_0063:  ldloc.3
        IL_0064:  ldelem.i
        IL_0065:  stloc.s    V_6
        IL_0067:  ldloc.s    V_6
        IL_0069:  call       void [System.Compiler.Runtime]Microsoft.Contracts.NonNullType::AssertNotNull(native uint)
        IL_006e:  ldloc.s    V_6
        IL_0070:  stloc.2
        IL_0071:  ldarg.0
        IL_0072:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
        IL_0077:  ldloc.3
        IL_0078:  ldnull
        IL_0079:  stelem.i
        IL_007a:  leave      IL_0089

      }  // end .try
      finally
      {
        IL_007f:  ldloc.s    V_4
        IL_0081:  ldloc.s    V_5
        IL_0083:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                          int32)
        IL_0088:  endfinally
      }  // end handler
      IL_0089:  ldarg.0
      IL_008a:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFifo::length
      IL_008f:  stloc.s    V_7
      IL_0091:  ldarg.0
      IL_0092:  ldloc.s    V_7
      IL_0094:  ldc.i4.1
      IL_0095:  sub
      IL_0096:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFifo::length
      IL_009b:  ldloc.s    V_7
      IL_009d:  pop
      IL_009e:  ldloc.2
      IL_009f:  stloc.s    'return value'
      IL_00a1:  leave      IL_00b2

      IL_00a6:  leave      IL_00b2

    }  // end .try
    finally
    {
      IL_00ab:  ldloc.1
      IL_00ac:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::UnExpose()
      IL_00b1:  endfinally
    }  // end handler
    IL_00b2:  ldloc.s    'return value'
    IL_00b4:  stloc.s    'SS$Display Return Local'
    IL_00b6:  ldloc.s    'return value'
    IL_00b8:  ret
  } // end of method PacketFifo::Pop

  .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
  {
    // Code size       42 (0x2a)
    .maxstack  4
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_0,
             [1] int32 V_1,
             [2] int32 V_2)
    IL_0000:  ldarg.0
    IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_0006:  stloc.0
    IL_0007:  ldloc.0
    IL_0008:  ldlen
    IL_0009:  stloc.1
    IL_000a:  ldc.i4.0
    IL_000b:  stloc.2
    IL_000c:  ldloc.2
    IL_000d:  ldloc.1
    IL_000e:  bge        IL_0022

    IL_0013:  ldarg.1
    IL_0014:  ldloc.0
    IL_0015:  ldloc.2
    IL_0016:  ldelem.i
    IL_0017:  call       void Microsoft.Singularity.Io.Net.Packet::TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                     valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_001c:  ldloc.2
    IL_001d:  ldc.i4.1
    IL_001e:  add
    IL_001f:  stloc.2
    IL_0020:  br.s       IL_000c

    IL_0022:  ldarg.1
    IL_0023:  ldloc.0
    IL_0024:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_0029:  ret
  } // end of method PacketFifo::TransferContentsOwnership

  .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
  {
    // Code size       26 (0x1a)
    .maxstack  8
    IL_0000:  ldarg.1
    IL_0001:  brfalse    IL_0019

    IL_0006:  ldarg.1
    IL_0007:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFifo&
    IL_000c:  ldarg.0
    IL_000d:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
    IL_0012:  ldarg.0
    IL_0013:  ldarg.1
    IL_0014:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_0019:  ret
  } // end of method PacketFifo::TransferOwnership

  .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                      valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
  {
    // Code size       45 (0x2d)
    .maxstack  5
    .locals init ([0] int32 V_0,
             [1] int32 V_1)
    IL_0000:  ldarg.1
    IL_0001:  brfalse    IL_002c

    IL_0006:  ldarg.1
    IL_0007:  ldlen
    IL_0008:  stloc.0
    IL_0009:  ldc.i4.0
    IL_000a:  stloc.1
    IL_000b:  ldloc.1
    IL_000c:  ldloc.0
    IL_000d:  bge        IL_0025

    IL_0012:  ldarg.1
    IL_0013:  ldloc.1
    IL_0014:  ldelema    Microsoft.Singularity.Io.Net.PacketFifo
    IL_0019:  ldarg.0
    IL_001a:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
    IL_001f:  ldloc.1
    IL_0020:  ldc.i4.1
    IL_0021:  add
    IL_0022:  stloc.1
    IL_0023:  br.s       IL_000b

    IL_0025:  ldarg.0
    IL_0026:  ldarg.1
    IL_0027:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_002c:  ret
  } // end of method PacketFifo::TransferVectorOwnership

  .method public instance void  MarshallAll(uint8* basep,
                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from) cil managed
  {
    // Code size       10 (0xa)
    .maxstack  8
    IL_0000:  ldarg.0
    IL_0001:  ldarg.1
    IL_0002:  ldarg.2
    IL_0003:  ldarg.0
    IL_0004:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::MarshallContent(uint8*,
                                                                                                valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                uint8*)
    IL_0009:  ret
  } // end of method PacketFifo::MarshallAll

  .method public static void  MarshallVector(uint8* basep,
                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                             uint8* parent,
                                             valuetype Microsoft.Singularity.Io.Net.PacketFifo* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
  {
    // Code size       46 (0x2e)
    .maxstack  6
    .locals init ([0] int32 V_0,
             [1] int32 V_1)
    IL_0000:  ldarg.3
    IL_0001:  brfalse    IL_002d

    IL_0006:  ldarg.3
    IL_0007:  ldlen
    IL_0008:  stloc.0
    IL_0009:  ldc.i4.0
    IL_000a:  stloc.1
    IL_000b:  ldloc.1
    IL_000c:  ldloc.0
    IL_000d:  bge        IL_002d

    IL_0012:  ldarg.3
    IL_0013:  ldloc.1
    IL_0014:  ldelema    Microsoft.Singularity.Io.Net.PacketFifo
    IL_0019:  ldarg.0
    IL_001a:  ldarg.1
    IL_001b:  ldarg.3
    IL_001c:  ldc.i4.0
    IL_001d:  ldelema    Microsoft.Singularity.Io.Net.PacketFifo
    IL_0022:  call       instance void Microsoft.Singularity.Io.Net.PacketFifo::MarshallContent(uint8*,
                                                                                                valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                uint8*)
    IL_0027:  ldloc.1
    IL_0028:  ldc.i4.1
    IL_0029:  add
    IL_002a:  stloc.1
    IL_002b:  br.s       IL_000b

    IL_002d:  ret
  } // end of method PacketFifo::MarshallVector

  .method public instance void  MarshallContent(uint8* basep,
                                                valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                uint8* parent) cil managed
  {
    // Code size       194 (0xc2)
    .maxstack  11
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)& V_0,
             [1] int32 V_1,
             [2] int32 V_2,
             [3] valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3)
    IL_0000:  ldarg.2
    IL_0001:  ldarg.1
    IL_0002:  ldarg.0
    IL_0003:  ldflda     valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_0008:  ldtoken    valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)
    IL_000d:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_0012:  ldarg.3
    IL_0013:  ldarg.0
    IL_0014:  ldflda     valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_0019:  conv.i
    IL_001a:  ldarg.3
    IL_001b:  conv.i
    IL_001c:  sub
    IL_001d:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             uint8*,
                                                                                                                             int32)
    IL_0022:  ldarg.0
    IL_0023:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_0028:  castclass  valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)&
    IL_002d:  stloc.0
    IL_002e:  ldarg.0
    IL_002f:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_0034:  ldlen
    IL_0035:  stloc.1
    IL_0036:  ldc.i4.0
    IL_0037:  stloc.2
    IL_0038:  ldloc.2
    IL_0039:  ldloc.1
    IL_003a:  bge        IL_00c1

    IL_003f:  ldarg.0
    IL_0040:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_0045:  ldloc.2
    IL_0046:  ldelem.i
    IL_0047:  brfalse    IL_00b8

    IL_004c:  ldarg.0
    IL_004d:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_0052:  ldloc.2
    IL_0053:  ldelem.i
    IL_0054:  stloc.3
    IL_0055:  ldarg.2
    IL_0056:  ldarg.1
    IL_0057:  ldarg.0
    IL_0058:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_005d:  ldloc.2
    IL_005e:  ldelema    valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)
    IL_0063:  ldtoken    valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)
    IL_0068:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_006d:  ldarg.0
    IL_006e:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_0073:  castclass  valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)&
    IL_0078:  ldarg.0
    IL_0079:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_007e:  ldloc.2
    IL_007f:  ldelema    valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)
    IL_0084:  conv.i
    IL_0085:  ldarg.0
    IL_0086:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_008b:  castclass  valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)&
    IL_0090:  conv.i
    IL_0091:  sub
    IL_0092:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             uint8*,
                                                                                                                             int32)
    IL_0097:  ldarg.0
    IL_0098:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_009d:  ldloc.2
    IL_009e:  ldelem.i
    IL_009f:  castclass  valuetype Microsoft.Singularity.Io.Net.Packet&
    IL_00a4:  ldarg.1
    IL_00a5:  ldarg.2
    IL_00a6:  ldarg.0
    IL_00a7:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_00ac:  ldloc.2
    IL_00ad:  ldelem.i
    IL_00ae:  castclass  valuetype Microsoft.Singularity.Io.Net.Packet&
    IL_00b3:  call       instance void Microsoft.Singularity.Io.Net.Packet::MarshallContent(uint8*,
                                                                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                            uint8*)
    IL_00b8:  ldloc.2
    IL_00b9:  ldc.i4.1
    IL_00ba:  add
    IL_00bb:  stloc.2
    IL_00bc:  br         IL_0038

    IL_00c1:  ret
  } // end of method PacketFifo::MarshallContent

  .method public virtual instance void  Dispose() cil managed
  {
    // Code size       90 (0x5a)
    .maxstack  5
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) V_0,
             [1] int32 V_1,
             [2] int32 V_2,
             [3] valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) V_3)
    IL_0000:  ldarg.0
    IL_0001:  ldfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_0006:  stloc.0
    IL_0007:  ldloc.0
    IL_0008:  brfalse    IL_0059

    IL_000d:  ldloc.0
    IL_000e:  ldlen
    IL_000f:  stloc.1
    IL_0010:  ldc.i4.0
    IL_0011:  stloc.2
    IL_0012:  ldloc.2
    IL_0013:  ldloc.1
    IL_0014:  bge        IL_004c

    IL_0019:  ldloc.0
    IL_001a:  ldloc.2
    IL_001b:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::Expose(void*,
                                                                                                    int32)
    IL_0020:  ldloc.0
    IL_0021:  ldloc.2
    IL_0022:  ldelem.i
    IL_0023:  stloc.3
    IL_0024:  ldloc.3
    IL_0025:  brfalse    IL_003f

    IL_002a:  ldloc.3
    IL_002b:  castclass  valuetype Microsoft.Singularity.Io.Net.Packet&
    IL_0030:  call       instance void Microsoft.Singularity.Io.Net.Packet::Dispose()
    IL_0035:  ldloc.3
    IL_0036:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_003b:  ldloc.0
    IL_003c:  ldloc.2
    IL_003d:  ldnull
    IL_003e:  stelem.i
    IL_003f:  ldloc.0
    IL_0040:  ldloc.2
    IL_0041:  call       void [Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector::UnExpose(void*,
                                                                                                      int32)
    IL_0046:  ldloc.2
    IL_0047:  ldc.i4.1
    IL_0048:  add
    IL_0049:  stloc.2
    IL_004a:  br.s       IL_0012

    IL_004c:  ldloc.0
    IL_004d:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_0052:  ldarg.0
    IL_0053:  ldnull
    IL_0054:  stfld      valuetype Microsoft.Singularity.Io.Net.Packet* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap)* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) Microsoft.Singularity.Io.Net.PacketFifo::packets
    IL_0059:  ret
  } // end of method PacketFifo::Dispose

  .method public virtual instance void  Expose() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method PacketFifo::Expose

  .method public virtual instance void  UnExpose() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method PacketFifo::UnExpose

  .method public virtual instance void  Acquire() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method PacketFifo::Acquire

  .method public virtual instance void  Release() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method PacketFifo::Release

  .property instance int32 Capacity()
  {
    .get instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Capacity()
  } // end of property PacketFifo::Capacity
  .property instance int32 Count()
  {
    .get instance int32 Microsoft.Singularity.Io.Net.PacketFifo::get_Count()
  } // end of property PacketFifo::Count
} // end of class Microsoft.Singularity.Io.Net.PacketFifo

.class public sequential ansi beforefieldinit Microsoft.Singularity.Io.Net.PacketFragment
       extends [kernel]System.ValueType
       implements [kernel]Microsoft.SingSharp.ITracked,
                  [Microsoft.SingSharp.Runtime]System.Compiler.TypeExtensions.IRepStruct
{
  .field private uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) data
  .field private int32 start
  .field private int32 length
  .method public hidebysig instance void 
          Set(uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) buffer,
              int32 bufferStart,
              int32 bufferBytes) cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 4A 3A 3A 3C 3D 28 69 33 32 2C 69 33 32 29   // ..J::<=(i32,i32)
                                                                                                            7B 3A 3A 2B 28 69 33 32 2C 69 33 32 29 7B 24 32   // {::+(i32,i32){$2
                                                                                                            2C 24 33 7D 2C 24 31 40 5B 6B 65 72 6E 65 6C 5D   // ,$3},$1@[kernel]
                                                                                                            53 79 73 74 65 6D 2E 41 72 72 61 79 3A 3A 67 65   // System.Array::ge
                                                                                                            74 5F 4C 65 6E 67 74 68 28 29 7B 7D 7D 06 00 53   // t_Length(){}}..S
                                                                                                            0E 08 46 69 6C 65 6E 61 6D 65 59 43 3A 5C 55 73   // ..FilenameYC:\Us
                                                                                                            65 72 73 5C 63 63 5C 73 6F 75 72 63 65 5C 72 65   // ers\cc\source\re
                                                                                                            70 6F 73 5C 53 69 6E 67 75 6C 61 72 69 74 79 2D   // pos\Singularity-
                                                                                                            4F 53 5C 62 61 73 65 5C 43 6F 6E 74 72 61 63 74   // OS\base\Contract
                                                                                                            73 5C 49 6F 2E 4E 65 74 2E 43 6F 6E 74 72 61 63   // s\Io.Net.Contrac
                                                                                                            74 73 5C 50 61 63 6B 65 74 46 72 61 67 6D 65 6E   // ts\PacketFragmen
                                                                                                            74 2E 73 67 53 08 09 53 74 61 72 74 4C 69 6E 65   // t.sgS..StartLine
                                                                                                            1A 00 00 00 53 08 0B 53 74 61 72 74 43 6F 6C 75   // ....S..StartColu
                                                                                                            6D 6E 16 00 00 00 53 08 07 45 6E 64 4C 69 6E 65   // mn....S..EndLine
                                                                                                            1A 00 00 00 53 08 09 45 6E 64 43 6F 6C 75 6D 6E   // ....S..EndColumn
                                                                                                            40 00 00 00 53 0E 0A 53 6F 75 72 63 65 54 65 78   // @...S..SourceTex
                                                                                                            74 2A 62 75 66 66 65 72 53 74 61 72 74 20 2B 20   // t*bufferStart + 
                                                                                                            62 75 66 66 65 72 42 79 74 65 73 20 3C 3D 20 62   // bufferBytes <= b
                                                                                                            75 66 66 65 72 2E 4C 65 6E 67 74 68 )             // uffer.Length
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 13 3A 3A 3E 3D 28 69 33 32 2C 69 33 32 29   // ...::>=(i32,i32)
                                                                                                            7B 24 32 2C 30 7D 06 00 53 0E 08 46 69 6C 65 6E   // {$2,0}..S..Filen
                                                                                                            61 6D 65 59 43 3A 5C 55 73 65 72 73 5C 63 63 5C   // ameYC:\Users\cc\
                                                                                                            73 6F 75 72 63 65 5C 72 65 70 6F 73 5C 53 69 6E   // source\repos\Sin
                                                                                                            67 75 6C 61 72 69 74 79 2D 4F 53 5C 62 61 73 65   // gularity-OS\base
                                                                                                            5C 43 6F 6E 74 72 61 63 74 73 5C 49 6F 2E 4E 65   // \Contracts\Io.Ne
                                                                                                            74 2E 43 6F 6E 74 72 61 63 74 73 5C 50 61 63 6B   // t.Contracts\Pack
                                                                                                            65 74 46 72 61 67 6D 65 6E 74 2E 73 67 53 08 09   // etFragment.sgS..
                                                                                                            53 74 61 72 74 4C 69 6E 65 1B 00 00 00 53 08 0B   // StartLine....S..
                                                                                                            53 74 61 72 74 43 6F 6C 75 6D 6E 16 00 00 00 53   // StartColumn....S
                                                                                                            08 07 45 6E 64 4C 69 6E 65 1B 00 00 00 53 08 09   // ..EndLine....S..
                                                                                                            45 6E 64 43 6F 6C 75 6D 6E 26 00 00 00 53 0E 0A   // EndColumn&...S..
                                                                                                            53 6F 75 72 63 65 54 65 78 74 10 62 75 66 66 65   // SourceText.buffe
                                                                                                            72 53 74 61 72 74 20 3E 3D 20 30 )                // rStart >= 0
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 12 3A 3A 3E 28 69 33 32 2C 69 33 32 29 7B   // ...::>(i32,i32){
                                                                                                            24 33 2C 30 7D 06 00 53 0E 08 46 69 6C 65 6E 61   // $3,0}..S..Filena
                                                                                                            6D 65 59 43 3A 5C 55 73 65 72 73 5C 63 63 5C 73   // meYC:\Users\cc\s
                                                                                                            6F 75 72 63 65 5C 72 65 70 6F 73 5C 53 69 6E 67   // ource\repos\Sing
                                                                                                            75 6C 61 72 69 74 79 2D 4F 53 5C 62 61 73 65 5C   // ularity-OS\base\
                                                                                                            43 6F 6E 74 72 61 63 74 73 5C 49 6F 2E 4E 65 74   // Contracts\Io.Net
                                                                                                            2E 43 6F 6E 74 72 61 63 74 73 5C 50 61 63 6B 65   // .Contracts\Packe
                                                                                                            74 46 72 61 67 6D 65 6E 74 2E 73 67 53 08 09 53   // tFragment.sgS..S
                                                                                                            74 61 72 74 4C 69 6E 65 1C 00 00 00 53 08 0B 53   // tartLine....S..S
                                                                                                            74 61 72 74 43 6F 6C 75 6D 6E 16 00 00 00 53 08   // tartColumn....S.
                                                                                                            07 45 6E 64 4C 69 6E 65 1C 00 00 00 53 08 09 45   // .EndLine....S..E
                                                                                                            6E 64 43 6F 6C 75 6D 6E 25 00 00 00 53 0E 0A 53   // ndColumn%...S..S
                                                                                                            6F 75 72 63 65 54 65 78 74 0F 62 75 66 66 65 72   // ourceText.buffer
                                                                                                            42 79 74 65 73 20 3E 20 30 )                      // Bytes > 0
    // Code size       203 (0xcb)
    .maxstack  10
    .locals init ([0] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_1,
             [2] uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) V_2)
    .try
    {
      IL_0000:  ldarg.2
      IL_0001:  ldarg.3
      IL_0002:  add
      IL_0003:  ldarg.1
      IL_0004:  ldlen
      IL_0005:  conv.i4
      IL_0006:  bgt        IL_0010

      IL_000b:  br         IL_001b

      IL_0010:  ldstr      "Precondition 'bufferStart + bufferBytes <= buffer."
      + "Length' violated from method 'Microsoft.Singularity.Io.Net.PacketFragme"
      + "nt.Set(optional(Microsoft.Contracts.NonNullType) System.Byte[],System.I"
      + "nt32,System.Int32)'"
      IL_0015:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_001a:  throw

      IL_001b:  ldarg.2
      IL_001c:  ldc.i4.0
      IL_001d:  blt        IL_0027

      IL_0022:  br         IL_0032

      IL_0027:  ldstr      "Precondition 'bufferStart >= 0' violated from meth"
      + "od 'Microsoft.Singularity.Io.Net.PacketFragment.Set(optional(Microsoft."
      + "Contracts.NonNullType) System.Byte[],System.Int32,System.Int32)'"
      IL_002c:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_0031:  throw

      IL_0032:  ldarg.3
      IL_0033:  ldc.i4.0
      IL_0034:  ble        IL_003e

      IL_0039:  br         IL_0049

      IL_003e:  ldstr      "Precondition 'bufferBytes > 0' violated from metho"
      + "d 'Microsoft.Singularity.Io.Net.PacketFragment.Set(optional(Microsoft.C"
      + "ontracts.NonNullType) System.Byte[],System.Int32,System.Int32)'"
      IL_0043:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_0048:  throw

      IL_0049:  leave      IL_0051

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_004e:  stloc.0
      IL_004f:  rethrow
    }  // end handler
    IL_0051:  nop
    IL_0052:  ldarg.0
    IL_0053:  stloc.1
    IL_0054:  ldloc.1
    IL_0055:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_005a:  ldarg.0
      IL_005b:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_0060:  ldnull
      IL_0061:  beq        IL_0078

      IL_0066:  ldarg.0
      IL_0067:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_006c:  ldlen
      IL_006d:  ldarg.3
      IL_006e:  blt        IL_0078

      IL_0073:  br         IL_00a1

      IL_0078:  ldarg.0
      IL_0079:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_007e:  stloc.2
      IL_007f:  ldloc.2
      IL_0080:  brfalse    IL_008b

      IL_0085:  ldloc.2
      IL_0086:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_008b:  ldarg.0
      IL_008c:  ldtoken    [kernel]System.Byte
      IL_0091:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
      IL_0096:  ldarg.3
      IL_0097:  call       void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::AllocateVector(class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                                                                                                                                                                                                                                      int32)
      IL_009c:  stfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_00a1:  ldarg.0
      IL_00a2:  ldc.i4.0
      IL_00a3:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::start
      IL_00a8:  ldarg.0
      IL_00a9:  ldarg.3
      IL_00aa:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_00af:  ldarg.0
      IL_00b0:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_00b5:  ldc.i4.0
      IL_00b6:  ldarg.3
      IL_00b7:  ldarg.1
      IL_00b8:  ldarg.2
      IL_00b9:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Bitter::FromByteArray(uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                         int32,
                                                                                                         int32,
                                                                                                         uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                         int32)
      IL_00be:  leave      IL_00ca

    }  // end .try
    finally
    {
      IL_00c3:  ldloc.1
      IL_00c4:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_00c9:  endfinally
    }  // end handler
    IL_00ca:  ret
  } // end of method PacketFragment::Set

  .method public hidebysig instance void 
          Set(uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) buffer,
              int32 bufferStart,
              int32 bufferLength) cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 81 0C 3A 3A 3C 3D 28 69 33 32 2C 69 33 32   // ....::<=(i32,i32
                                                                                                            29 7B 3A 3A 2B 28 69 33 32 2C 69 33 32 29 7B 24   // ){::+(i32,i32){$
                                                                                                            32 2C 24 33 7D 2C 3A 3A 24 4C 64 6C 65 6E 28 6F   // 2,$3},::$Ldlen(o
                                                                                                            70 74 69 6F 6E 61 6C 28 5B 53 79 73 74 65 6D 2E   // ptional([System.
                                                                                                            43 6F 6D 70 69 6C 65 72 2E 52 75 6E 74 69 6D 65   // Compiler.Runtime
                                                                                                            5D 4D 69 63 72 6F 73 6F 66 74 2E 43 6F 6E 74 72   // ]Microsoft.Contr
                                                                                                            61 63 74 73 2E 4E 6F 6E 4E 75 6C 6C 54 79 70 65   // acts.NonNullType
                                                                                                            2C 6F 70 74 69 6F 6E 61 6C 28 5B 4D 69 63 72 6F   // ,optional([Micro
                                                                                                            73 6F 66 74 2E 53 69 6E 67 53 68 61 72 70 2E 52   // soft.SingSharp.R
                                                                                                            75 6E 74 69 6D 65 5D 4D 69 63 72 6F 73 6F 66 74   // untime]Microsoft
                                                                                                            2E 53 69 6E 67 53 68 61 72 70 2E 43 75 73 74 6F   // .SingSharp.Custo
                                                                                                            6D 56 65 63 74 6F 72 2C 6F 70 74 69 6F 6E 61 6C   // mVector,optional
                                                                                                            28 5B 4D 69 63 72 6F 73 6F 66 74 2E 53 69 6E 67   // ([Microsoft.Sing
                                                                                                            53 68 61 72 70 2E 52 75 6E 74 69 6D 65 5D 4D 69   // Sharp.Runtime]Mi
                                                                                                            63 72 6F 73 6F 66 74 2E 53 69 6E 67 75 6C 61 72   // crosoft.Singular
                                                                                                            69 74 79 2E 43 68 61 6E 6E 65 6C 73 2E 45 78 48   // ity.Channels.ExH
                                                                                                            65 61 70 2C 75 38 2A 29 29 29 29 7B 24 31 7D 7D   // eap,u8*)))){$1}}
                                                                                                            06 00 53 0E 08 46 69 6C 65 6E 61 6D 65 59 43 3A   // ..S..FilenameYC:
                                                                                                            5C 55 73 65 72 73 5C 63 63 5C 73 6F 75 72 63 65   // \Users\cc\source
                                                                                                            5C 72 65 70 6F 73 5C 53 69 6E 67 75 6C 61 72 69   // \repos\Singulari
                                                                                                            74 79 2D 4F 53 5C 62 61 73 65 5C 43 6F 6E 74 72   // ty-OS\base\Contr
                                                                                                            61 63 74 73 5C 49 6F 2E 4E 65 74 2E 43 6F 6E 74   // acts\Io.Net.Cont
                                                                                                            72 61 63 74 73 5C 50 61 63 6B 65 74 46 72 61 67   // racts\PacketFrag
                                                                                                            6D 65 6E 74 2E 73 67 53 08 09 53 74 61 72 74 4C   // ment.sgS..StartL
                                                                                                            69 6E 65 2D 00 00 00 53 08 0B 53 74 61 72 74 43   // ine-...S..StartC
                                                                                                            6F 6C 75 6D 6E 16 00 00 00 53 08 07 45 6E 64 4C   // olumn....S..EndL
                                                                                                            69 6E 65 2D 00 00 00 53 08 09 45 6E 64 43 6F 6C   // ine-...S..EndCol
                                                                                                            75 6D 6E 41 00 00 00 53 0E 0A 53 6F 75 72 63 65   // umnA...S..Source
                                                                                                            54 65 78 74 2B 62 75 66 66 65 72 53 74 61 72 74   // Text+bufferStart
                                                                                                            20 2B 20 62 75 66 66 65 72 4C 65 6E 67 74 68 20   //  + bufferLength 
                                                                                                            3C 3D 20 62 75 66 66 65 72 2E 4C 65 6E 67 74 68 ) // <= buffer.Length
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 13 3A 3A 3E 3D 28 69 33 32 2C 69 33 32 29   // ...::>=(i32,i32)
                                                                                                            7B 24 32 2C 30 7D 06 00 53 0E 08 46 69 6C 65 6E   // {$2,0}..S..Filen
                                                                                                            61 6D 65 59 43 3A 5C 55 73 65 72 73 5C 63 63 5C   // ameYC:\Users\cc\
                                                                                                            73 6F 75 72 63 65 5C 72 65 70 6F 73 5C 53 69 6E   // source\repos\Sin
                                                                                                            67 75 6C 61 72 69 74 79 2D 4F 53 5C 62 61 73 65   // gularity-OS\base
                                                                                                            5C 43 6F 6E 74 72 61 63 74 73 5C 49 6F 2E 4E 65   // \Contracts\Io.Ne
                                                                                                            74 2E 43 6F 6E 74 72 61 63 74 73 5C 50 61 63 6B   // t.Contracts\Pack
                                                                                                            65 74 46 72 61 67 6D 65 6E 74 2E 73 67 53 08 09   // etFragment.sgS..
                                                                                                            53 74 61 72 74 4C 69 6E 65 2E 00 00 00 53 08 0B   // StartLine....S..
                                                                                                            53 74 61 72 74 43 6F 6C 75 6D 6E 16 00 00 00 53   // StartColumn....S
                                                                                                            08 07 45 6E 64 4C 69 6E 65 2E 00 00 00 53 08 09   // ..EndLine....S..
                                                                                                            45 6E 64 43 6F 6C 75 6D 6E 26 00 00 00 53 0E 0A   // EndColumn&...S..
                                                                                                            53 6F 75 72 63 65 54 65 78 74 10 62 75 66 66 65   // SourceText.buffe
                                                                                                            72 53 74 61 72 74 20 3E 3D 20 30 )                // rStart >= 0
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 13 3A 3A 3E 3D 28 69 33 32 2C 69 33 32 29   // ...::>=(i32,i32)
                                                                                                            7B 24 33 2C 30 7D 06 00 53 0E 08 46 69 6C 65 6E   // {$3,0}..S..Filen
                                                                                                            61 6D 65 59 43 3A 5C 55 73 65 72 73 5C 63 63 5C   // ameYC:\Users\cc\
                                                                                                            73 6F 75 72 63 65 5C 72 65 70 6F 73 5C 53 69 6E   // source\repos\Sin
                                                                                                            67 75 6C 61 72 69 74 79 2D 4F 53 5C 62 61 73 65   // gularity-OS\base
                                                                                                            5C 43 6F 6E 74 72 61 63 74 73 5C 49 6F 2E 4E 65   // \Contracts\Io.Ne
                                                                                                            74 2E 43 6F 6E 74 72 61 63 74 73 5C 50 61 63 6B   // t.Contracts\Pack
                                                                                                            65 74 46 72 61 67 6D 65 6E 74 2E 73 67 53 08 09   // etFragment.sgS..
                                                                                                            53 74 61 72 74 4C 69 6E 65 2F 00 00 00 53 08 0B   // StartLine/...S..
                                                                                                            53 74 61 72 74 43 6F 6C 75 6D 6E 16 00 00 00 53   // StartColumn....S
                                                                                                            08 07 45 6E 64 4C 69 6E 65 2F 00 00 00 53 08 09   // ..EndLine/...S..
                                                                                                            45 6E 64 43 6F 6C 75 6D 6E 27 00 00 00 53 0E 0A   // EndColumn'...S..
                                                                                                            53 6F 75 72 63 65 54 65 78 74 11 62 75 66 66 65   // SourceText.buffe
                                                                                                            72 4C 65 6E 67 74 68 20 3E 3D 20 30 )             // rLength >= 0
    .param [1]
    .custom instance void [kernel]Microsoft.SingSharp.ClaimsAttribute::.ctor() = ( 01 00 00 00 ) 
    // Code size       154 (0x9a)
    .maxstack  7
    .locals init ([0] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_1,
             [2] uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) V_2)
    .try
    {
      IL_0000:  ldarg.2
      IL_0001:  ldarg.3
      IL_0002:  add
      IL_0003:  ldarg.1
      IL_0004:  ldlen
      IL_0005:  bgt        IL_000f

      IL_000a:  br         IL_001a

      IL_000f:  ldstr      "Precondition 'bufferStart + bufferLength <= buffer"
      + ".Length' violated from method 'Microsoft.Singularity.Io.Net.PacketFragm"
      + "ent.Set(optional(Microsoft.Contracts.NonNullType) optional(Microsoft.Si"
      + "ngSharp.CustomVector) optional(Microsoft.Singularity.Channels.ExHeap) S"
      + "ystem.Byte*,System.Int32,System.Int32)'"
      IL_0014:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_0019:  throw

      IL_001a:  ldarg.2
      IL_001b:  ldc.i4.0
      IL_001c:  blt        IL_0026

      IL_0021:  br         IL_0031

      IL_0026:  ldstr      "Precondition 'bufferStart >= 0' violated from meth"
      + "od 'Microsoft.Singularity.Io.Net.PacketFragment.Set(optional(Microsoft."
      + "Contracts.NonNullType) optional(Microsoft.SingSharp.CustomVector) optio"
      + "nal(Microsoft.Singularity.Channels.ExHeap) System.Byte*,System.Int32,Sy"
      + "stem.Int32)'"
      IL_002b:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_0030:  throw

      IL_0031:  ldarg.3
      IL_0032:  ldc.i4.0
      IL_0033:  blt        IL_003d

      IL_0038:  br         IL_0048

      IL_003d:  ldstr      "Precondition 'bufferLength >= 0' violated from met"
      + "hod 'Microsoft.Singularity.Io.Net.PacketFragment.Set(optional(Microsoft"
      + ".Contracts.NonNullType) optional(Microsoft.SingSharp.CustomVector) opti"
      + "onal(Microsoft.Singularity.Channels.ExHeap) System.Byte*,System.Int32,S"
      + "ystem.Int32)'"
      IL_0042:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_0047:  throw

      IL_0048:  leave      IL_0050

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_004d:  stloc.0
      IL_004e:  rethrow
    }  // end handler
    IL_0050:  nop
    IL_0051:  ldarg.0
    IL_0052:  stloc.1
    IL_0053:  ldloc.1
    IL_0054:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_0059:  ldarg.0
      IL_005a:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_005f:  ldnull
      IL_0060:  beq        IL_0078

      IL_0065:  ldarg.0
      IL_0066:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_006b:  stloc.2
      IL_006c:  ldloc.2
      IL_006d:  brfalse    IL_0078

      IL_0072:  ldloc.2
      IL_0073:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
      IL_0078:  ldarg.0
      IL_0079:  ldarg.1
      IL_007a:  stfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_007f:  ldarg.0
      IL_0080:  ldarg.2
      IL_0081:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::start
      IL_0086:  ldarg.0
      IL_0087:  ldarg.3
      IL_0088:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_008d:  leave      IL_0099

    }  // end .try
    finally
    {
      IL_0092:  ldloc.1
      IL_0093:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_0098:  endfinally
    }  // end handler
    IL_0099:  ret
  } // end of method PacketFragment::Set

  .method public hidebysig instance void 
          Set(class [kernel]Microsoft.Singularity.Io.IoMemory modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) region,
              native uint offset,
              native uint length) cil managed
  {
    // Code size       122 (0x7a)
    .maxstack  14
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_0,
             [1] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 'SS$Contract Marker')
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldc.i4.0
      IL_000a:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::start
      IL_000f:  ldarg.0
      IL_0010:  ldarga.s   length
      IL_0012:  call       instance uint32 [kernel]System.UIntPtr::ToUInt32()
      IL_0017:  conv.i4
      IL_0018:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_001d:  ldstr      "::<=(i32,i32){this@Microsoft.Singularity.Io.Net.Pa"
      + "cketFragment::length,::$Deref{this}@Microsoft.Singularity.Io.Net.Packet"
      + "Fragment::get_Capacity{}}"
      IL_0022:  ldstr      "this.length <= this.Capacity"
      IL_0027:  call       void [System.Compiler.Runtime]Microsoft.Contracts.AssertHelpers::AssertStatement(string,
                                                                                                            string)
      .try
      {
        IL_002c:  ldarg.0
        IL_002d:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
        IL_0032:  ldarg.0
        IL_0033:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Capacity()
        IL_0038:  ble        IL_0043

        IL_003d:  ldc.i4.0
        IL_003e:  call       void [System.Compiler.Runtime]Microsoft.Contracts.AssertHelpers::Assert(bool)
        IL_0043:  nop
        IL_0044:  leave      IL_004c

      }  // end .try
      catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
      {
        IL_0049:  stloc.1
        IL_004a:  rethrow
      }  // end handler
      IL_004c:  nop
      IL_004d:  ldarg.0
      IL_004e:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_0053:  ldarg.0
      IL_0054:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::start
      IL_0059:  ldarg.0
      IL_005a:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_005f:  ldarg.1
      IL_0060:  ldarga.s   offset
      IL_0062:  call       instance uint32 [kernel]System.UIntPtr::ToUInt32()
      IL_0067:  conv.i4
      IL_0068:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Bitter::FromIoMemory(uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector),
                                                                                                        int32,
                                                                                                        int32,
                                                                                                        class [kernel]Microsoft.Singularity.Io.IoMemory,
                                                                                                        int32)
      IL_006d:  leave      IL_0079

    }  // end .try
    finally
    {
      IL_0072:  ldloc.0
      IL_0073:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_0078:  endfinally
    }  // end handler
    IL_0079:  ret
  } // end of method PacketFragment::Set

  .method public hidebysig specialname instance int32 
          get_Length() cil managed
  {
    // Code size       36 (0x24)
    .maxstack  5
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_0,
             [1] int32 'return value',
             [2] int32 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_000e:  stloc.1
      IL_000f:  leave      IL_0020

      IL_0014:  leave      IL_0020

    }  // end .try
    finally
    {
      IL_0019:  ldloc.0
      IL_001a:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_001f:  endfinally
    }  // end handler
    IL_0020:  ldloc.1
    IL_0021:  stloc.2
    IL_0022:  ldloc.1
    IL_0023:  ret
  } // end of method PacketFragment::get_Length

  .method public hidebysig specialname instance void 
          set_Length(int32 'value') cil managed
  {
    // Code size       71 (0x47)
    .maxstack  8
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_0,
             [1] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 'SS$Contract Marker')
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_0008:  ldstr      "::<=(i32,i32){$1,::$Deref{this}@Microsoft.Singular"
      + "ity.Io.Net.PacketFragment::get_Capacity{}}"
      IL_000d:  ldstr      "value <= this.Capacity"
      IL_0012:  call       void [System.Compiler.Runtime]Microsoft.Contracts.AssertHelpers::AssertStatement(string,
                                                                                                            string)
      .try
      {
        IL_0017:  ldarg.1
        IL_0018:  ldarg.0
        IL_0019:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Capacity()
        IL_001e:  ble        IL_0029

        IL_0023:  ldc.i4.0
        IL_0024:  call       void [System.Compiler.Runtime]Microsoft.Contracts.AssertHelpers::Assert(bool)
        IL_0029:  nop
        IL_002a:  leave      IL_0032

      }  // end .try
      catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
      {
        IL_002f:  stloc.1
        IL_0030:  rethrow
      }  // end handler
      IL_0032:  nop
      IL_0033:  ldarg.0
      IL_0034:  ldarg.1
      IL_0035:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_003a:  leave      IL_0046

    }  // end .try
    finally
    {
      IL_003f:  ldloc.0
      IL_0040:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_0045:  endfinally
    }  // end handler
    IL_0046:  ret
  } // end of method PacketFragment::set_Length

  .method public hidebysig specialname instance int32 
          get_Capacity() cil managed
  {
    // Code size       55 (0x37)
    .maxstack  8
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_0,
             [1] int32 'return value',
             [2] int32 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_000e:  ldnull
      IL_000f:  bne.un     IL_001a

      IL_0014:  ldc.i4.0
      IL_0015:  br         IL_0021

      IL_001a:  ldarg.0
      IL_001b:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_0020:  ldlen
      IL_0021:  stloc.1
      IL_0022:  leave      IL_0033

      IL_0027:  leave      IL_0033

    }  // end .try
    finally
    {
      IL_002c:  ldloc.0
      IL_002d:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_0032:  endfinally
    }  // end handler
    IL_0033:  ldloc.1
    IL_0034:  stloc.2
    IL_0035:  ldloc.1
    IL_0036:  ret
  } // end of method PacketFragment::get_Capacity

  .method assembly hidebysig specialname 
          instance int32  get_Start() cil managed
  {
    // Code size       36 (0x24)
    .maxstack  5
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_0,
             [1] int32 'return value',
             [2] int32 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::start
      IL_000e:  stloc.1
      IL_000f:  leave      IL_0020

      IL_0014:  leave      IL_0020

    }  // end .try
    finally
    {
      IL_0019:  ldloc.0
      IL_001a:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_001f:  endfinally
    }  // end handler
    IL_0020:  ldloc.1
    IL_0021:  stloc.2
    IL_0022:  ldloc.1
    IL_0023:  ret
  } // end of method PacketFragment::get_Start

  .method public hidebysig specialname instance bool 
          get_HasData() cil managed
  {
    // Code size       49 (0x31)
    .maxstack  8
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_0,
             [1] bool 'return value',
             [2] bool 'SS$Display Return Local')
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_000e:  ldnull
      IL_000f:  bne.un     IL_001a

      IL_0014:  ldc.i4.0
      IL_0015:  br         IL_001b

      IL_001a:  ldc.i4.1
      IL_001b:  stloc.1
      IL_001c:  leave      IL_002d

      IL_0021:  leave      IL_002d

    }  // end .try
    finally
    {
      IL_0026:  ldloc.0
      IL_0027:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_002c:  endfinally
    }  // end handler
    IL_002d:  ldloc.1
    IL_002e:  stloc.2
    IL_002f:  ldloc.1
    IL_0030:  ret
  } // end of method PacketFragment::get_HasData

  .method public hidebysig instance void 
          TrimHead(int32 bytesToTrim) cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 5A 3A 3A 3C 3D 28 69 33 32 2C 69 33 32 29   // ..Z::<=(i32,i32)
                                                                                                            7B 24 31 2C 3A 3A 24 44 65 72 65 66 7B 74 68 69   // {$1,::$Deref{thi
                                                                                                            73 7D 40 4D 69 63 72 6F 73 6F 66 74 2E 53 69 6E   // s}@Microsoft.Sin
                                                                                                            67 75 6C 61 72 69 74 79 2E 49 6F 2E 4E 65 74 2E   // gularity.Io.Net.
                                                                                                            50 61 63 6B 65 74 46 72 61 67 6D 65 6E 74 3A 3A   // PacketFragment::
                                                                                                            67 65 74 5F 4C 65 6E 67 74 68 7B 7D 7D 06 00 53   // get_Length{}}..S
                                                                                                            0E 08 46 69 6C 65 6E 61 6D 65 59 43 3A 5C 55 73   // ..FilenameYC:\Us
                                                                                                            65 72 73 5C 63 63 5C 73 6F 75 72 63 65 5C 72 65   // ers\cc\source\re
                                                                                                            70 6F 73 5C 53 69 6E 67 75 6C 61 72 69 74 79 2D   // pos\Singularity-
                                                                                                            4F 53 5C 62 61 73 65 5C 43 6F 6E 74 72 61 63 74   // OS\base\Contract
                                                                                                            73 5C 49 6F 2E 4E 65 74 2E 43 6F 6E 74 72 61 63   // s\Io.Net.Contrac
                                                                                                            74 73 5C 50 61 63 6B 65 74 46 72 61 67 6D 65 6E   // ts\PacketFragmen
                                                                                                            74 2E 73 67 53 08 09 53 74 61 72 74 4C 69 6E 65   // t.sgS..StartLine
                                                                                                            68 00 00 00 53 08 0B 53 74 61 72 74 43 6F 6C 75   // h...S..StartColu
                                                                                                            6D 6E 16 00 00 00 53 08 07 45 6E 64 4C 69 6E 65   // mn....S..EndLine
                                                                                                            68 00 00 00 53 08 09 45 6E 64 43 6F 6C 75 6D 6E   // h...S..EndColumn
                                                                                                            30 00 00 00 53 0E 0A 53 6F 75 72 63 65 54 65 78   // 0...S..SourceTex
                                                                                                            74 1A 62 79 74 65 73 54 6F 54 72 69 6D 20 3C 3D   // t.bytesToTrim <=
                                                                                                            20 74 68 69 73 2E 4C 65 6E 67 74 68 )             //  this.Length
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.EnsuresAttribute::.ctor(string) = ( 01 00 80 B7 3A 3A 3D 3D 28 69 33 32 2C 69 33 32   // ....::==(i32,i32
                                                                                                           29 7B 3A 3A 24 44 65 72 65 66 7B 74 68 69 73 7D   // ){::$Deref{this}
                                                                                                           40 4D 69 63 72 6F 73 6F 66 74 2E 53 69 6E 67 75   // @Microsoft.Singu
                                                                                                           6C 61 72 69 74 79 2E 49 6F 2E 4E 65 74 2E 50 61   // larity.Io.Net.Pa
                                                                                                           63 6B 65 74 46 72 61 67 6D 65 6E 74 3A 3A 67 65   // cketFragment::ge
                                                                                                           74 5F 4C 65 6E 67 74 68 7B 7D 2C 3A 3A 2D 28 69   // t_Length{},::-(i
                                                                                                           33 32 2C 69 33 32 29 7B 5C 6F 6C 64 28 3A 3A 24   // 32,i32){\old(::$
                                                                                                           44 65 72 65 66 7B 74 68 69 73 7D 40 4D 69 63 72   // Deref{this}@Micr
                                                                                                           6F 73 6F 66 74 2E 53 69 6E 67 75 6C 61 72 69 74   // osoft.Singularit
                                                                                                           79 2E 49 6F 2E 4E 65 74 2E 50 61 63 6B 65 74 46   // y.Io.Net.PacketF
                                                                                                           72 61 67 6D 65 6E 74 3A 3A 67 65 74 5F 4C 65 6E   // ragment::get_Len
                                                                                                           67 74 68 7B 7D 29 2C 24 31 7D 7D 06 00 53 0E 08   // gth{}),$1}}..S..
                                                                                                           46 69 6C 65 6E 61 6D 65 59 43 3A 5C 55 73 65 72   // FilenameYC:\User
                                                                                                           73 5C 63 63 5C 73 6F 75 72 63 65 5C 72 65 70 6F   // s\cc\source\repo
                                                                                                           73 5C 53 69 6E 67 75 6C 61 72 69 74 79 2D 4F 53   // s\Singularity-OS
                                                                                                           5C 62 61 73 65 5C 43 6F 6E 74 72 61 63 74 73 5C   // \base\Contracts\
                                                                                                           49 6F 2E 4E 65 74 2E 43 6F 6E 74 72 61 63 74 73   // Io.Net.Contracts
                                                                                                           5C 50 61 63 6B 65 74 46 72 61 67 6D 65 6E 74 2E   // \PacketFragment.
                                                                                                           73 67 53 08 09 53 74 61 72 74 4C 69 6E 65 69 00   // sgS..StartLinei.
                                                                                                           00 00 53 08 0B 53 74 61 72 74 43 6F 6C 75 6D 6E   // ..S..StartColumn
                                                                                                           15 00 00 00 53 08 07 45 6E 64 4C 69 6E 65 69 00   // ....S..EndLinei.
                                                                                                           00 00 53 08 09 45 6E 64 43 6F 6C 75 6D 6E 38 00   // ..S..EndColumn8.
                                                                                                           00 00 53 0E 0A 53 6F 75 72 63 65 54 65 78 74 23   // ..S..SourceText#
                                                                                                           4C 65 6E 67 74 68 20 3D 3D 20 6F 6C 64 28 4C 65   // Length == old(Le
                                                                                                           6E 67 74 68 29 20 2D 20 62 79 74 65 73 54 6F 54   // ngth) - bytesToT
                                                                                                           72 69 6D )                                        // rim
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.EnsuresAttribute::.ctor(string) = ( 01 00 80 B5 3A 3A 3D 3D 28 69 33 32 2C 69 33 32   // ....::==(i32,i32
                                                                                                           29 7B 3A 3A 24 44 65 72 65 66 7B 74 68 69 73 7D   // ){::$Deref{this}
                                                                                                           40 4D 69 63 72 6F 73 6F 66 74 2E 53 69 6E 67 75   // @Microsoft.Singu
                                                                                                           6C 61 72 69 74 79 2E 49 6F 2E 4E 65 74 2E 50 61   // larity.Io.Net.Pa
                                                                                                           63 6B 65 74 46 72 61 67 6D 65 6E 74 3A 3A 67 65   // cketFragment::ge
                                                                                                           74 5F 53 74 61 72 74 7B 7D 2C 3A 3A 2B 28 69 33   // t_Start{},::+(i3
                                                                                                           32 2C 69 33 32 29 7B 5C 6F 6C 64 28 3A 3A 24 44   // 2,i32){\old(::$D
                                                                                                           65 72 65 66 7B 74 68 69 73 7D 40 4D 69 63 72 6F   // eref{this}@Micro
                                                                                                           73 6F 66 74 2E 53 69 6E 67 75 6C 61 72 69 74 79   // soft.Singularity
                                                                                                           2E 49 6F 2E 4E 65 74 2E 50 61 63 6B 65 74 46 72   // .Io.Net.PacketFr
                                                                                                           61 67 6D 65 6E 74 3A 3A 67 65 74 5F 53 74 61 72   // agment::get_Star
                                                                                                           74 7B 7D 29 2C 24 31 7D 7D 06 00 53 0E 08 46 69   // t{}),$1}}..S..Fi
                                                                                                           6C 65 6E 61 6D 65 59 43 3A 5C 55 73 65 72 73 5C   // lenameYC:\Users\
                                                                                                           63 63 5C 73 6F 75 72 63 65 5C 72 65 70 6F 73 5C   // cc\source\repos\
                                                                                                           53 69 6E 67 75 6C 61 72 69 74 79 2D 4F 53 5C 62   // Singularity-OS\b
                                                                                                           61 73 65 5C 43 6F 6E 74 72 61 63 74 73 5C 49 6F   // ase\Contracts\Io
                                                                                                           2E 4E 65 74 2E 43 6F 6E 74 72 61 63 74 73 5C 50   // .Net.Contracts\P
                                                                                                           61 63 6B 65 74 46 72 61 67 6D 65 6E 74 2E 73 67   // acketFragment.sg
                                                                                                           53 08 09 53 74 61 72 74 4C 69 6E 65 6A 00 00 00   // S..StartLinej...
                                                                                                           53 08 0B 53 74 61 72 74 43 6F 6C 75 6D 6E 15 00   // S..StartColumn..
                                                                                                           00 00 53 08 07 45 6E 64 4C 69 6E 65 6A 00 00 00   // ..S..EndLinej...
                                                                                                           53 08 09 45 6E 64 43 6F 6C 75 6D 6E 40 00 00 00   // S..EndColumn@...
                                                                                                           53 0E 0A 53 6F 75 72 63 65 54 65 78 74 2B 74 68   // S..SourceText+th
                                                                                                           69 73 2E 53 74 61 72 74 20 3D 3D 20 6F 6C 64 28   // is.Start == old(
                                                                                                           74 68 69 73 2E 53 74 61 72 74 29 20 2B 20 62 79   // this.Start) + by
                                                                                                           74 65 73 54 6F 54 72 69 6D )                      // tesToTrim
    // Code size       172 (0xac)
    .maxstack  12
    .locals init ([0] int32 'old(Length)',
             [1] int32 'old(this.Start)',
             [2] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_2,
             [3] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_3,
             [4] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_4)
    .try
    {
      IL_0000:  ldarg.1
      IL_0001:  ldarg.0
      IL_0002:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Length()
      IL_0007:  bgt        IL_0011

      IL_000c:  br         IL_001c

      IL_0011:  ldstr      "Precondition 'bytesToTrim <= this.Length' violated"
      + " from method 'Microsoft.Singularity.Io.Net.PacketFragment.TrimHead(Syst"
      + "em.Int32)'"
      IL_0016:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_001b:  throw

      IL_001c:  ldarg.0
      IL_001d:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Length()
      IL_0022:  stloc.0
      IL_0023:  ldarg.0
      IL_0024:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Start()
      IL_0029:  stloc.1
      IL_002a:  leave      IL_0032

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_002f:  stloc.2
      IL_0030:  rethrow
    }  // end handler
    IL_0032:  nop
    IL_0033:  ldarg.0
    IL_0034:  stloc.3
    IL_0035:  ldloc.3
    IL_0036:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_003b:  ldarg.0
      IL_003c:  ldarg.0
      IL_003d:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::start
      IL_0042:  ldarg.1
      IL_0043:  add
      IL_0044:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::start
      IL_0049:  ldarg.0
      IL_004a:  ldarg.0
      IL_004b:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_0050:  ldarg.1
      IL_0051:  sub
      IL_0052:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_0057:  leave      IL_0063

    }  // end .try
    finally
    {
      IL_005c:  ldloc.3
      IL_005d:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_0062:  endfinally
    }  // end handler
    .try
    {
      IL_0063:  ldarg.0
      IL_0064:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Length()
      IL_0069:  ldloc.0
      IL_006a:  ldarg.1
      IL_006b:  sub
      IL_006c:  bne.un     IL_0076

      IL_0071:  br         IL_0081

      IL_0076:  ldstr      "Postcondition 'Length == old(Length) - bytesToTrim"
      + "' violated from method 'Microsoft.Singularity.Io.Net.PacketFragment.Tri"
      + "mHead(System.Int32)'"
      IL_007b:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.EnsuresException::.ctor(string)
      IL_0080:  throw

      IL_0081:  nop
      IL_0082:  ldarg.0
      IL_0083:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Start()
      IL_0088:  ldloc.1
      IL_0089:  ldarg.1
      IL_008a:  add
      IL_008b:  bne.un     IL_0095

      IL_0090:  br         IL_00a0

      IL_0095:  ldstr      "Postcondition 'this.Start == old(this.Start) + byt"
      + "esToTrim' violated from method 'Microsoft.Singularity.Io.Net.PacketFrag"
      + "ment.TrimHead(System.Int32)'"
      IL_009a:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.EnsuresException::.ctor(string)
      IL_009f:  throw

      IL_00a0:  nop
      IL_00a1:  leave      IL_00aa

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_00a6:  stloc.s    V_4
      IL_00a8:  rethrow
    }  // end handler
    IL_00aa:  nop
    IL_00ab:  ret
  } // end of method PacketFragment::TrimHead

  .method public hidebysig instance void 
          TrimTail(int32 bytesToTrim) cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 5A 3A 3A 3C 3D 28 69 33 32 2C 69 33 32 29   // ..Z::<=(i32,i32)
                                                                                                            7B 24 31 2C 3A 3A 24 44 65 72 65 66 7B 74 68 69   // {$1,::$Deref{thi
                                                                                                            73 7D 40 4D 69 63 72 6F 73 6F 66 74 2E 53 69 6E   // s}@Microsoft.Sin
                                                                                                            67 75 6C 61 72 69 74 79 2E 49 6F 2E 4E 65 74 2E   // gularity.Io.Net.
                                                                                                            50 61 63 6B 65 74 46 72 61 67 6D 65 6E 74 3A 3A   // PacketFragment::
                                                                                                            67 65 74 5F 4C 65 6E 67 74 68 7B 7D 7D 06 00 53   // get_Length{}}..S
                                                                                                            0E 08 46 69 6C 65 6E 61 6D 65 59 43 3A 5C 55 73   // ..FilenameYC:\Us
                                                                                                            65 72 73 5C 63 63 5C 73 6F 75 72 63 65 5C 72 65   // ers\cc\source\re
                                                                                                            70 6F 73 5C 53 69 6E 67 75 6C 61 72 69 74 79 2D   // pos\Singularity-
                                                                                                            4F 53 5C 62 61 73 65 5C 43 6F 6E 74 72 61 63 74   // OS\base\Contract
                                                                                                            73 5C 49 6F 2E 4E 65 74 2E 43 6F 6E 74 72 61 63   // s\Io.Net.Contrac
                                                                                                            74 73 5C 50 61 63 6B 65 74 46 72 61 67 6D 65 6E   // ts\PacketFragmen
                                                                                                            74 2E 73 67 53 08 09 53 74 61 72 74 4C 69 6E 65   // t.sgS..StartLine
                                                                                                            73 00 00 00 53 08 0B 53 74 61 72 74 43 6F 6C 75   // s...S..StartColu
                                                                                                            6D 6E 16 00 00 00 53 08 07 45 6E 64 4C 69 6E 65   // mn....S..EndLine
                                                                                                            73 00 00 00 53 08 09 45 6E 64 43 6F 6C 75 6D 6E   // s...S..EndColumn
                                                                                                            30 00 00 00 53 0E 0A 53 6F 75 72 63 65 54 65 78   // 0...S..SourceTex
                                                                                                            74 1A 62 79 74 65 73 54 6F 54 72 69 6D 20 3C 3D   // t.bytesToTrim <=
                                                                                                            20 74 68 69 73 2E 4C 65 6E 67 74 68 )             //  this.Length
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.EnsuresAttribute::.ctor(string) = ( 01 00 80 B7 3A 3A 3D 3D 28 69 33 32 2C 69 33 32   // ....::==(i32,i32
                                                                                                           29 7B 3A 3A 24 44 65 72 65 66 7B 74 68 69 73 7D   // ){::$Deref{this}
                                                                                                           40 4D 69 63 72 6F 73 6F 66 74 2E 53 69 6E 67 75   // @Microsoft.Singu
                                                                                                           6C 61 72 69 74 79 2E 49 6F 2E 4E 65 74 2E 50 61   // larity.Io.Net.Pa
                                                                                                           63 6B 65 74 46 72 61 67 6D 65 6E 74 3A 3A 67 65   // cketFragment::ge
                                                                                                           74 5F 4C 65 6E 67 74 68 7B 7D 2C 3A 3A 2D 28 69   // t_Length{},::-(i
                                                                                                           33 32 2C 69 33 32 29 7B 5C 6F 6C 64 28 3A 3A 24   // 32,i32){\old(::$
                                                                                                           44 65 72 65 66 7B 74 68 69 73 7D 40 4D 69 63 72   // Deref{this}@Micr
                                                                                                           6F 73 6F 66 74 2E 53 69 6E 67 75 6C 61 72 69 74   // osoft.Singularit
                                                                                                           79 2E 49 6F 2E 4E 65 74 2E 50 61 63 6B 65 74 46   // y.Io.Net.PacketF
                                                                                                           72 61 67 6D 65 6E 74 3A 3A 67 65 74 5F 4C 65 6E   // ragment::get_Len
                                                                                                           67 74 68 7B 7D 29 2C 24 31 7D 7D 06 00 53 0E 08   // gth{}),$1}}..S..
                                                                                                           46 69 6C 65 6E 61 6D 65 59 43 3A 5C 55 73 65 72   // FilenameYC:\User
                                                                                                           73 5C 63 63 5C 73 6F 75 72 63 65 5C 72 65 70 6F   // s\cc\source\repo
                                                                                                           73 5C 53 69 6E 67 75 6C 61 72 69 74 79 2D 4F 53   // s\Singularity-OS
                                                                                                           5C 62 61 73 65 5C 43 6F 6E 74 72 61 63 74 73 5C   // \base\Contracts\
                                                                                                           49 6F 2E 4E 65 74 2E 43 6F 6E 74 72 61 63 74 73   // Io.Net.Contracts
                                                                                                           5C 50 61 63 6B 65 74 46 72 61 67 6D 65 6E 74 2E   // \PacketFragment.
                                                                                                           73 67 53 08 09 53 74 61 72 74 4C 69 6E 65 74 00   // sgS..StartLinet.
                                                                                                           00 00 53 08 0B 53 74 61 72 74 43 6F 6C 75 6D 6E   // ..S..StartColumn
                                                                                                           15 00 00 00 53 08 07 45 6E 64 4C 69 6E 65 74 00   // ....S..EndLinet.
                                                                                                           00 00 53 08 09 45 6E 64 43 6F 6C 75 6D 6E 38 00   // ..S..EndColumn8.
                                                                                                           00 00 53 0E 0A 53 6F 75 72 63 65 54 65 78 74 23   // ..S..SourceText#
                                                                                                           4C 65 6E 67 74 68 20 3D 3D 20 6F 6C 64 28 4C 65   // Length == old(Le
                                                                                                           6E 67 74 68 29 20 2D 20 62 79 74 65 73 54 6F 54   // ngth) - bytesToT
                                                                                                           72 69 6D )                                        // rim
    // Code size       119 (0x77)
    .maxstack  10
    .locals init ([0] int32 'old(Length)',
             [1] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_1,
             [2] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_2,
             [3] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_3)
    .try
    {
      IL_0000:  ldarg.1
      IL_0001:  ldarg.0
      IL_0002:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Length()
      IL_0007:  bgt        IL_0011

      IL_000c:  br         IL_001c

      IL_0011:  ldstr      "Precondition 'bytesToTrim <= this.Length' violated"
      + " from method 'Microsoft.Singularity.Io.Net.PacketFragment.TrimTail(Syst"
      + "em.Int32)'"
      IL_0016:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_001b:  throw

      IL_001c:  ldarg.0
      IL_001d:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Length()
      IL_0022:  stloc.0
      IL_0023:  leave      IL_002b

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_0028:  stloc.1
      IL_0029:  rethrow
    }  // end handler
    IL_002b:  nop
    IL_002c:  ldarg.0
    IL_002d:  stloc.2
    IL_002e:  ldloc.2
    IL_002f:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_0034:  ldarg.0
      IL_0035:  ldarg.0
      IL_0036:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_003b:  ldarg.1
      IL_003c:  sub
      IL_003d:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_0042:  leave      IL_004e

    }  // end .try
    finally
    {
      IL_0047:  ldloc.2
      IL_0048:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_004d:  endfinally
    }  // end handler
    .try
    {
      IL_004e:  ldarg.0
      IL_004f:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Length()
      IL_0054:  ldloc.0
      IL_0055:  ldarg.1
      IL_0056:  sub
      IL_0057:  bne.un     IL_0061

      IL_005c:  br         IL_006c

      IL_0061:  ldstr      "Postcondition 'Length == old(Length) - bytesToTrim"
      + "' violated from method 'Microsoft.Singularity.Io.Net.PacketFragment.Tri"
      + "mTail(System.Int32)'"
      IL_0066:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.EnsuresException::.ctor(string)
      IL_006b:  throw

      IL_006c:  nop
      IL_006d:  leave      IL_0075

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_0072:  stloc.3
      IL_0073:  rethrow
    }  // end handler
    IL_0075:  nop
    IL_0076:  ret
  } // end of method PacketFragment::TrimTail

  .method public hidebysig instance void 
          Untrim() cil managed
  {
    // Code size       40 (0x28)
    .maxstack  8
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_0)
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldc.i4.0
      IL_000a:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::start
      IL_000f:  ldarg.0
      IL_0010:  ldarg.0
      IL_0011:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Capacity()
      IL_0016:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_001b:  leave      IL_0027

    }  // end .try
    finally
    {
      IL_0020:  ldloc.0
      IL_0021:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_0026:  endfinally
    }  // end handler
    IL_0027:  ret
  } // end of method PacketFragment::Untrim

  .method public hidebysig instance void 
          GetFragmentRange([out] native uint& virtualAddr,
                           [out] int32& lengthBytes) cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.PureAttribute::.ctor() = ( 01 00 00 00 ) 
    // Code size       76 (0x4c)
    .maxstack  9
    .locals init ([0] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_0)
    IL_0000:  ldarg.0
    IL_0001:  stloc.0
    IL_0002:  ldloc.0
    IL_0003:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_0008:  ldarg.0
      IL_0009:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_000e:  ldnull
      IL_000f:  beq        IL_0034

      IL_0014:  ldarg.1
      IL_0015:  ldarg.0
      IL_0016:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_001b:  ldarg.0
      IL_001c:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::start
      IL_0021:  call       native uint [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Bitter::ToAddress(uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                            int32)
      IL_0026:  stind.i
      IL_0027:  ldarg.2
      IL_0028:  ldarg.0
      IL_0029:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_002e:  stind.i4
      IL_002f:  br         IL_003f

      IL_0034:  ldarg.1
      IL_0035:  ldsfld     native uint [kernel]System.UIntPtr::Zero
      IL_003a:  stind.i
      IL_003b:  ldarg.2
      IL_003c:  ldc.i4.0
      IL_003d:  stind.i4
      IL_003e:  nop
      IL_003f:  leave      IL_004b

    }  // end .try
    finally
    {
      IL_0044:  ldloc.0
      IL_0045:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_004a:  endfinally
    }  // end handler
    IL_004b:  ret
  } // end of method PacketFragment::GetFragmentRange

  .method public hidebysig instance int32 
          Copy(uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType) destination,
               int32 offset) cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 13 3A 3A 3E 3D 28 69 33 32 2C 69 33 32 29   // ...::>=(i32,i32)
                                                                                                            7B 24 32 2C 30 7D 06 00 53 0E 08 46 69 6C 65 6E   // {$2,0}..S..Filen
                                                                                                            61 6D 65 59 43 3A 5C 55 73 65 72 73 5C 63 63 5C   // ameYC:\Users\cc\
                                                                                                            73 6F 75 72 63 65 5C 72 65 70 6F 73 5C 53 69 6E   // source\repos\Sin
                                                                                                            67 75 6C 61 72 69 74 79 2D 4F 53 5C 62 61 73 65   // gularity-OS\base
                                                                                                            5C 43 6F 6E 74 72 61 63 74 73 5C 49 6F 2E 4E 65   // \Contracts\Io.Ne
                                                                                                            74 2E 43 6F 6E 74 72 61 63 74 73 5C 50 61 63 6B   // t.Contracts\Pack
                                                                                                            65 74 46 72 61 67 6D 65 6E 74 2E 73 67 53 08 09   // etFragment.sgS..
                                                                                                            53 74 61 72 74 4C 69 6E 65 94 00 00 00 53 08 0B   // StartLine....S..
                                                                                                            53 74 61 72 74 43 6F 6C 75 6D 6E 16 00 00 00 53   // StartColumn....S
                                                                                                            08 07 45 6E 64 4C 69 6E 65 94 00 00 00 53 08 09   // ..EndLine....S..
                                                                                                            45 6E 64 43 6F 6C 75 6D 6E 21 00 00 00 53 0E 0A   // EndColumn!...S..
                                                                                                            53 6F 75 72 63 65 54 65 78 74 0B 6F 66 66 73 65   // SourceText.offse
                                                                                                            74 20 3E 3D 20 30 )                               // t >= 0
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 38 3A 3A 3C 28 69 33 32 2C 69 33 32 29 7B   // ..8::<(i32,i32){
                                                                                                            24 32 2C 24 31 40 5B 6B 65 72 6E 65 6C 5D 53 79   // $2,$1@[kernel]Sy
                                                                                                            73 74 65 6D 2E 41 72 72 61 79 3A 3A 67 65 74 5F   // stem.Array::get_
                                                                                                            4C 65 6E 67 74 68 28 29 7B 7D 7D 06 00 53 0E 08   // Length(){}}..S..
                                                                                                            46 69 6C 65 6E 61 6D 65 59 43 3A 5C 55 73 65 72   // FilenameYC:\User
                                                                                                            73 5C 63 63 5C 73 6F 75 72 63 65 5C 72 65 70 6F   // s\cc\source\repo
                                                                                                            73 5C 53 69 6E 67 75 6C 61 72 69 74 79 2D 4F 53   // s\Singularity-OS
                                                                                                            5C 62 61 73 65 5C 43 6F 6E 74 72 61 63 74 73 5C   // \base\Contracts\
                                                                                                            49 6F 2E 4E 65 74 2E 43 6F 6E 74 72 61 63 74 73   // Io.Net.Contracts
                                                                                                            5C 50 61 63 6B 65 74 46 72 61 67 6D 65 6E 74 2E   // \PacketFragment.
                                                                                                            73 67 53 08 09 53 74 61 72 74 4C 69 6E 65 94 00   // sgS..StartLine..
                                                                                                            00 00 53 08 0B 53 74 61 72 74 43 6F 6C 75 6D 6E   // ..S..StartColumn
                                                                                                            25 00 00 00 53 08 07 45 6E 64 4C 69 6E 65 94 00   // %...S..EndLine..
                                                                                                            00 00 53 08 09 45 6E 64 43 6F 6C 75 6D 6E 40 00   // ..S..EndColumn@.
                                                                                                            00 00 53 0E 0A 53 6F 75 72 63 65 54 65 78 74 1B   // ..S..SourceText.
                                                                                                            6F 66 66 73 65 74 20 3C 20 64 65 73 74 69 6E 61   // offset < destina
                                                                                                            74 69 6F 6E 2E 4C 65 6E 67 74 68 )                // tion.Length
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 80 90 3A 3A 3E 3D 28 69 33 32 2C 69 33 32   // ....::>=(i32,i32
                                                                                                            29 7B 3A 3A 2D 28 69 33 32 2C 69 33 32 29 7B 24   // ){::-(i32,i32){$
                                                                                                            31 40 5B 6B 65 72 6E 65 6C 5D 53 79 73 74 65 6D   // 1@[kernel]System
                                                                                                            2E 41 72 72 61 79 3A 3A 67 65 74 5F 4C 65 6E 67   // .Array::get_Leng
                                                                                                            74 68 28 29 7B 7D 2C 24 32 7D 2C 3A 3A 24 44 65   // th(){},$2},::$De
                                                                                                            72 65 66 7B 74 68 69 73 7D 40 4D 69 63 72 6F 73   // ref{this}@Micros
                                                                                                            6F 66 74 2E 53 69 6E 67 75 6C 61 72 69 74 79 2E   // oft.Singularity.
                                                                                                            49 6F 2E 4E 65 74 2E 50 61 63 6B 65 74 46 72 61   // Io.Net.PacketFra
                                                                                                            67 6D 65 6E 74 3A 3A 67 65 74 5F 4C 65 6E 67 74   // gment::get_Lengt
                                                                                                            68 7B 7D 7D 06 00 53 0E 08 46 69 6C 65 6E 61 6D   // h{}}..S..Filenam
                                                                                                            65 59 43 3A 5C 55 73 65 72 73 5C 63 63 5C 73 6F   // eYC:\Users\cc\so
                                                                                                            75 72 63 65 5C 72 65 70 6F 73 5C 53 69 6E 67 75   // urce\repos\Singu
                                                                                                            6C 61 72 69 74 79 2D 4F 53 5C 62 61 73 65 5C 43   // larity-OS\base\C
                                                                                                            6F 6E 74 72 61 63 74 73 5C 49 6F 2E 4E 65 74 2E   // ontracts\Io.Net.
                                                                                                            43 6F 6E 74 72 61 63 74 73 5C 50 61 63 6B 65 74   // Contracts\Packet
                                                                                                            46 72 61 67 6D 65 6E 74 2E 73 67 53 08 09 53 74   // Fragment.sgS..St
                                                                                                            61 72 74 4C 69 6E 65 95 00 00 00 53 08 0B 53 74   // artLine....S..St
                                                                                                            61 72 74 43 6F 6C 75 6D 6E 16 00 00 00 53 08 07   // artColumn....S..
                                                                                                            45 6E 64 4C 69 6E 65 95 00 00 00 53 08 09 45 6E   // EndLine....S..En
                                                                                                            64 43 6F 6C 75 6D 6E 40 00 00 00 53 0E 0A 53 6F   // dColumn@...S..So
                                                                                                            75 72 63 65 54 65 78 74 2A 64 65 73 74 69 6E 61   // urceText*destina
                                                                                                            74 69 6F 6E 2E 4C 65 6E 67 74 68 20 2D 20 6F 66   // tion.Length - of
                                                                                                            66 73 65 74 20 3E 3D 20 74 68 69 73 2E 4C 65 6E   // fset >= this.Len
                                                                                                            67 74 68 )                                        // gth
    // Code size       159 (0x9f)
    .maxstack  12
    .locals init ([0] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_1,
             [2] int32 'return value',
             [3] int32 'SS$Display Return Local')
    .try
    {
      IL_0000:  ldarg.2
      IL_0001:  ldc.i4.0
      IL_0002:  blt        IL_0015

      IL_0007:  ldarg.2
      IL_0008:  ldarg.1
      IL_0009:  ldlen
      IL_000a:  conv.i4
      IL_000b:  bge        IL_0015

      IL_0010:  br         IL_0020

      IL_0015:  ldstr      "Precondition 'offset >= 0 && offset < destination."
      + "Length' violated from method 'Microsoft.Singularity.Io.Net.PacketFragme"
      + "nt.Copy(optional(Microsoft.Contracts.NonNullType) System.Byte[],System."
      + "Int32)'"
      IL_001a:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_001f:  throw

      IL_0020:  ldarg.1
      IL_0021:  ldlen
      IL_0022:  conv.i4
      IL_0023:  ldarg.2
      IL_0024:  sub
      IL_0025:  ldarg.0
      IL_0026:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Length()
      IL_002b:  blt        IL_0035

      IL_0030:  br         IL_0040

      IL_0035:  ldstr      "Precondition 'destination.Length - offset >= this."
      + "Length' violated from method 'Microsoft.Singularity.Io.Net.PacketFragme"
      + "nt.Copy(optional(Microsoft.Contracts.NonNullType) System.Byte[],System."
      + "Int32)'"
      IL_003a:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_003f:  throw

      IL_0040:  leave      IL_0048

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_0045:  stloc.0
      IL_0046:  rethrow
    }  // end handler
    IL_0048:  nop
    IL_0049:  ldarg.0
    IL_004a:  stloc.1
    IL_004b:  ldloc.1
    IL_004c:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_0051:  ldarg.0
      IL_0052:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_0057:  ldnull
      IL_0058:  beq        IL_0087

      IL_005d:  ldarg.0
      IL_005e:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_0063:  ldarg.0
      IL_0064:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::start
      IL_0069:  ldarg.0
      IL_006a:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_006f:  ldarg.1
      IL_0070:  ldarg.2
      IL_0071:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Bitter::ToByteArray(uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                       int32,
                                                                                                       int32,
                                                                                                       uint8[] modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                       int32)
      IL_0076:  ldarg.0
      IL_0077:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_007c:  stloc.2
      IL_007d:  leave      IL_009b

      IL_0082:  br         IL_008f

      IL_0087:  ldc.i4.0
      IL_0088:  stloc.2
      IL_0089:  leave      IL_009b

      IL_008e:  nop
      IL_008f:  leave      IL_009b

    }  // end .try
    finally
    {
      IL_0094:  ldloc.1
      IL_0095:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_009a:  endfinally
    }  // end handler
    IL_009b:  ldloc.2
    IL_009c:  stloc.3
    IL_009d:  ldloc.2
    IL_009e:  ret
  } // end of method PacketFragment::Copy

  .method public hidebysig instance void 
          Append(uint8 'value') cil managed
  {
    .custom instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresAttribute::.ctor(string) = ( 01 00 80 F7 3A 3A 3C 28 69 33 32 2C 69 33 32 29   // ....::<(i32,i32)
                                                                                                            7B 3A 3A 2B 28 69 33 32 2C 69 33 32 29 7B 3A 3A   // {::+(i32,i32){::
                                                                                                            24 44 65 72 65 66 7B 74 68 69 73 7D 40 4D 69 63   // $Deref{this}@Mic
                                                                                                            72 6F 73 6F 66 74 2E 53 69 6E 67 75 6C 61 72 69   // rosoft.Singulari
                                                                                                            74 79 2E 49 6F 2E 4E 65 74 2E 50 61 63 6B 65 74   // ty.Io.Net.Packet
                                                                                                            46 72 61 67 6D 65 6E 74 3A 3A 67 65 74 5F 53 74   // Fragment::get_St
                                                                                                            61 72 74 7B 7D 2C 3A 3A 24 44 65 72 65 66 7B 74   // art{},::$Deref{t
                                                                                                            68 69 73 7D 40 4D 69 63 72 6F 73 6F 66 74 2E 53   // his}@Microsoft.S
                                                                                                            69 6E 67 75 6C 61 72 69 74 79 2E 49 6F 2E 4E 65   // ingularity.Io.Ne
                                                                                                            74 2E 50 61 63 6B 65 74 46 72 61 67 6D 65 6E 74   // t.PacketFragment
                                                                                                            3A 3A 67 65 74 5F 4C 65 6E 67 74 68 7B 7D 7D 2C   // ::get_Length{}},
                                                                                                            3A 3A 24 44 65 72 65 66 7B 74 68 69 73 7D 40 4D   // ::$Deref{this}@M
                                                                                                            69 63 72 6F 73 6F 66 74 2E 53 69 6E 67 75 6C 61   // icrosoft.Singula
                                                                                                            72 69 74 79 2E 49 6F 2E 4E 65 74 2E 50 61 63 6B   // rity.Io.Net.Pack
                                                                                                            65 74 46 72 61 67 6D 65 6E 74 3A 3A 67 65 74 5F   // etFragment::get_
                                                                                                            43 61 70 61 63 69 74 79 7B 7D 7D 06 00 53 0E 08   // Capacity{}}..S..
                                                                                                            46 69 6C 65 6E 61 6D 65 59 43 3A 5C 55 73 65 72   // FilenameYC:\User
                                                                                                            73 5C 63 63 5C 73 6F 75 72 63 65 5C 72 65 70 6F   // s\cc\source\repo
                                                                                                            73 5C 53 69 6E 67 75 6C 61 72 69 74 79 2D 4F 53   // s\Singularity-OS
                                                                                                            5C 62 61 73 65 5C 43 6F 6E 74 72 61 63 74 73 5C   // \base\Contracts\
                                                                                                            49 6F 2E 4E 65 74 2E 43 6F 6E 74 72 61 63 74 73   // Io.Net.Contracts
                                                                                                            5C 50 61 63 6B 65 74 46 72 61 67 6D 65 6E 74 2E   // \PacketFragment.
                                                                                                            73 67 53 08 09 53 74 61 72 74 4C 69 6E 65 A4 00   // sgS..StartLine..
                                                                                                            00 00 53 08 0B 53 74 61 72 74 43 6F 6C 75 6D 6E   // ..S..StartColumn
                                                                                                            16 00 00 00 53 08 07 45 6E 64 4C 69 6E 65 A4 00   // ....S..EndLine..
                                                                                                            00 00 53 08 09 45 6E 64 43 6F 6C 75 6D 6E 3E 00   // ..S..EndColumn>.
                                                                                                            00 00 53 0E 0A 53 6F 75 72 63 65 54 65 78 74 28   // ..S..SourceText(
                                                                                                            74 68 69 73 2E 53 74 61 72 74 20 2B 20 74 68 69   // this.Start + thi
                                                                                                            73 2E 4C 65 6E 67 74 68 20 3C 20 74 68 69 73 2E   // s.Length < this.
                                                                                                            43 61 70 61 63 69 74 79 )                         // Capacity
    // Code size       152 (0x98)
    .maxstack  11
    .locals init ([0] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException V_0,
             [1] valuetype Microsoft.Singularity.Io.Net.PacketFragment& V_1,
             [2] class [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 'SS$Contract Marker',
             [3] int32 V_3)
    .try
    {
      IL_0000:  ldarg.0
      IL_0001:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Start()
      IL_0006:  ldarg.0
      IL_0007:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Length()
      IL_000c:  add
      IL_000d:  ldarg.0
      IL_000e:  call       instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Capacity()
      IL_0013:  bge        IL_001d

      IL_0018:  br         IL_0028

      IL_001d:  ldstr      "Precondition 'this.Start + this.Length < this.Capa"
      + "city' violated from method 'Microsoft.Singularity.Io.Net.PacketFragment"
      + ".Append(System.Byte)'"
      IL_0022:  newobj     instance void [System.Compiler.Runtime]Microsoft.Contracts.RequiresException::.ctor(string)
      IL_0027:  throw

      IL_0028:  leave      IL_0030

    }  // end .try
    catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
    {
      IL_002d:  stloc.0
      IL_002e:  rethrow
    }  // end handler
    IL_0030:  nop
    IL_0031:  ldarg.0
    IL_0032:  stloc.1
    IL_0033:  ldloc.1
    IL_0034:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::Expose()
    .try
    {
      IL_0039:  ldstr      "::!=(optional([Microsoft.SingSharp.Runtime]Microso"
      + "ft.SingSharp.CustomVector,optional([Microsoft.SingSharp.Runtime]Microso"
      + "ft.Singularity.Channels.ExHeap,u8*)),object){this@Microsoft.Singularity"
      + ".Io.Net.PacketFragment::data,null}"
      IL_003e:  ldstr      "this.data != null"
      IL_0043:  call       void [System.Compiler.Runtime]Microsoft.Contracts.AssertHelpers::AssertStatement(string,
                                                                                                            string)
      .try
      {
        IL_0048:  ldarg.0
        IL_0049:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
        IL_004e:  ldnull
        IL_004f:  bne.un     IL_005a

        IL_0054:  ldc.i4.0
        IL_0055:  call       void [System.Compiler.Runtime]Microsoft.Contracts.AssertHelpers::Assert(bool)
        IL_005a:  nop
        IL_005b:  leave      IL_0063

      }  // end .try
      catch [System.Compiler.Runtime]Microsoft.Contracts.ContractMarkerException 
      {
        IL_0060:  stloc.2
        IL_0061:  rethrow
      }  // end handler
      IL_0063:  nop
      IL_0064:  ldarg.0
      IL_0065:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
      IL_006a:  ldarg.0
      IL_006b:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::start
      IL_0070:  ldarg.0
      IL_0071:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_0076:  add
      IL_0077:  ldarg.1
      IL_0078:  stelem.i1
      IL_0079:  ldarg.0
      IL_007a:  ldfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_007f:  stloc.3
      IL_0080:  ldarg.0
      IL_0081:  ldloc.3
      IL_0082:  ldc.i4.1
      IL_0083:  add
      IL_0084:  stfld      int32 Microsoft.Singularity.Io.Net.PacketFragment::length
      IL_0089:  ldloc.3
      IL_008a:  pop
      IL_008b:  leave      IL_0097

    }  // end .try
    finally
    {
      IL_0090:  ldloc.1
      IL_0091:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::UnExpose()
      IL_0096:  endfinally
    }  // end handler
    IL_0097:  ret
  } // end of method PacketFragment::Append

  .method public hidebysig newslot virtual final 
          instance void  Dispose() cil managed
  {
    // Code size       27 (0x1b)
    .maxstack  2
    .locals init ([0] uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) V_0)
    IL_0000:  ldarg.0
    IL_0001:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
    IL_0006:  stloc.0
    IL_0007:  ldloc.0
    IL_0008:  brfalse    IL_0013

    IL_000d:  ldloc.0
    IL_000e:  call       void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap::Free(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_0013:  ldarg.0
    IL_0014:  ldnull
    IL_0015:  stfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
    IL_001a:  ret
  } // end of method PacketFragment::Dispose

  .method public instance void  TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target) cil managed
  {
    // Code size       21 (0x15)
    .maxstack  3
    .locals init ([0] uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) V_0)
    IL_0000:  ldarg.0
    IL_0001:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
    IL_0006:  stloc.0
    IL_0007:  ldloc.0
    IL_0008:  brfalse    IL_0014

    IL_000d:  ldarg.1
    IL_000e:  ldloc.0
    IL_000f:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_0014:  ret
  } // end of method PacketFragment::TransferContentsOwnership

  .method public static void  TransferOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) pointer) cil managed
  {
    // Code size       26 (0x1a)
    .maxstack  8
    IL_0000:  ldarg.1
    IL_0001:  brfalse    IL_0019

    IL_0006:  ldarg.1
    IL_0007:  castclass  valuetype Microsoft.Singularity.Io.Net.PacketFragment&
    IL_000c:  ldarg.0
    IL_000d:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
    IL_0012:  ldarg.0
    IL_0013:  ldarg.1
    IL_0014:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_0019:  ret
  } // end of method PacketFragment::TransferOwnership

  .method public static void  TransferVectorOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& target,
                                                      valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) pointer) cil managed
  {
    // Code size       45 (0x2d)
    .maxstack  5
    .locals init ([0] int32 V_0,
             [1] int32 V_1)
    IL_0000:  ldarg.1
    IL_0001:  brfalse    IL_002c

    IL_0006:  ldarg.1
    IL_0007:  ldlen
    IL_0008:  stloc.0
    IL_0009:  ldc.i4.0
    IL_000a:  stloc.1
    IL_000b:  ldloc.1
    IL_000c:  ldloc.0
    IL_000d:  bge        IL_0025

    IL_0012:  ldarg.1
    IL_0013:  ldloc.1
    IL_0014:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
    IL_0019:  ldarg.0
    IL_001a:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::TransferContentsOwnership(valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&)
    IL_001f:  ldloc.1
    IL_0020:  ldc.i4.1
    IL_0021:  add
    IL_0022:  stloc.1
    IL_0023:  br.s       IL_000b

    IL_0025:  ldarg.0
    IL_0026:  ldarg.1
    IL_0027:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::TransferBlockOwnership(void* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap))
    IL_002c:  ret
  } // end of method PacketFragment::TransferVectorOwnership

  .method public instance void  MarshallAll(uint8* basep,
                                            valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from) cil managed
  {
    // Code size       10 (0xa)
    .maxstack  8
    IL_0000:  ldarg.0
    IL_0001:  ldarg.1
    IL_0002:  ldarg.2
    IL_0003:  ldarg.0
    IL_0004:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::MarshallContent(uint8*,
                                                                                                    valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                    uint8*)
    IL_0009:  ret
  } // end of method PacketFragment::MarshallAll

  .method public static void  MarshallVector(uint8* basep,
                                             valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                             uint8* parent,
                                             valuetype Microsoft.Singularity.Io.Net.PacketFragment* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) 'vector') cil managed
  {
    // Code size       46 (0x2e)
    .maxstack  6
    .locals init ([0] int32 V_0,
             [1] int32 V_1)
    IL_0000:  ldarg.3
    IL_0001:  brfalse    IL_002d

    IL_0006:  ldarg.3
    IL_0007:  ldlen
    IL_0008:  stloc.0
    IL_0009:  ldc.i4.0
    IL_000a:  stloc.1
    IL_000b:  ldloc.1
    IL_000c:  ldloc.0
    IL_000d:  bge        IL_002d

    IL_0012:  ldarg.3
    IL_0013:  ldloc.1
    IL_0014:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
    IL_0019:  ldarg.0
    IL_001a:  ldarg.1
    IL_001b:  ldarg.3
    IL_001c:  ldc.i4.0
    IL_001d:  ldelema    Microsoft.Singularity.Io.Net.PacketFragment
    IL_0022:  call       instance void Microsoft.Singularity.Io.Net.PacketFragment::MarshallContent(uint8*,
                                                                                                    valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint&,
                                                                                                    uint8*)
    IL_0027:  ldloc.1
    IL_0028:  ldc.i4.1
    IL_0029:  add
    IL_002a:  stloc.1
    IL_002b:  br.s       IL_000b

    IL_002d:  ret
  } // end of method PacketFragment::MarshallVector

  .method public instance void  MarshallContent(uint8* basep,
                                                valuetype [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint& from,
                                                uint8* parent) cil managed
  {
    // Code size       81 (0x51)
    .maxstack  8
    .locals init ([0] uint8& V_0,
             [1] int32 V_1,
             [2] int32 V_2)
    IL_0000:  ldarg.2
    IL_0001:  ldarg.1
    IL_0002:  ldarg.0
    IL_0003:  ldflda     uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
    IL_0008:  ldtoken    [kernel]System.Byte
    IL_000d:  call       class [kernel]System.Type [kernel]System.Type::GetTypeFromHandle(valuetype [kernel]System.RuntimeTypeHandle)
    IL_0012:  ldarg.3
    IL_0013:  ldarg.0
    IL_0014:  ldflda     uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
    IL_0019:  conv.i
    IL_001a:  ldarg.3
    IL_001b:  conv.i
    IL_001c:  sub
    IL_001d:  call       instance void [Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.Endpoint::MarshallPointer(uint8* modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             void** modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             class [kernel]System.Type modopt([System.Compiler.Runtime]Microsoft.Contracts.NonNullType),
                                                                                                                             uint8*,
                                                                                                                             int32)
    IL_0022:  ldarg.0
    IL_0023:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
    IL_0028:  brfalse    IL_0050

    IL_002d:  ldarg.0
    IL_002e:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
    IL_0033:  castclass  uint8&
    IL_0038:  stloc.0
    IL_0039:  ldarg.0
    IL_003a:  ldfld      uint8* modopt([Microsoft.SingSharp.Runtime]Microsoft.Singularity.Channels.ExHeap) modopt([Microsoft.SingSharp.Runtime]Microsoft.SingSharp.CustomVector) Microsoft.Singularity.Io.Net.PacketFragment::data
    IL_003f:  ldlen
    IL_0040:  stloc.1
    IL_0041:  ldc.i4.0
    IL_0042:  stloc.2
    IL_0043:  ldloc.2
    IL_0044:  ldloc.1
    IL_0045:  bge        IL_0050

    IL_004a:  ldloc.2
    IL_004b:  ldc.i4.1
    IL_004c:  add
    IL_004d:  stloc.2
    IL_004e:  br.s       IL_0043

    IL_0050:  ret
  } // end of method PacketFragment::MarshallContent

  .method public virtual instance void  Expose() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method PacketFragment::Expose

  .method public virtual instance void  UnExpose() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method PacketFragment::UnExpose

  .method public virtual instance void  Acquire() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method PacketFragment::Acquire

  .method public virtual instance void  Release() cil managed
  {
    // Code size       1 (0x1)
    .maxstack  8
    IL_0000:  ret
  } // end of method PacketFragment::Release

  .property instance int32 Length()
  {
    .get instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Length()
    .set instance void Microsoft.Singularity.Io.Net.PacketFragment::set_Length(int32)
  } // end of property PacketFragment::Length
  .property instance int32 Capacity()
  {
    .get instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Capacity()
  } // end of property PacketFragment::Capacity
  .property instance int32 Start()
  {
    .get instance int32 Microsoft.Singularity.Io.Net.PacketFragment::get_Start()
  } // end of property PacketFragment::Start
  .property instance bool HasData()
  {
    .get instance bool Microsoft.Singularity.Io.Net.PacketFragment::get_HasData()
  } // end of property PacketFragment::HasData
} // end of class Microsoft.Singularity.Io.Net.PacketFragment


// =============================================================

// *********** DISASSEMBLY COMPLETE ***********************
